function Ov(n,e){for(var s=0;s<e.length;s++){const a=e[s];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const o=Object.getOwnPropertyDescriptor(a,l);o&&Object.defineProperty(n,l,o.get?o:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}})();function Rv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yu={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function zv(){if(Vp)return nl;Vp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:n,type:a,key:c,ref:l!==void 0?l:null,props:o}}return nl.Fragment=e,nl.jsx=s,nl.jsxs=s,nl}var qp;function Lv(){return qp||(qp=1,Yu.exports=zv()),Yu.exports}var d=Lv(),Fu={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Bv(){if(Yp)return _e;Yp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function S(k,P,$){this.props=k,this.context=P,this.refs=_,this.updater=$||v}S.prototype.isReactComponent={},S.prototype.setState=function(k,P){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,P,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=S.prototype;function T(k,P,$){this.props=k,this.context=P,this.refs=_,this.updater=$||v}var E=T.prototype=new C;E.constructor=T,j(E,S.prototype),E.isPureReactComponent=!0;var A=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function R(k,P,$,J,ae,de){return $=de.ref,{$$typeof:n,type:k,key:P,ref:$!==void 0?$:null,props:de}}function Y(k,P){return R(k.type,P,void 0,void 0,void 0,k.props)}function Z(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function ne(k){var P={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function($){return P[$]})}var G=/\/+/g;function se(k,P){return typeof k=="object"&&k!==null&&k.key!=null?ne(""+k.key):P.toString(36)}function me(){}function pe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(me,me):(k.status="pending",k.then(function(P){k.status==="pending"&&(k.status="fulfilled",k.value=P)},function(P){k.status==="pending"&&(k.status="rejected",k.reason=P)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function te(k,P,$,J,ae){var de=typeof k;(de==="undefined"||de==="boolean")&&(k=null);var re=!1;if(k===null)re=!0;else switch(de){case"bigint":case"string":case"number":re=!0;break;case"object":switch(k.$$typeof){case n:case e:re=!0;break;case b:return re=k._init,te(re(k._payload),P,$,J,ae)}}if(re)return ae=ae(k),re=J===""?"."+se(k,0):J,A(ae)?($="",re!=null&&($=re.replace(G,"$&/")+"/"),te(ae,P,$,"",function(Bt){return Bt})):ae!=null&&(Z(ae)&&(ae=Y(ae,$+(ae.key==null||k&&k.key===ae.key?"":(""+ae.key).replace(G,"$&/")+"/")+re)),P.push(ae)),1;re=0;var at=J===""?".":J+":";if(A(k))for(var Oe=0;Oe<k.length;Oe++)J=k[Oe],de=at+se(J,Oe),re+=te(J,P,$,de,ae);else if(Oe=y(k),typeof Oe=="function")for(k=Oe.call(k),Oe=0;!(J=k.next()).done;)J=J.value,de=at+se(J,Oe++),re+=te(J,P,$,de,ae);else if(de==="object"){if(typeof k.then=="function")return te(pe(k),P,$,J,ae);throw P=String(k),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return re}function B(k,P,$){if(k==null)return k;var J=[],ae=0;return te(k,J,"","",function(de){return P.call($,de,ae++)}),J}function X(k){if(k._status===-1){var P=k._result;P=P(),P.then(function($){(k._status===0||k._status===-1)&&(k._status=1,k._result=$)},function($){(k._status===0||k._status===-1)&&(k._status=2,k._result=$)}),k._status===-1&&(k._status=0,k._result=P)}if(k._status===1)return k._result.default;throw k._result}var ie=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function le(){}return _e.Children={map:B,forEach:function(k,P,$){B(k,function(){P.apply(this,arguments)},$)},count:function(k){var P=0;return B(k,function(){P++}),P},toArray:function(k){return B(k,function(P){return P})||[]},only:function(k){if(!Z(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_e.Component=S,_e.Fragment=s,_e.Profiler=l,_e.PureComponent=T,_e.StrictMode=a,_e.Suspense=h,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_e.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},_e.cache=function(k){return function(){return k.apply(null,arguments)}},_e.cloneElement=function(k,P,$){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var J=j({},k.props),ae=k.key,de=void 0;if(P!=null)for(re in P.ref!==void 0&&(de=void 0),P.key!==void 0&&(ae=""+P.key),P)!L.call(P,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&P.ref===void 0||(J[re]=P[re]);var re=arguments.length-2;if(re===1)J.children=$;else if(1<re){for(var at=Array(re),Oe=0;Oe<re;Oe++)at[Oe]=arguments[Oe+2];J.children=at}return R(k.type,ae,void 0,void 0,de,J)},_e.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},_e.createElement=function(k,P,$){var J,ae={},de=null;if(P!=null)for(J in P.key!==void 0&&(de=""+P.key),P)L.call(P,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=P[J]);var re=arguments.length-2;if(re===1)ae.children=$;else if(1<re){for(var at=Array(re),Oe=0;Oe<re;Oe++)at[Oe]=arguments[Oe+2];ae.children=at}if(k&&k.defaultProps)for(J in re=k.defaultProps,re)ae[J]===void 0&&(ae[J]=re[J]);return R(k,de,void 0,void 0,null,ae)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(k){return{$$typeof:f,render:k}},_e.isValidElement=Z,_e.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:X}},_e.memo=function(k,P){return{$$typeof:m,type:k,compare:P===void 0?null:P}},_e.startTransition=function(k){var P=D.T,$={};D.T=$;try{var J=k(),ae=D.S;ae!==null&&ae($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(le,ie)}catch(de){ie(de)}finally{D.T=P}},_e.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_e.use=function(k){return D.H.use(k)},_e.useActionState=function(k,P,$){return D.H.useActionState(k,P,$)},_e.useCallback=function(k,P){return D.H.useCallback(k,P)},_e.useContext=function(k){return D.H.useContext(k)},_e.useDebugValue=function(){},_e.useDeferredValue=function(k,P){return D.H.useDeferredValue(k,P)},_e.useEffect=function(k,P,$){var J=D.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(k,P)},_e.useId=function(){return D.H.useId()},_e.useImperativeHandle=function(k,P,$){return D.H.useImperativeHandle(k,P,$)},_e.useInsertionEffect=function(k,P){return D.H.useInsertionEffect(k,P)},_e.useLayoutEffect=function(k,P){return D.H.useLayoutEffect(k,P)},_e.useMemo=function(k,P){return D.H.useMemo(k,P)},_e.useOptimistic=function(k,P){return D.H.useOptimistic(k,P)},_e.useReducer=function(k,P,$){return D.H.useReducer(k,P,$)},_e.useRef=function(k){return D.H.useRef(k)},_e.useState=function(k){return D.H.useState(k)},_e.useSyncExternalStore=function(k,P,$){return D.H.useSyncExternalStore(k,P,$)},_e.useTransition=function(){return D.H.useTransition()},_e.version="19.1.1",_e}var Fp;function Dd(){return Fp||(Fp=1,Fu.exports=Bv()),Fu.exports}var N=Dd();const yo=Rv(N),Uv=Ov({__proto__:null,default:yo},[N]);var Xu={exports:{}},sl={},Gu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Pv(){return Xp||(Xp=1,(function(n){function e(B,X){var ie=B.length;B.push(X);e:for(;0<ie;){var le=ie-1>>>1,k=B[le];if(0<l(k,X))B[le]=X,B[ie]=k,ie=le;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var X=B[0],ie=B.pop();if(ie!==X){B[0]=ie;e:for(var le=0,k=B.length,P=k>>>1;le<P;){var $=2*(le+1)-1,J=B[$],ae=$+1,de=B[ae];if(0>l(J,ie))ae<k&&0>l(de,J)?(B[le]=de,B[ae]=ie,le=ae):(B[le]=J,B[$]=ie,le=$);else if(ae<k&&0>l(de,ie))B[le]=de,B[ae]=ie,le=ae;else break e}}return X}function l(B,X){var ie=B.sortIndex-X.sortIndex;return ie!==0?ie:B.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],m=[],b=1,x=null,y=3,v=!1,j=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var X=s(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=B)a(m),X.sortIndex=X.expirationTime,e(h,X);else break;X=s(m)}}function D(B){if(_=!1,A(B),!j)if(s(h)!==null)j=!0,L||(L=!0,se());else{var X=s(m);X!==null&&te(D,X.startTime-B)}}var L=!1,R=-1,Y=5,Z=-1;function ne(){return S?!0:!(n.unstable_now()-Z<Y)}function G(){if(S=!1,L){var B=n.unstable_now();Z=B;var X=!0;try{e:{j=!1,_&&(_=!1,T(R),R=-1),v=!0;var ie=y;try{t:{for(A(B),x=s(h);x!==null&&!(x.expirationTime>B&&ne());){var le=x.callback;if(typeof le=="function"){x.callback=null,y=x.priorityLevel;var k=le(x.expirationTime<=B);if(B=n.unstable_now(),typeof k=="function"){x.callback=k,A(B),X=!0;break t}x===s(h)&&a(h),A(B)}else a(h);x=s(h)}if(x!==null)X=!0;else{var P=s(m);P!==null&&te(D,P.startTime-B),X=!1}}break e}finally{x=null,y=ie,v=!1}X=void 0}}finally{X?se():L=!1}}}var se;if(typeof E=="function")se=function(){E(G)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,pe=me.port2;me.port1.onmessage=G,se=function(){pe.postMessage(null)}}else se=function(){C(G,0)};function te(B,X){R=C(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var ie=y;y=X;try{return B()}finally{y=ie}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=y;y=B;try{return X()}finally{y=ie}},n.unstable_scheduleCallback=function(B,X,ie){var le=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?le+ie:le):ie=le,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ie+k,B={id:b++,callback:X,priorityLevel:B,startTime:ie,expirationTime:k,sortIndex:-1},ie>le?(B.sortIndex=ie,e(m,B),s(h)===null&&B===s(m)&&(_?(T(R),R=-1):_=!0,te(D,ie-le))):(B.sortIndex=k,e(h,B),j||v||(j=!0,L||(L=!0,se()))),B},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(B){var X=y;return function(){var ie=y;y=X;try{return B.apply(this,arguments)}finally{y=ie}}}})($u)),$u}var Gp;function Hv(){return Gp||(Gp=1,Gu.exports=Pv()),Gu.exports}var Qu={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Vv(){if($p)return Et;$p=1;var n=Dd();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,m,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:h,containerInfo:m,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Et.createPortal=function(h,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,b)},Et.flushSync=function(h){var m=c.T,b=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=b,a.d.f()}},Et.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Et.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Et.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var b=m.as,x=f(b,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:v}):b==="script"&&a.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=f(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Et.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,x=f(b,m.crossOrigin);a.d.L(h,b,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(h,m){if(typeof h=="string")if(m){var b=f(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Et.requestFormReset=function(h){a.d.r(h)},Et.unstable_batchedUpdates=function(h,m){return h(m)},Et.useFormState=function(h,m,b){return c.H.useFormState(h,m,b)},Et.useFormStatus=function(){return c.H.useHostTransitionStatus()},Et.version="19.1.1",Et}var Qp;function Xb(){if(Qp)return Qu.exports;Qp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qu.exports=Vv(),Qu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function qv(){if(Wp)return sl;Wp=1;var n=Hv(),e=Dd(),s=Xb();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(o(t)!==t)throw Error(a(188))}function h(t){var i=t.alternate;if(!i){if(i=o(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,u=i;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return f(p),t;if(g===u)return f(p),i;g=g.sibling}throw Error(a(188))}if(r.return!==u.return)r=p,u=g;else{for(var w=!1,M=p.child;M;){if(M===r){w=!0,r=p,u=g;break}if(M===u){w=!0,u=p,r=g;break}M=M.sibling}if(!w){for(M=g.child;M;){if(M===r){w=!0,r=g,u=p;break}if(M===u){w=!0,u=g,r=p;break}M=M.sibling}if(!w)throw Error(a(189))}}if(r.alternate!==u)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function m(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=m(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case E:return(t.displayName||"Context")+".Provider";case T:return(t._context.displayName||"Context")+".Consumer";case A:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case Y:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}var te=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},le=[],k=-1;function P(t){return{current:t}}function $(t){0>k||(t.current=le[k],le[k]=null,k--)}function J(t,i){k++,le[k]=t.current,t.current=i}var ae=P(null),de=P(null),re=P(null),at=P(null);function Oe(t,i){switch(J(re,i),J(de,t),J(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?pp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=pp(i),t=gp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),J(ae,t)}function Bt(){$(ae),$(de),$(re)}function ts(t){t.memoizedState!==null&&J(at,t);var i=ae.current,r=gp(i,t.type);i!==r&&(J(de,t),J(ae,r))}function sn(t){de.current===t&&($(ae),$(de)),at.current===t&&($(at),Za._currentValue=ie)}var ns=Object.prototype.hasOwnProperty,ee=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,je=n.unstable_shouldYield,xe=n.unstable_requestPaint,ye=n.unstable_now,Be=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,Pe=n.unstable_UserBlockingPriority,We=n.unstable_NormalPriority,vn=n.unstable_LowPriority,et=n.unstable_IdlePriority,wn=n.log,Q=n.unstable_setDisableYieldValue,Se=null,oe=null;function fe(t){if(typeof wn=="function"&&Q(t),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(Se,t)}catch{}}var Ce=Math.clz32?Math.clz32:Ke,vt=Math.log,Mt=Math.LN2;function Ke(t){return t>>>=0,t===0?32:31-(vt(t)/Mt|0)|0}var Ye=256,Ze=4194304;function _n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,i,r){var u=t.pendingLanes;if(u===0)return 0;var p=0,g=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var M=u&134217727;return M!==0?(u=M&~g,u!==0?p=_n(u):(w&=M,w!==0?p=_n(w):r||(r=M&~t,r!==0&&(p=_n(r))))):(M=u&~g,M!==0?p=_n(M):w!==0?p=_n(w):r||(r=u&~t,r!==0&&(p=_n(r)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,r=i&-i,g>=r||g===32&&(r&4194048)!==0)?i:p}function la(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function v0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zd(){var t=Ye;return Ye<<=1,(Ye&4194048)===0&&(Ye=256),t}function Id(){var t=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),t}function Eo(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function ra(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function w0(t,i,r,u,p,g){var w=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var M=t.entanglements,O=t.expirationTimes,V=t.hiddenUpdates;for(r=w&~r;0<r;){var W=31-Ce(r),I=1<<W;M[W]=0,O[W]=-1;var q=V[W];if(q!==null)for(V[W]=null,W=0;W<q.length;W++){var F=q[W];F!==null&&(F.lane&=-536870913)}r&=~I}u!==0&&Jd(t,u,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(w&~i))}function Jd(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Ce(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|r&4194090}function ef(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var u=31-Ce(r),p=1<<u;p&i|t[u]&i&&(t[u]|=i),r&=~p}}function Oo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ro(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tf(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:zp(t.type))}function _0(t,i){var r=X.p;try{return X.p=t,i()}finally{X.p=r}}var ss=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ss,Vt="__reactProps$"+ss,di="__reactContainer$"+ss,zo="__reactEvents$"+ss,j0="__reactListeners$"+ss,S0="__reactHandles$"+ss,nf="__reactResources$"+ss,oa="__reactMarker$"+ss;function Lo(t){delete t[Dt],delete t[Vt],delete t[zo],delete t[j0],delete t[S0]}function fi(t){var i=t[Dt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[di]||r[Dt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=vp(t);t!==null;){if(r=t[Dt])return r;t=vp(t)}return i}t=r,r=t.parentNode}return null}function hi(t){if(t=t[Dt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ca(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function mi(t){var i=t[nf];return i||(i=t[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[oa]=!0}var sf=new Set,af={};function zs(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(af[t]=i,t=0;t<i.length;t++)sf.add(i[t])}var N0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lf={},rf={};function M0(t){return ns.call(rf,t)?!0:ns.call(lf,t)?!1:N0.test(t)?rf[t]=!0:(lf[t]=!0,!1)}function Rl(t,i,r){if(M0(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function zl(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function An(t,i,r,u){if(u===null)t.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+u)}}var Bo,of;function gi(t){if(Bo===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Bo=i&&i[1]||"",of=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bo+t+of}var Uo=!1;function Po(t,i){if(!t||Uo)return"";Uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(F){var q=F}Reflect.construct(t,[],I)}else{try{I.call()}catch(F){q=F}t.call(I.prototype)}}else{try{throw Error()}catch(F){q=F}(I=t())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],M=g[1];if(w&&M){var O=w.split(`
`),V=M.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===V.length)for(u=O.length-1,p=V.length-1;1<=u&&0<=p&&O[u]!==V[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==V[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==V[p]){var W=`
`+O[u].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=u&&0<=p);break}}}finally{Uo=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?gi(r):""}function C0(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Po(t.type,!1);case 11:return Po(t.type.render,!1);case 1:return Po(t.type,!0);case 31:return gi("Activity");default:return""}}function cf(t){try{var i="";do i+=C0(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uf(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function k0(t){var i=uf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,g=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ll(t){t._valueTracker||(t._valueTracker=k0(t))}function df(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),u="";return t&&(u=uf(t)?t.checked?"true":"false":t.value),t=u,t!==r?(i.setValue(t),!0):!1}function Bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var T0=/[\n"\\]/g;function ln(t){return t.replace(T0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ho(t,i,r,u,p,g,w,M){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Vo(t,w,an(i)):r!=null?Vo(t,w,an(r)):u!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+an(M):t.removeAttribute("name")}function ff(t,i,r,u,p,g,w,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;r=r!=null?""+an(r):"",i=i!=null?""+an(i):r,M||i===t.value||(t.value=i),t.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=M?t.checked:!!u,t.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Vo(t,i,r){i==="number"&&Bl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function bi(t,i,r,u){if(t=t.options,i){i={};for(var p=0;p<r.length;p++)i["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=i.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&u&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),i=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function hf(t,i,r){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+an(r):""}function mf(t,i,r,u){if(i==null){if(u!=null){if(r!=null)throw Error(a(92));if(te(u)){if(1<u.length)throw Error(a(93));u=u[0]}r=u}r==null&&(r=""),i=r}r=an(i),t.defaultValue=r,u=t.textContent,u===r&&u!==""&&u!==null&&(t.value=u)}function xi(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var D0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(t,i,r){var u=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,r):typeof r!="number"||r===0||D0.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function gf(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&r[p]!==u&&pf(t,p,u)}else for(var g in i)i.hasOwnProperty(g)&&pf(t,g,i[g])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(t){return E0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yo=null;function Fo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,vi=null;function bf(t){var i=hi(t);if(i&&(t=i.stateNode)){var r=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ho(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var u=r[i];if(u!==t&&u.form===t.form){var p=u[Vt]||null;if(!p)throw Error(a(90));Ho(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<r.length;i++)u=r[i],u.form===t.form&&df(u)}break e;case"textarea":hf(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&bi(t,!!r.multiple,i,!1)}}}var Xo=!1;function xf(t,i,r){if(Xo)return t(i,r);Xo=!0;try{var u=t(i);return u}finally{if(Xo=!1,(yi!==null||vi!==null)&&(jr(),yi&&(i=yi,t=vi,vi=yi=null,bf(i),t)))for(i=0;i<t.length;i++)bf(t[i])}}function ua(t,i){var r=t.stateNode;if(r===null)return null;var u=r[Vt]||null;if(u===null)return null;r=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Go=!1;if(En)try{var da={};Object.defineProperty(da,"passive",{get:function(){Go=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Go=!1}var is=null,$o=null,Pl=null;function yf(){if(Pl)return Pl;var t,i=$o,r=i.length,u,p="value"in is?is.value:is.textContent,g=p.length;for(t=0;t<r&&i[t]===p[t];t++);var w=r-t;for(u=1;u<=w&&i[r-u]===p[g-u];u++);return Pl=p.slice(t,1<u?1-u:void 0)}function Hl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vl(){return!0}function vf(){return!1}function qt(t){function i(r,u,p,g,w){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(r=t[M],this[M]=r?r(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vl:vf,this.isPropagationStopped=vf,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),i}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=qt(Ls),fa=b({},Ls,{view:0,detail:0}),O0=qt(fa),Qo,Wo,ha,Yl=b({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(Qo=t.screenX-ha.screenX,Wo=t.screenY-ha.screenY):Wo=Qo=0,ha=t),Qo)},movementY:function(t){return"movementY"in t?t.movementY:Wo}}),wf=qt(Yl),R0=b({},Yl,{dataTransfer:0}),z0=qt(R0),L0=b({},fa,{relatedTarget:0}),Ko=qt(L0),B0=b({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=qt(B0),P0=b({},Ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H0=qt(P0),V0=b({},Ls,{data:0}),_f=qt(V0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=F0[t])?!!i[t]:!1}function Zo(){return X0}var G0=b({},fa,{key:function(t){if(t.key){var i=q0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(t){return t.type==="keypress"?Hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$0=qt(G0),Q0=b({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=qt(Q0),W0=b({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),K0=qt(W0),Z0=b({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=qt(Z0),J0=b({},Yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ey=qt(J0),ty=b({},Ls,{newState:0,oldState:0}),ny=qt(ty),sy=[9,13,27,32],Io=En&&"CompositionEvent"in window,ma=null;En&&"documentMode"in document&&(ma=document.documentMode);var iy=En&&"TextEvent"in window&&!ma,Sf=En&&(!Io||ma&&8<ma&&11>=ma),Nf=" ",Mf=!1;function Cf(t,i){switch(t){case"keyup":return sy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function ay(t,i){switch(t){case"compositionend":return kf(i);case"keypress":return i.which!==32?null:(Mf=!0,Nf);case"textInput":return t=i.data,t===Nf&&Mf?null:t;default:return null}}function ly(t,i){if(wi)return t==="compositionend"||!Io&&Cf(t,i)?(t=yf(),Pl=$o=is=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sf&&i.locale!=="ko"?null:i.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ry[t.type]:i==="textarea"}function Df(t,i,r,u){yi?vi?vi.push(u):vi=[u]:yi=u,i=Tr(i,"onChange"),0<i.length&&(r=new ql("onChange","change",null,r,u),t.push({event:r,listeners:i}))}var pa=null,ga=null;function oy(t){up(t,0)}function Fl(t){var i=ca(t);if(df(i))return t}function Af(t,i){if(t==="change")return i}var Ef=!1;if(En){var Jo;if(En){var ec="oninput"in document;if(!ec){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),ec=typeof Of.oninput=="function"}Jo=ec}else Jo=!1;Ef=Jo&&(!document.documentMode||9<document.documentMode)}function Rf(){pa&&(pa.detachEvent("onpropertychange",zf),ga=pa=null)}function zf(t){if(t.propertyName==="value"&&Fl(ga)){var i=[];Df(i,ga,t,Fo(t)),xf(oy,i)}}function cy(t,i,r){t==="focusin"?(Rf(),pa=i,ga=r,pa.attachEvent("onpropertychange",zf)):t==="focusout"&&Rf()}function uy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(ga)}function dy(t,i){if(t==="click")return Fl(i)}function fy(t,i){if(t==="input"||t==="change")return Fl(i)}function hy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Qt=typeof Object.is=="function"?Object.is:hy;function ba(t,i){if(Qt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),u=Object.keys(i);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!ns.call(i,p)||!Qt(t[p],i[p]))return!1}return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bf(t,i){var r=Lf(t);t=0;for(var u;r;){if(r.nodeType===3){if(u=t+r.textContent.length,t<=i&&u>=i)return{node:r,offset:i-t};t=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lf(r)}}function Uf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Uf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Pf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bl(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Bl(t.document)}return i}function tc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var my=En&&"documentMode"in document&&11>=document.documentMode,_i=null,nc=null,xa=null,sc=!1;function Hf(t,i,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sc||_i==null||_i!==Bl(u)||(u=_i,"selectionStart"in u&&tc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xa&&ba(xa,u)||(xa=u,u=Tr(nc,"onSelect"),0<u.length&&(i=new ql("onSelect","select",null,i,r),t.push({event:i,listeners:u}),i.target=_i)))}function Bs(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var ji={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},ic={},Vf={};En&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function Us(t){if(ic[t])return ic[t];if(!ji[t])return t;var i=ji[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Vf)return ic[t]=i[r];return t}var qf=Us("animationend"),Yf=Us("animationiteration"),Ff=Us("animationstart"),py=Us("transitionrun"),gy=Us("transitionstart"),by=Us("transitioncancel"),Xf=Us("transitionend"),Gf=new Map,ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ac.push("scrollEnd");function pn(t,i){Gf.set(t,i),zs(i,[t])}var $f=new WeakMap;function rn(t,i){if(typeof t=="object"&&t!==null){var r=$f.get(t);return r!==void 0?r:(i={value:t,source:i,stack:cf(i)},$f.set(t,i),i)}return{value:t,source:i,stack:cf(i)}}var on=[],Si=0,lc=0;function Xl(){for(var t=Si,i=lc=Si=0;i<t;){var r=on[i];on[i++]=null;var u=on[i];on[i++]=null;var p=on[i];on[i++]=null;var g=on[i];if(on[i++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}g!==0&&Qf(r,p,g)}}function Gl(t,i,r,u){on[Si++]=t,on[Si++]=i,on[Si++]=r,on[Si++]=u,lc|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function rc(t,i,r,u){return Gl(t,i,r,u),$l(t)}function Ni(t,i){return Gl(t,null,null,i),$l(t)}function Qf(t,i,r){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,u=g.alternate,u!==null&&(u.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&i!==null&&(p=31-Ce(r),t=g.hiddenUpdates,u=t[p],u===null?t[p]=[i]:u.push(i),i.lane=r|536870912),g):null}function $l(t){if(50<Ya)throw Ya=0,hu=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Mi={};function xy(t,i,r,u){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,i,r,u){return new xy(t,i,r,u)}function oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function On(t,i){var r=t.alternate;return r===null?(r=Wt(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Wf(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ql(t,i,r,u,p,g){var w=0;if(u=t,typeof t=="function")oc(t)&&(w=1);else if(typeof t=="string")w=vv(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=Wt(31,r,i,p),t.elementType=Z,t.lanes=g,t;case j:return Ps(r.children,p,g,i);case _:w=8,p|=24;break;case S:return t=Wt(12,r,i,p|2),t.elementType=S,t.lanes=g,t;case D:return t=Wt(13,r,i,p),t.elementType=D,t.lanes=g,t;case L:return t=Wt(19,r,i,p),t.elementType=L,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case E:w=10;break e;case T:w=9;break e;case A:w=11;break e;case R:w=14;break e;case Y:w=16,u=null;break e}w=29,r=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=Wt(w,r,i,p),i.elementType=t,i.type=u,i.lanes=g,i}function Ps(t,i,r,u){return t=Wt(7,t,u,i),t.lanes=r,t}function cc(t,i,r){return t=Wt(6,t,null,i),t.lanes=r,t}function uc(t,i,r){return i=Wt(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ci=[],ki=0,Wl=null,Kl=0,cn=[],un=0,Hs=null,Rn=1,zn="";function Vs(t,i){Ci[ki++]=Kl,Ci[ki++]=Wl,Wl=t,Kl=i}function Kf(t,i,r){cn[un++]=Rn,cn[un++]=zn,cn[un++]=Hs,Hs=t;var u=Rn;t=zn;var p=32-Ce(u)-1;u&=~(1<<p),r+=1;var g=32-Ce(i)+p;if(30<g){var w=p-p%5;g=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Rn=1<<32-Ce(i)+p|r<<p|u,zn=g+t}else Rn=1<<g|r<<p|u,zn=t}function dc(t){t.return!==null&&(Vs(t,1),Kf(t,1,0))}function fc(t){for(;t===Wl;)Wl=Ci[--ki],Ci[ki]=null,Kl=Ci[--ki],Ci[ki]=null;for(;t===Hs;)Hs=cn[--un],cn[un]=null,zn=cn[--un],cn[un]=null,Rn=cn[--un],cn[un]=null}var Ut=null,rt=null,Ue=!1,qs=null,jn=!1,hc=Error(a(519));function Ys(t){var i=Error(a(418,""));throw wa(rn(i,t)),hc}function Zf(t){var i=t.stateNode,r=t.type,u=t.memoizedProps;switch(i[Dt]=t,i[Vt]=u,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(r=0;r<Xa.length;r++)Te(Xa[r],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),ff(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ll(i);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),mf(i,u.value,u.defaultValue,u.children),Ll(i)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||u.suppressHydrationWarning===!0||mp(i.textContent,r)?(u.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),u.onScroll!=null&&Te("scroll",i),u.onScrollEnd!=null&&Te("scrollend",i),u.onClick!=null&&(i.onclick=Dr),i=!0):i=!1,i||Ys(t)}function If(t){for(Ut=t.return;Ut;)switch(Ut.tag){case 5:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ut=Ut.return}}function ya(t){if(t!==Ut)return!1;if(!Ue)return If(t),Ue=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tu(t.type,t.memoizedProps)),r=!r),r&&rt&&Ys(t),If(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){rt=bn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}rt=null}}else i===27?(i=rt,vs(t.type)?(t=Ou,Ou=null,rt=t):rt=i):rt=Ut?bn(t.stateNode.nextSibling):null;return!0}function va(){rt=Ut=null,Ue=!1}function Jf(){var t=qs;return t!==null&&(Xt===null?Xt=t:Xt.push.apply(Xt,t),qs=null),t}function wa(t){qs===null?qs=[t]:qs.push(t)}var mc=P(null),Fs=null,Ln=null;function as(t,i,r){J(mc,i._currentValue),i._currentValue=r}function Bn(t){t._currentValue=mc.current,$(mc)}function pc(t,i,r){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===r)break;t=t.return}}function gc(t,i,r,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;e:for(;g!==null;){var M=g;g=p;for(var O=0;O<i.length;O++)if(M.context===i[O]){g.lanes|=r,M=g.alternate,M!==null&&(M.lanes|=r),pc(g.return,r,t),u||(w=null);break e}g=M.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(a(341));w.lanes|=r,g=w.alternate,g!==null&&(g.lanes|=r),pc(w,r,t),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===t){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function _a(t,i,r,u){t=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var M=p.type;Qt(p.pendingProps.value,w.value)||(t!==null?t.push(M):t=[M])}}else if(p===at.current){if(w=p.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Za):t=[Za])}p=p.return}t!==null&&gc(i,t,r,u),i.flags|=262144}function Zl(t){for(t=t.firstContext;t!==null;){if(!Qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){Fs=t,Ln=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return eh(Fs,t)}function Il(t,i){return Fs===null&&Xs(t),eh(t,i)}function eh(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Ln===null){if(t===null)throw Error(a(308));Ln=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ln=Ln.next=i;return r}var yy=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},vy=n.unstable_scheduleCallback,wy=n.unstable_NormalPriority,gt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bc(){return{controller:new yy,data:new Map,refCount:0}}function ja(t){t.refCount--,t.refCount===0&&vy(wy,function(){t.controller.abort()})}var Sa=null,xc=0,Ti=0,Di=null;function _y(t,i){if(Sa===null){var r=Sa=[];xc=0,Ti=vu(),Di={status:"pending",value:void 0,then:function(u){r.push(u)}}}return xc++,i.then(th,th),i}function th(){if(--xc===0&&Sa!==null){Di!==null&&(Di.status="fulfilled");var t=Sa;Sa=null,Ti=0,Di=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jy(t,i){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<r.length;p++)(0,r[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var nh=B.S;B.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_y(t,i),nh!==null&&nh(t,i)};var Gs=P(null);function yc(){var t=Gs.current;return t!==null?t:Ie.pooledCache}function Jl(t,i){i===null?J(Gs,Gs.current):J(Gs,i.pool)}function sh(){var t=yc();return t===null?null:{parent:gt._currentValue,pool:t}}var Na=Error(a(460)),ih=Error(a(474)),er=Error(a(542)),vc={then:function(){}};function ah(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tr(){}function lh(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(tr,tr),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oh(t),t;default:if(typeof i.status=="string")i.then(tr,tr);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oh(t),t}throw Ma=i,Na}}var Ma=null;function rh(){if(Ma===null)throw Error(a(459));var t=Ma;return Ma=null,t}function oh(t){if(t===Na||t===er)throw Error(a(483))}var ls=!1;function wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function os(t,i,r){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=$l(t),Qf(t,null,r),i}return Gl(t,u,i,r),$l(t)}function Ca(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,r|=u,i.lanes=r,ef(t,r)}}function jc(t,i){var r=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,r=r.next}while(r!==null);g===null?p=g=i:g=g.next=i}else p=g=i;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Sc=!1;function ka(){if(Sc){var t=Di;if(t!==null)throw t}}function Ta(t,i,r,u){Sc=!1;var p=t.updateQueue;ls=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var O=M,V=O.next;O.next=null,w===null?g=V:w.next=V,w=O;var W=t.alternate;W!==null&&(W=W.updateQueue,M=W.lastBaseUpdate,M!==w&&(M===null?W.firstBaseUpdate=V:M.next=V,W.lastBaseUpdate=O))}if(g!==null){var I=p.baseState;w=0,W=V=O=null,M=g;do{var q=M.lane&-536870913,F=q!==M.lane;if(F?(Ee&q)===q:(u&q)===q){q!==0&&q===Ti&&(Sc=!0),W!==null&&(W=W.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var be=t,he=M;q=i;var Ge=r;switch(he.tag){case 1:if(be=he.payload,typeof be=="function"){I=be.call(Ge,I,q);break e}I=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=he.payload,q=typeof be=="function"?be.call(Ge,I,q):be,q==null)break e;I=b({},I,q);break e;case 2:ls=!0}}q=M.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=p.callbacks,F===null?p.callbacks=[q]:F.push(q))}else F={lane:q,tag:M.tag,payload:M.payload,callback:M.callback,next:null},W===null?(V=W=F,O=I):W=W.next=F,w|=q;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;F=M,M=F.next,F.next=null,p.lastBaseUpdate=F,p.shared.pending=null}}while(!0);W===null&&(O=I),p.baseState=O,p.firstBaseUpdate=V,p.lastBaseUpdate=W,g===null&&(p.shared.lanes=0),gs|=w,t.lanes=w,t.memoizedState=I}}function ch(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function uh(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ch(r[t],i)}var Ai=P(null),nr=P(0);function dh(t,i){t=Fn,J(nr,t),J(Ai,i),Fn=t|i.baseLanes}function Nc(){J(nr,Fn),J(Ai,Ai.current)}function Mc(){Fn=nr.current,$(Ai),$(nr)}var cs=0,Ne=null,Fe=null,mt=null,sr=!1,Ei=!1,$s=!1,ir=0,Da=0,Oi=null,Sy=0;function dt(){throw Error(a(321))}function Cc(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Qt(t[r],i[r]))return!1;return!0}function kc(t,i,r,u,p,g){return cs=g,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?Qh:Wh,$s=!1,g=r(u,p),$s=!1,Ei&&(g=hh(i,r,u,p)),fh(t),g}function fh(t){B.H=ur;var i=Fe!==null&&Fe.next!==null;if(cs=0,mt=Fe=Ne=null,sr=!1,Da=0,Oi=null,i)throw Error(a(300));t===null||_t||(t=t.dependencies,t!==null&&Zl(t)&&(_t=!0))}function hh(t,i,r,u){Ne=t;var p=0;do{if(Ei&&(Oi=null),Da=0,Ei=!1,25<=p)throw Error(a(301));if(p+=1,mt=Fe=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=Ay,g=i(r,u)}while(Ei);return g}function Ny(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?Aa(i):i,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Tc(){var t=ir!==0;return ir=0,t}function Dc(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Ac(t){if(sr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sr=!1}cs=0,mt=Fe=Ne=null,Ei=!1,Da=ir=0,Oi=null}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ne.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Fe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var i=mt===null?Ne.memoizedState:mt.next;if(i!==null)mt=i,Fe=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},mt===null?Ne.memoizedState=mt=t:mt=mt.next=t}return mt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Aa(t){var i=Da;return Da+=1,Oi===null&&(Oi=[]),t=lh(Oi,t,i),i=Ne,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Qh:Wh),t}function ar(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Aa(t);if(t.$$typeof===E)return At(t)}throw Error(a(438,String(t)))}function Oc(t){var i=null,r=Ne.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Ec(),Ne.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),u=0;u<t;u++)r[u]=ne;return i.index++,r}function Un(t,i){return typeof i=="function"?i(t):i}function lr(t){var i=pt();return Rc(i,Fe,t)}function Rc(t,i,r){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var p=t.baseQueue,g=u.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}i.baseQueue=p=g,u.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{i=p.next;var M=w=null,O=null,V=i,W=!1;do{var I=V.lane&-536870913;if(I!==V.lane?(Ee&I)===I:(cs&I)===I){var q=V.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),I===Ti&&(W=!0);else if((cs&q)===q){V=V.next,q===Ti&&(W=!0);continue}else I={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},O===null?(M=O=I,w=g):O=O.next=I,Ne.lanes|=q,gs|=q;I=V.action,$s&&r(g,I),g=V.hasEagerState?V.eagerState:r(g,I)}else q={lane:I,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},O===null?(M=O=q,w=g):O=O.next=q,Ne.lanes|=I,gs|=I;V=V.next}while(V!==null&&V!==i);if(O===null?w=g:O.next=M,!Qt(g,t.memoizedState)&&(_t=!0,W&&(r=Di,r!==null)))throw r;t.memoizedState=g,t.baseState=w,t.baseQueue=O,u.lastRenderedState=g}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function zc(t){var i=pt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var u=r.dispatch,p=r.pending,g=i.memoizedState;if(p!==null){r.pending=null;var w=p=p.next;do g=t(g,w.action),w=w.next;while(w!==p);Qt(g,i.memoizedState)||(_t=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,u]}function mh(t,i,r){var u=Ne,p=pt(),g=Ue;if(g){if(r===void 0)throw Error(a(407));r=r()}else r=i();var w=!Qt((Fe||p).memoizedState,r);w&&(p.memoizedState=r,_t=!0),p=p.queue;var M=bh.bind(null,u,p,t);if(Ea(2048,8,M,[t]),p.getSnapshot!==i||w||mt!==null&&mt.memoizedState.tag&1){if(u.flags|=2048,Ri(9,rr(),gh.bind(null,u,p,r,i),null),Ie===null)throw Error(a(349));g||(cs&124)!==0||ph(u,i,r)}return r}function ph(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ne.updateQueue,i===null?(i=Ec(),Ne.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function gh(t,i,r,u){i.value=r,i.getSnapshot=u,xh(i)&&yh(t)}function bh(t,i,r){return r(function(){xh(i)&&yh(t)})}function xh(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Qt(t,r)}catch{return!0}}function yh(t){var i=Ni(t,2);i!==null&&en(i,t,2)}function Lc(t){var i=Yt();if(typeof t=="function"){var r=t;if(t=r(),$s){fe(!0);try{r()}finally{fe(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:t},i}function vh(t,i,r,u){return t.baseState=r,Rc(t,Fe,typeof u=="function"?u:Un)}function My(t,i,r,u,p){if(cr(t))throw Error(a(485));if(t=i.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};B.T!==null?r(!0):g.isTransition=!1,u(g),r=i.pending,r===null?(g.next=i.pending=g,wh(i,g)):(g.next=r.next,i.pending=r.next=g)}}function wh(t,i){var r=i.action,u=i.payload,p=t.state;if(i.isTransition){var g=B.T,w={};B.T=w;try{var M=r(p,u),O=B.S;O!==null&&O(w,M),_h(t,i,M)}catch(V){Bc(t,i,V)}finally{B.T=g}}else try{g=r(p,u),_h(t,i,g)}catch(V){Bc(t,i,V)}}function _h(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){jh(t,i,u)},function(u){return Bc(t,i,u)}):jh(t,i,r)}function jh(t,i,r){i.status="fulfilled",i.value=r,Sh(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,wh(t,r)))}function Bc(t,i,r){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=r,Sh(i),i=i.next;while(i!==u)}t.action=null}function Sh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Nh(t,i){return i}function Mh(t,i){if(Ue){var r=Ie.formState;if(r!==null){e:{var u=Ne;if(Ue){if(rt){t:{for(var p=rt,g=jn;p.nodeType!==8;){if(!g){p=null;break t}if(p=bn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){rt=bn(p.nextSibling),u=p.data==="F!";break e}}Ys(u)}u=!1}u&&(i=r[0])}}return r=Yt(),r.memoizedState=r.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:i},r.queue=u,r=Xh.bind(null,Ne,u),u.dispatch=r,u=Lc(!1),g=qc.bind(null,Ne,!1,u.queue),u=Yt(),p={state:i,dispatch:null,action:t,pending:null},u.queue=p,r=My.bind(null,Ne,p,g,r),p.dispatch=r,u.memoizedState=t,[i,r,!1]}function Ch(t){var i=pt();return kh(i,Fe,t)}function kh(t,i,r){if(i=Rc(t,i,Nh)[0],t=lr(Un)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Aa(i)}catch(w){throw w===Na?er:w}else u=i;i=pt();var p=i.queue,g=p.dispatch;return r!==i.memoizedState&&(Ne.flags|=2048,Ri(9,rr(),Cy.bind(null,p,r),null)),[u,g,t]}function Cy(t,i){t.action=i}function Th(t){var i=pt(),r=Fe;if(r!==null)return kh(i,r,t);pt(),i=i.memoizedState,r=pt();var u=r.queue.dispatch;return r.memoizedState=t,[i,u,!1]}function Ri(t,i,r,u){return t={tag:t,create:r,deps:u,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Ec(),Ne.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(u=r.next,r.next=t,t.next=u,i.lastEffect=t),t}function rr(){return{destroy:void 0,resource:void 0}}function Dh(){return pt().memoizedState}function or(t,i,r,u){var p=Yt();u=u===void 0?null:u,Ne.flags|=t,p.memoizedState=Ri(1|i,rr(),r,u)}function Ea(t,i,r,u){var p=pt();u=u===void 0?null:u;var g=p.memoizedState.inst;Fe!==null&&u!==null&&Cc(u,Fe.memoizedState.deps)?p.memoizedState=Ri(i,g,r,u):(Ne.flags|=t,p.memoizedState=Ri(1|i,g,r,u))}function Ah(t,i){or(8390656,8,t,i)}function Eh(t,i){Ea(2048,8,t,i)}function Oh(t,i){return Ea(4,2,t,i)}function Rh(t,i){return Ea(4,4,t,i)}function zh(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Lh(t,i,r){r=r!=null?r.concat([t]):null,Ea(4,4,zh.bind(null,i,t),r)}function Uc(){}function Bh(t,i){var r=pt();i=i===void 0?null:i;var u=r.memoizedState;return i!==null&&Cc(i,u[1])?u[0]:(r.memoizedState=[t,i],t)}function Uh(t,i){var r=pt();i=i===void 0?null:i;var u=r.memoizedState;if(i!==null&&Cc(i,u[1]))return u[0];if(u=t(),$s){fe(!0);try{t()}finally{fe(!1)}}return r.memoizedState=[u,i],u}function Pc(t,i,r){return r===void 0||(cs&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=Vm(),Ne.lanes|=t,gs|=t,r)}function Ph(t,i,r,u){return Qt(r,i)?r:Ai.current!==null?(t=Pc(t,r,u),Qt(t,i)||(_t=!0),t):(cs&42)===0?(_t=!0,t.memoizedState=r):(t=Vm(),Ne.lanes|=t,gs|=t,i)}function Hh(t,i,r,u,p){var g=X.p;X.p=g!==0&&8>g?g:8;var w=B.T,M={};B.T=M,qc(t,!1,i,r);try{var O=p(),V=B.S;if(V!==null&&V(M,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=jy(O,u);Oa(t,i,W,Jt(t))}else Oa(t,i,u,Jt(t))}catch(I){Oa(t,i,{then:function(){},status:"rejected",reason:I},Jt())}finally{X.p=g,B.T=w}}function ky(){}function Hc(t,i,r,u){if(t.tag!==5)throw Error(a(476));var p=Vh(t).queue;Hh(t,p,i,ie,r===null?ky:function(){return qh(t),r(u)})}function Vh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qh(t){var i=Vh(t).next.queue;Oa(t,i,{},Jt())}function Vc(){return At(Za)}function Yh(){return pt().memoizedState}function Fh(){return pt().memoizedState}function Ty(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Jt();t=rs(r);var u=os(i,t,r);u!==null&&(en(u,i,r),Ca(u,i,r)),i={cache:bc()},t.payload=i;return}i=i.return}}function Dy(t,i,r){var u=Jt();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},cr(t)?Gh(i,r):(r=rc(t,i,r,u),r!==null&&(en(r,t,u),$h(r,i,u)))}function Xh(t,i,r){var u=Jt();Oa(t,i,r,u)}function Oa(t,i,r,u){var p={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(cr(t))Gh(i,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,M=g(w,r);if(p.hasEagerState=!0,p.eagerState=M,Qt(M,w))return Gl(t,i,p,0),Ie===null&&Xl(),!1}catch{}finally{}if(r=rc(t,i,p,u),r!==null)return en(r,t,u),$h(r,i,u),!0}return!1}function qc(t,i,r,u){if(u={lane:2,revertLane:vu(),action:u,hasEagerState:!1,eagerState:null,next:null},cr(t)){if(i)throw Error(a(479))}else i=rc(t,r,u,2),i!==null&&en(i,t,2)}function cr(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Gh(t,i){Ei=sr=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function $h(t,i,r){if((r&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,r|=u,i.lanes=r,ef(t,r)}}var ur={readContext:At,use:ar,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Qh={readContext:At,use:ar,useCallback:function(t,i){return Yt().memoizedState=[t,i===void 0?null:i],t},useContext:At,useEffect:Ah,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,or(4194308,4,zh.bind(null,i,t),r)},useLayoutEffect:function(t,i){return or(4194308,4,t,i)},useInsertionEffect:function(t,i){or(4,2,t,i)},useMemo:function(t,i){var r=Yt();i=i===void 0?null:i;var u=t();if($s){fe(!0);try{t()}finally{fe(!1)}}return r.memoizedState=[u,i],u},useReducer:function(t,i,r){var u=Yt();if(r!==void 0){var p=r(i);if($s){fe(!0);try{r(i)}finally{fe(!1)}}}else p=i;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=Dy.bind(null,Ne,t),[u.memoizedState,t]},useRef:function(t){var i=Yt();return t={current:t},i.memoizedState=t},useState:function(t){t=Lc(t);var i=t.queue,r=Xh.bind(null,Ne,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Uc,useDeferredValue:function(t,i){var r=Yt();return Pc(r,t,i)},useTransition:function(){var t=Lc(!1);return t=Hh.bind(null,Ne,t.queue,!0,!1),Yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var u=Ne,p=Yt();if(Ue){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),Ie===null)throw Error(a(349));(Ee&124)!==0||ph(u,i,r)}p.memoizedState=r;var g={value:r,getSnapshot:i};return p.queue=g,Ah(bh.bind(null,u,g,t),[t]),u.flags|=2048,Ri(9,rr(),gh.bind(null,u,g,r,i),null),r},useId:function(){var t=Yt(),i=Ie.identifierPrefix;if(Ue){var r=zn,u=Rn;r=(u&~(1<<32-Ce(u)-1)).toString(32)+r,i=""+i+"R"+r,r=ir++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=Sy++,i=""+i+"r"+r.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Vc,useFormState:Mh,useActionState:Mh,useOptimistic:function(t){var i=Yt();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=qc.bind(null,Ne,!0,r),r.dispatch=i,[t,i]},useMemoCache:Oc,useCacheRefresh:function(){return Yt().memoizedState=Ty.bind(null,Ne)}},Wh={readContext:At,use:ar,useCallback:Bh,useContext:At,useEffect:Eh,useImperativeHandle:Lh,useInsertionEffect:Oh,useLayoutEffect:Rh,useMemo:Uh,useReducer:lr,useRef:Dh,useState:function(){return lr(Un)},useDebugValue:Uc,useDeferredValue:function(t,i){var r=pt();return Ph(r,Fe.memoizedState,t,i)},useTransition:function(){var t=lr(Un)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Aa(t),i]},useSyncExternalStore:mh,useId:Yh,useHostTransitionStatus:Vc,useFormState:Ch,useActionState:Ch,useOptimistic:function(t,i){var r=pt();return vh(r,Fe,t,i)},useMemoCache:Oc,useCacheRefresh:Fh},Ay={readContext:At,use:ar,useCallback:Bh,useContext:At,useEffect:Eh,useImperativeHandle:Lh,useInsertionEffect:Oh,useLayoutEffect:Rh,useMemo:Uh,useReducer:zc,useRef:Dh,useState:function(){return zc(Un)},useDebugValue:Uc,useDeferredValue:function(t,i){var r=pt();return Fe===null?Pc(r,t,i):Ph(r,Fe.memoizedState,t,i)},useTransition:function(){var t=zc(Un)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Aa(t),i]},useSyncExternalStore:mh,useId:Yh,useHostTransitionStatus:Vc,useFormState:Th,useActionState:Th,useOptimistic:function(t,i){var r=pt();return Fe!==null?vh(r,Fe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:Fh},zi=null,Ra=0;function dr(t){var i=Ra;return Ra+=1,zi===null&&(zi=[]),lh(zi,t,i)}function za(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fr(t,i){throw i.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Kh(t){var i=t._init;return i(t._payload)}function Zh(t){function i(U,z){if(t){var H=U.deletions;H===null?(U.deletions=[z],U.flags|=16):H.push(z)}}function r(U,z){if(!t)return null;for(;z!==null;)i(U,z),z=z.sibling;return null}function u(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function p(U,z){return U=On(U,z),U.index=0,U.sibling=null,U}function g(U,z,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<z?(U.flags|=67108866,z):H):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function w(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function M(U,z,H,K){return z===null||z.tag!==6?(z=cc(H,U.mode,K),z.return=U,z):(z=p(z,H),z.return=U,z)}function O(U,z,H,K){var ce=H.type;return ce===j?W(U,z,H.props.children,K,H.key):z!==null&&(z.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Y&&Kh(ce)===z.type)?(z=p(z,H.props),za(z,H),z.return=U,z):(z=Ql(H.type,H.key,H.props,null,U.mode,K),za(z,H),z.return=U,z)}function V(U,z,H,K){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=uc(H,U.mode,K),z.return=U,z):(z=p(z,H.children||[]),z.return=U,z)}function W(U,z,H,K,ce){return z===null||z.tag!==7?(z=Ps(H,U.mode,K,ce),z.return=U,z):(z=p(z,H),z.return=U,z)}function I(U,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=cc(""+z,U.mode,H),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return H=Ql(z.type,z.key,z.props,null,U.mode,H),za(H,z),H.return=U,H;case v:return z=uc(z,U.mode,H),z.return=U,z;case Y:var K=z._init;return z=K(z._payload),I(U,z,H)}if(te(z)||se(z))return z=Ps(z,U.mode,H,null),z.return=U,z;if(typeof z.then=="function")return I(U,dr(z),H);if(z.$$typeof===E)return I(U,Il(U,z),H);fr(U,z)}return null}function q(U,z,H,K){var ce=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ce!==null?null:M(U,z,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return H.key===ce?O(U,z,H,K):null;case v:return H.key===ce?V(U,z,H,K):null;case Y:return ce=H._init,H=ce(H._payload),q(U,z,H,K)}if(te(H)||se(H))return ce!==null?null:W(U,z,H,K,null);if(typeof H.then=="function")return q(U,z,dr(H),K);if(H.$$typeof===E)return q(U,z,Il(U,H),K);fr(U,H)}return null}function F(U,z,H,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(H)||null,M(z,U,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return U=U.get(K.key===null?H:K.key)||null,O(z,U,K,ce);case v:return U=U.get(K.key===null?H:K.key)||null,V(z,U,K,ce);case Y:var Me=K._init;return K=Me(K._payload),F(U,z,H,K,ce)}if(te(K)||se(K))return U=U.get(H)||null,W(z,U,K,ce,null);if(typeof K.then=="function")return F(U,z,H,dr(K),ce);if(K.$$typeof===E)return F(U,z,H,Il(z,K),ce);fr(z,K)}return null}function be(U,z,H,K){for(var ce=null,Me=null,ue=z,ge=z=0,St=null;ue!==null&&ge<H.length;ge++){ue.index>ge?(St=ue,ue=null):St=ue.sibling;var Re=q(U,ue,H[ge],K);if(Re===null){ue===null&&(ue=St);break}t&&ue&&Re.alternate===null&&i(U,ue),z=g(Re,z,ge),Me===null?ce=Re:Me.sibling=Re,Me=Re,ue=St}if(ge===H.length)return r(U,ue),Ue&&Vs(U,ge),ce;if(ue===null){for(;ge<H.length;ge++)ue=I(U,H[ge],K),ue!==null&&(z=g(ue,z,ge),Me===null?ce=ue:Me.sibling=ue,Me=ue);return Ue&&Vs(U,ge),ce}for(ue=u(ue);ge<H.length;ge++)St=F(ue,U,ge,H[ge],K),St!==null&&(t&&St.alternate!==null&&ue.delete(St.key===null?ge:St.key),z=g(St,z,ge),Me===null?ce=St:Me.sibling=St,Me=St);return t&&ue.forEach(function(Ns){return i(U,Ns)}),Ue&&Vs(U,ge),ce}function he(U,z,H,K){if(H==null)throw Error(a(151));for(var ce=null,Me=null,ue=z,ge=z=0,St=null,Re=H.next();ue!==null&&!Re.done;ge++,Re=H.next()){ue.index>ge?(St=ue,ue=null):St=ue.sibling;var Ns=q(U,ue,Re.value,K);if(Ns===null){ue===null&&(ue=St);break}t&&ue&&Ns.alternate===null&&i(U,ue),z=g(Ns,z,ge),Me===null?ce=Ns:Me.sibling=Ns,Me=Ns,ue=St}if(Re.done)return r(U,ue),Ue&&Vs(U,ge),ce;if(ue===null){for(;!Re.done;ge++,Re=H.next())Re=I(U,Re.value,K),Re!==null&&(z=g(Re,z,ge),Me===null?ce=Re:Me.sibling=Re,Me=Re);return Ue&&Vs(U,ge),ce}for(ue=u(ue);!Re.done;ge++,Re=H.next())Re=F(ue,U,ge,Re.value,K),Re!==null&&(t&&Re.alternate!==null&&ue.delete(Re.key===null?ge:Re.key),z=g(Re,z,ge),Me===null?ce=Re:Me.sibling=Re,Me=Re);return t&&ue.forEach(function(Ev){return i(U,Ev)}),Ue&&Vs(U,ge),ce}function Ge(U,z,H,K){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case y:e:{for(var ce=H.key;z!==null;){if(z.key===ce){if(ce=H.type,ce===j){if(z.tag===7){r(U,z.sibling),K=p(z,H.props.children),K.return=U,U=K;break e}}else if(z.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Y&&Kh(ce)===z.type){r(U,z.sibling),K=p(z,H.props),za(K,H),K.return=U,U=K;break e}r(U,z);break}else i(U,z);z=z.sibling}H.type===j?(K=Ps(H.props.children,U.mode,K,H.key),K.return=U,U=K):(K=Ql(H.type,H.key,H.props,null,U.mode,K),za(K,H),K.return=U,U=K)}return w(U);case v:e:{for(ce=H.key;z!==null;){if(z.key===ce)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){r(U,z.sibling),K=p(z,H.children||[]),K.return=U,U=K;break e}else{r(U,z);break}else i(U,z);z=z.sibling}K=uc(H,U.mode,K),K.return=U,U=K}return w(U);case Y:return ce=H._init,H=ce(H._payload),Ge(U,z,H,K)}if(te(H))return be(U,z,H,K);if(se(H)){if(ce=se(H),typeof ce!="function")throw Error(a(150));return H=ce.call(H),he(U,z,H,K)}if(typeof H.then=="function")return Ge(U,z,dr(H),K);if(H.$$typeof===E)return Ge(U,z,Il(U,H),K);fr(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(r(U,z.sibling),K=p(z,H),K.return=U,U=K):(r(U,z),K=cc(H,U.mode,K),K.return=U,U=K),w(U)):r(U,z)}return function(U,z,H,K){try{Ra=0;var ce=Ge(U,z,H,K);return zi=null,ce}catch(ue){if(ue===Na||ue===er)throw ue;var Me=Wt(29,ue,null,U.mode);return Me.lanes=K,Me.return=U,Me}finally{}}}var Li=Zh(!0),Ih=Zh(!1),dn=P(null),Sn=null;function us(t){var i=t.alternate;J(bt,bt.current&1),J(dn,t),Sn===null&&(i===null||Ai.current!==null||i.memoizedState!==null)&&(Sn=t)}function Jh(t){if(t.tag===22){if(J(bt,bt.current),J(dn,t),Sn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Sn=t)}}else ds()}function ds(){J(bt,bt.current),J(dn,dn.current)}function Pn(t){$(dn),Sn===t&&(Sn=null),$(bt)}var bt=P(0);function hr(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Eu(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yc(t,i,r,u){i=t.memoizedState,r=r(u,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fc={enqueueSetState:function(t,i,r){t=t._reactInternals;var u=Jt(),p=rs(u);p.payload=i,r!=null&&(p.callback=r),i=os(t,p,u),i!==null&&(en(i,t,u),Ca(i,t,u))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var u=Jt(),p=rs(u);p.tag=1,p.payload=i,r!=null&&(p.callback=r),i=os(t,p,u),i!==null&&(en(i,t,u),Ca(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Jt(),u=rs(r);u.tag=2,i!=null&&(u.callback=i),i=os(t,u,r),i!==null&&(en(i,t,r),Ca(i,t,r))}};function em(t,i,r,u,p,g,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,w):i.prototype&&i.prototype.isPureReactComponent?!ba(r,u)||!ba(p,g):!0}function tm(t,i,r,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,u),i.state!==t&&Fc.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var r=i;if("ref"in i){r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}var mr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nm(t){mr(t)}function sm(t){console.error(t)}function im(t){mr(t)}function pr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function am(t,i,r){try{var u=t.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Xc(t,i,r){return r=rs(r),r.tag=3,r.payload={element:null},r.callback=function(){pr(t,i)},r}function lm(t){return t=rs(t),t.tag=3,t}function rm(t,i,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;t.payload=function(){return p(g)},t.callback=function(){am(i,r,u)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){am(i,r,u),typeof p!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function Ey(t,i,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=r.alternate,i!==null&&_a(i,r,p,!0),r=dn.current,r!==null){switch(r.tag){case 13:return Sn===null?pu():r.alternate===null&&ot===0&&(ot=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===vc?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([u]):i.add(u),bu(t,u,p)),!1;case 22:return r.flags|=65536,u===vc?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([u]):r.add(u)),bu(t,u,p)),!1}throw Error(a(435,r.tag))}return bu(t,u,p),pu(),!1}if(Ue)return i=dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==hc&&(t=Error(a(422),{cause:u}),wa(rn(t,r)))):(u!==hc&&(i=Error(a(423),{cause:u}),wa(rn(i,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=rn(u,r),p=Xc(t.stateNode,u,p),jc(t,p),ot!==4&&(ot=2)),!1;var g=Error(a(520),{cause:u});if(g=rn(g,r),qa===null?qa=[g]:qa.push(g),ot!==4&&(ot=2),i===null)return!0;u=rn(u,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=Xc(r.stateNode,u,t),jc(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(bs===null||!bs.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=lm(p),rm(p,t,r,u),jc(r,p),!1}r=r.return}while(r!==null);return!1}var om=Error(a(461)),_t=!1;function Ct(t,i,r,u){i.child=t===null?Ih(i,null,r,u):Li(i,t.child,r,u)}function cm(t,i,r,u,p){r=r.render;var g=i.ref;if("ref"in u){var w={};for(var M in u)M!=="ref"&&(w[M]=u[M])}else w=u;return Xs(i),u=kc(t,i,r,w,g,p),M=Tc(),t!==null&&!_t?(Dc(t,i,p),Hn(t,i,p)):(Ue&&M&&dc(i),i.flags|=1,Ct(t,i,u,p),i.child)}function um(t,i,r,u,p){if(t===null){var g=r.type;return typeof g=="function"&&!oc(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,dm(t,i,g,u,p)):(t=Ql(r.type,null,u,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Jc(t,p)){var w=g.memoizedProps;if(r=r.compare,r=r!==null?r:ba,r(w,u)&&t.ref===i.ref)return Hn(t,i,p)}return i.flags|=1,t=On(g,u),t.ref=i.ref,t.return=i,i.child=t}function dm(t,i,r,u,p){if(t!==null){var g=t.memoizedProps;if(ba(g,u)&&t.ref===i.ref)if(_t=!1,i.pendingProps=u=g,Jc(t,p))(t.flags&131072)!==0&&(_t=!0);else return i.lanes=t.lanes,Hn(t,i,p)}return Gc(t,i,r,u,p)}function fm(t,i,r){var u=i.pendingProps,p=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|r:r,t!==null){for(p=i.child=t.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return hm(t,i,u,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jl(i,g!==null?g.cachePool:null),g!==null?dh(i,g):Nc(),Jh(i);else return i.lanes=i.childLanes=536870912,hm(t,i,g!==null?g.baseLanes|r:r,r)}else g!==null?(Jl(i,g.cachePool),dh(i,g),ds(),i.memoizedState=null):(t!==null&&Jl(i,null),Nc(),ds());return Ct(t,i,p,r),i.child}function hm(t,i,r,u){var p=yc();return p=p===null?null:{parent:gt._currentValue,pool:p},i.memoizedState={baseLanes:r,cachePool:p},t!==null&&Jl(i,null),Nc(),Jh(i),t!==null&&_a(t,i,u,!0),null}function gr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Gc(t,i,r,u,p){return Xs(i),r=kc(t,i,r,u,void 0,p),u=Tc(),t!==null&&!_t?(Dc(t,i,p),Hn(t,i,p)):(Ue&&u&&dc(i),i.flags|=1,Ct(t,i,r,p),i.child)}function mm(t,i,r,u,p,g){return Xs(i),i.updateQueue=null,r=hh(i,u,r,p),fh(t),u=Tc(),t!==null&&!_t?(Dc(t,i,g),Hn(t,i,g)):(Ue&&u&&dc(i),i.flags|=1,Ct(t,i,r,g),i.child)}function pm(t,i,r,u,p){if(Xs(i),i.stateNode===null){var g=Mi,w=r.contextType;typeof w=="object"&&w!==null&&(g=At(w)),g=new r(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fc,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},wc(i),w=r.contextType,g.context=typeof w=="object"&&w!==null?At(w):Mi,g.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Yc(i,r,w,u),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Fc.enqueueReplaceState(g,g.state,null),Ta(i,u,g,p),ka(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){g=i.stateNode;var M=i.memoizedProps,O=Qs(r,M);g.props=O;var V=g.context,W=r.contextType;w=Mi,typeof W=="object"&&W!==null&&(w=At(W));var I=r.getDerivedStateFromProps;W=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||V!==w)&&tm(i,g,u,w),ls=!1;var q=i.memoizedState;g.state=q,Ta(i,u,g,p),ka(),V=i.memoizedState,M||q!==V||ls?(typeof I=="function"&&(Yc(i,r,I,u),V=i.memoizedState),(O=ls||em(i,r,O,u,q,V,w))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=V),g.props=u,g.state=V,g.context=w,u=O):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,_c(t,i),w=i.memoizedProps,W=Qs(r,w),g.props=W,I=i.pendingProps,q=g.context,V=r.contextType,O=Mi,typeof V=="object"&&V!==null&&(O=At(V)),M=r.getDerivedStateFromProps,(V=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==I||q!==O)&&tm(i,g,u,O),ls=!1,q=i.memoizedState,g.state=q,Ta(i,u,g,p),ka();var F=i.memoizedState;w!==I||q!==F||ls||t!==null&&t.dependencies!==null&&Zl(t.dependencies)?(typeof M=="function"&&(Yc(i,r,M,u),F=i.memoizedState),(W=ls||em(i,r,W,u,q,F,O)||t!==null&&t.dependencies!==null&&Zl(t.dependencies))?(V||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,F,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,F,O)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=F),g.props=u,g.state=F,g.context=O,u=W):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),u=!1)}return g=u,gr(t,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&u?(i.child=Li(i,t.child,null,p),i.child=Li(i,null,r,p)):Ct(t,i,r,p),i.memoizedState=g.state,t=i.child):t=Hn(t,i,p),t}function gm(t,i,r,u){return va(),i.flags|=256,Ct(t,i,r,u),i.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(t){return{baseLanes:t,cachePool:sh()}}function Wc(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=fn),t}function bm(t,i,r){var u=i.pendingProps,p=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),w&&(p=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(p?us(i):ds(),Ue){var M=rt,O;if(O=M){e:{for(O=M,M=jn;O.nodeType!==8;){if(!M){M=null;break e}if(O=bn(O.nextSibling),O===null){M=null;break e}}M=O}M!==null?(i.memoizedState={dehydrated:M,treeContext:Hs!==null?{id:Rn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},O=Wt(18,null,null,0),O.stateNode=M,O.return=i,i.child=O,Ut=i,rt=null,O=!0):O=!1}O||Ys(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Eu(M)?i.lanes=32:i.lanes=536870912,null;Pn(i)}return M=u.children,u=u.fallback,p?(ds(),p=i.mode,M=br({mode:"hidden",children:M},p),u=Ps(u,p,r,null),M.return=i,u.return=i,M.sibling=u,i.child=M,p=i.child,p.memoizedState=Qc(r),p.childLanes=Wc(t,w,r),i.memoizedState=$c,u):(us(i),Kc(i,M))}if(O=t.memoizedState,O!==null&&(M=O.dehydrated,M!==null)){if(g)i.flags&256?(us(i),i.flags&=-257,i=Zc(t,i,r)):i.memoizedState!==null?(ds(),i.child=t.child,i.flags|=128,i=null):(ds(),p=u.fallback,M=i.mode,u=br({mode:"visible",children:u.children},M),p=Ps(p,M,r,null),p.flags|=2,u.return=i,p.return=i,u.sibling=p,i.child=u,Li(i,t.child,null,r),u=i.child,u.memoizedState=Qc(r),u.childLanes=Wc(t,w,r),i.memoizedState=$c,i=p);else if(us(i),Eu(M)){if(w=M.nextSibling&&M.nextSibling.dataset,w)var V=w.dgst;w=V,u=Error(a(419)),u.stack="",u.digest=w,wa({value:u,source:null,stack:null}),i=Zc(t,i,r)}else if(_t||_a(t,i,r,!1),w=(r&t.childLanes)!==0,_t||w){if(w=Ie,w!==null&&(u=r&-r,u=(u&42)!==0?1:Oo(u),u=(u&(w.suspendedLanes|r))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Ni(t,u),en(w,t,u),om;M.data==="$?"||pu(),i=Zc(t,i,r)}else M.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=bn(M.nextSibling),Ut=i,Ue=!0,qs=null,jn=!1,t!==null&&(cn[un++]=Rn,cn[un++]=zn,cn[un++]=Hs,Rn=t.id,zn=t.overflow,Hs=i),i=Kc(i,u.children),i.flags|=4096);return i}return p?(ds(),p=u.fallback,M=i.mode,O=t.child,V=O.sibling,u=On(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,V!==null?p=On(V,p):(p=Ps(p,M,r,null),p.flags|=2),p.return=i,u.return=i,u.sibling=p,i.child=u,u=p,p=i.child,M=t.child.memoizedState,M===null?M=Qc(r):(O=M.cachePool,O!==null?(V=gt._currentValue,O=O.parent!==V?{parent:V,pool:V}:O):O=sh(),M={baseLanes:M.baseLanes|r,cachePool:O}),p.memoizedState=M,p.childLanes=Wc(t,w,r),i.memoizedState=$c,u):(us(i),r=t.child,t=r.sibling,r=On(r,{mode:"visible",children:u.children}),r.return=i,r.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=r,i.memoizedState=null,r)}function Kc(t,i){return i=br({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function br(t,i){return t=Wt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zc(t,i,r){return Li(i,t.child,null,r),t=Kc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function xm(t,i,r){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),pc(t.return,i,r)}function Ic(t,i,r,u,p){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=r,g.tailMode=p)}function ym(t,i,r){var u=i.pendingProps,p=u.revealOrder,g=u.tail;if(Ct(t,i,u.children,r),u=bt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xm(t,r,i);else if(t.tag===19)xm(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(J(bt,u),p){case"forwards":for(r=i.child,p=null;r!==null;)t=r.alternate,t!==null&&hr(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=i.child,i.child=null):(p=r.sibling,r.sibling=null),Ic(i,!1,p,r,g);break;case"backwards":for(r=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&hr(t)===null){i.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}Ic(i,!0,r,null,g);break;case"together":Ic(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),gs|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(_a(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=On(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=On(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Jc(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zl(t)))}function Oy(t,i,r){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),as(i,gt,t.memoizedState.cache),va();break;case 27:case 5:ts(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:as(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(us(i),i.flags|=128,null):(r&i.child.childLanes)!==0?bm(t,i,r):(us(i),t=Hn(t,i,r),t!==null?t.sibling:null);us(i);break;case 19:var p=(t.flags&128)!==0;if(u=(r&i.childLanes)!==0,u||(_a(t,i,r,!1),u=(r&i.childLanes)!==0),p){if(u)return ym(t,i,r);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(bt,bt.current),u)break;return null;case 22:case 23:return i.lanes=0,fm(t,i,r);case 24:as(i,gt,t.memoizedState.cache)}return Hn(t,i,r)}function vm(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)_t=!0;else{if(!Jc(t,r)&&(i.flags&128)===0)return _t=!1,Oy(t,i,r);_t=(t.flags&131072)!==0}else _t=!1,Ue&&(i.flags&1048576)!==0&&Kf(i,Kl,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,p=u._init;if(u=p(u._payload),i.type=u,typeof u=="function")oc(u)?(t=Qs(u,t),i.tag=1,i=pm(null,i,u,t,r)):(i.tag=0,i=Gc(null,i,u,t,r));else{if(u!=null){if(p=u.$$typeof,p===A){i.tag=11,i=cm(null,i,u,t,r);break e}else if(p===R){i.tag=14,i=um(null,i,u,t,r);break e}}throw i=pe(u)||u,Error(a(306,i,""))}}return i;case 0:return Gc(t,i,i.type,i.pendingProps,r);case 1:return u=i.type,p=Qs(u,i.pendingProps),pm(t,i,u,p,r);case 3:e:{if(Oe(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var g=i.memoizedState;p=g.element,_c(t,i),Ta(i,u,null,r);var w=i.memoizedState;if(u=w.cache,as(i,gt,u),u!==g.cache&&gc(i,[gt],r,!0),ka(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=gm(t,i,u,r);break e}else if(u!==p){p=rn(Error(a(424)),i),wa(p),i=gm(t,i,u,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=bn(t.firstChild),Ut=i,Ue=!0,qs=null,jn=!0,r=Ih(i,null,u,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(va(),u===p){i=Hn(t,i,r);break e}Ct(t,i,u,r)}i=i.child}return i;case 26:return gr(t,i),t===null?(r=Sp(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ue||(r=i.type,t=i.pendingProps,u=Ar(re.current).createElement(r),u[Dt]=i,u[Vt]=t,Tt(u,r,t),wt(u),i.stateNode=u):i.memoizedState=Sp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ts(i),t===null&&Ue&&(u=i.stateNode=wp(i.type,i.pendingProps,re.current),Ut=i,jn=!0,p=rt,vs(i.type)?(Ou=p,rt=bn(u.firstChild)):rt=p),Ct(t,i,i.pendingProps.children,r),gr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((p=u=rt)&&(u=rv(u,i.type,i.pendingProps,jn),u!==null?(i.stateNode=u,Ut=i,rt=bn(u.firstChild),jn=!1,p=!0):p=!1),p||Ys(i)),ts(i),p=i.type,g=i.pendingProps,w=t!==null?t.memoizedProps:null,u=g.children,Tu(p,g)?u=null:w!==null&&Tu(p,w)&&(i.flags|=32),i.memoizedState!==null&&(p=kc(t,i,Ny,null,null,r),Za._currentValue=p),gr(t,i),Ct(t,i,u,r),i.child;case 6:return t===null&&Ue&&((t=r=rt)&&(r=ov(r,i.pendingProps,jn),r!==null?(i.stateNode=r,Ut=i,rt=null,t=!0):t=!1),t||Ys(i)),null;case 13:return bm(t,i,r);case 4:return Oe(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Li(i,null,u,r):Ct(t,i,u,r),i.child;case 11:return cm(t,i,i.type,i.pendingProps,r);case 7:return Ct(t,i,i.pendingProps,r),i.child;case 8:return Ct(t,i,i.pendingProps.children,r),i.child;case 12:return Ct(t,i,i.pendingProps.children,r),i.child;case 10:return u=i.pendingProps,as(i,i.type,u.value),Ct(t,i,u.children,r),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Xs(i),p=At(p),u=u(p),i.flags|=1,Ct(t,i,u,r),i.child;case 14:return um(t,i,i.type,i.pendingProps,r);case 15:return dm(t,i,i.type,i.pendingProps,r);case 19:return ym(t,i,r);case 31:return u=i.pendingProps,r=i.mode,u={mode:u.mode,children:u.children},t===null?(r=br(u,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=On(t.child,u),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return fm(t,i,r);case 24:return Xs(i),u=At(gt),t===null?(p=yc(),p===null&&(p=Ie,g=bc(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),i.memoizedState={parent:u,cache:p},wc(i),as(i,gt,p)):((t.lanes&r)!==0&&(_c(t,i),Ta(i,null,null,r),ka()),p=t.memoizedState,g=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),as(i,gt,u)):(u=g.cache,as(i,gt,u),u!==p.cache&&gc(i,[gt],r,!0))),Ct(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Vn(t){t.flags|=4}function wm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tp(i)){if(i=dn.current,i!==null&&((Ee&4194048)===Ee?Sn!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||i!==Sn))throw Ma=vc,ih;t.flags|=8192}}function xr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Id():536870912,t.lanes|=i,Hi|=i)}function La(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,u=0;if(i)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=r,i}function Ry(t,i,r){var u=i.pendingProps;switch(fc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return r=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Bn(gt),Bt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ya(i)?Vn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jf())),lt(i),null;case 26:return r=i.memoizedState,t===null?(Vn(i),r!==null?(lt(i),wm(i,r)):(lt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Vn(i),lt(i),wm(i,r)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==u&&Vn(i),lt(i),i.flags&=-16777217),null;case 27:sn(i),r=re.current;var p=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Vn(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return lt(i),null}t=ae.current,ya(i)?Zf(i):(t=wp(p,u,r),i.stateNode=t,Vn(i))}return lt(i),null;case 5:if(sn(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Vn(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return lt(i),null}if(t=ae.current,ya(i))Zf(i);else{switch(p=Ar(re.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?p.createElement(r,{is:u.is}):p.createElement(r)}}t[Dt]=i,t[Vt]=u;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=t;e:switch(Tt(t,r,u),r){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vn(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Vn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=re.current,ya(i)){if(t=i.stateNode,r=i.memoizedProps,u=null,p=Ut,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||mp(t.nodeValue,r)),t||Ys(i)}else t=Ar(t).createTextNode(u),t[Dt]=i,i.stateNode=t}return lt(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=ya(i),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Dt]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),p=!1}else p=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Pn(i),i):(Pn(i),null)}if(Pn(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=u!==null,t=t!==null&&t.memoizedState!==null,r){u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),xr(i,i.updateQueue),lt(i),null;case 4:return Bt(),t===null&&Su(i.stateNode.containerInfo),lt(i),null;case 10:return Bn(i.type),lt(i),null;case 19:if($(bt),p=i.memoizedState,p===null)return lt(i),null;if(u=(i.flags&128)!==0,g=p.rendering,g===null)if(u)La(p,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=hr(t),g!==null){for(i.flags|=128,La(p,!1),t=g.updateQueue,i.updateQueue=t,xr(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Wf(r,t),r=r.sibling;return J(bt,bt.current&1|2),i.child}t=t.sibling}p.tail!==null&&ye()>wr&&(i.flags|=128,u=!0,La(p,!1),i.lanes=4194304)}else{if(!u)if(t=hr(g),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,xr(i,t),La(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ue)return lt(i),null}else 2*ye()-p.renderingStartTime>wr&&r!==536870912&&(i.flags|=128,u=!0,La(p,!1),i.lanes=4194304);p.isBackwards?(g.sibling=i.child,i.child=g):(t=p.last,t!==null?t.sibling=g:i.child=g,p.last=g)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=ye(),i.sibling=null,t=bt.current,J(bt,u?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Pn(i),Mc(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(r&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),r=i.updateQueue,r!==null&&xr(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==r&&(i.flags|=2048),t!==null&&$(Gs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Bn(gt),lt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function zy(t,i){switch(fc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bn(gt),Bt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sn(i),null;case 13:if(Pn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));va()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(bt),null;case 4:return Bt(),null;case 10:return Bn(i.type),null;case 22:case 23:return Pn(i),Mc(),t!==null&&$(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bn(gt),null;case 25:return null;default:return null}}function _m(t,i){switch(fc(i),i.tag){case 3:Bn(gt),Bt();break;case 26:case 27:case 5:sn(i);break;case 4:Bt();break;case 13:Pn(i);break;case 19:$(bt);break;case 10:Bn(i.type);break;case 22:case 23:Pn(i),Mc(),t!==null&&$(Gs);break;case 24:Bn(gt)}}function Ba(t,i){try{var r=i.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&t)===t){u=void 0;var g=r.create,w=r.inst;u=g(),w.destroy=u}r=r.next}while(r!==p)}}catch(M){Qe(i,i.return,M)}}function fs(t,i,r){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&t)===t){var w=u.inst,M=w.destroy;if(M!==void 0){w.destroy=void 0,p=i;var O=r,V=M;try{V()}catch(W){Qe(p,O,W)}}}u=u.next}while(u!==g)}}catch(W){Qe(i,i.return,W)}}function jm(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{uh(i,r)}catch(u){Qe(t,t.return,u)}}}function Sm(t,i,r){r.props=Qs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(u){Qe(t,i,u)}}function Ua(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(p){Qe(t,i,p)}}function Nn(t,i){var r=t.ref,u=t.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){Qe(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Qe(t,i,p)}else r.current=null}function Nm(t){var i=t.type,r=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){Qe(t,t.return,p)}}function eu(t,i,r){try{var u=t.stateNode;nv(u,t.type,r,i),u[Vt]=i}catch(p){Qe(t,t.return,p)}}function Mm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vs(t.type)||t.tag===4}function tu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nu(t,i,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Dr));else if(u!==4&&(u===27&&vs(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(nu(t,i,r),t=t.sibling;t!==null;)nu(t,i,r),t=t.sibling}function yr(t,i,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(u!==4&&(u===27&&vs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(yr(t,i,r),t=t.sibling;t!==null;)yr(t,i,r),t=t.sibling}function Cm(t){var i=t.stateNode,r=t.memoizedProps;try{for(var u=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Tt(i,u,r),i[Dt]=t,i[Vt]=r}catch(g){Qe(t,t.return,g)}}var qn=!1,ft=!1,su=!1,km=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Ly(t,i){if(t=t.containerInfo,Cu=Br,t=Pf(t),tc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var w=0,M=-1,O=-1,V=0,W=0,I=t,q=null;t:for(;;){for(var F;I!==r||p!==0&&I.nodeType!==3||(M=w+p),I!==g||u!==0&&I.nodeType!==3||(O=w+u),I.nodeType===3&&(w+=I.nodeValue.length),(F=I.firstChild)!==null;)q=I,I=F;for(;;){if(I===t)break t;if(q===r&&++V===p&&(M=w),q===g&&++W===u&&(O=w),(F=I.nextSibling)!==null)break;I=q,q=I.parentNode}I=F}r=M===-1||O===-1?null:{start:M,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(ku={focusedElem:t,selectionRange:r},Br=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,p=g.memoizedProps,g=g.memoizedState,u=r.stateNode;try{var be=Qs(r.type,p,r.elementType===r.type);t=u.getSnapshotBeforeUpdate(be,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(he){Qe(r,r.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Au(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Au(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function Tm(t,i,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:hs(t,r),u&4&&Ba(5,r);break;case 1:if(hs(t,r),u&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(w){Qe(r,r.return,w)}else{var p=Qs(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Qe(r,r.return,w)}}u&64&&jm(r),u&512&&Ua(r,r.return);break;case 3:if(hs(t,r),u&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{uh(t,i)}catch(w){Qe(r,r.return,w)}}break;case 27:i===null&&u&4&&Cm(r);case 26:case 5:hs(t,r),i===null&&u&4&&Nm(r),u&512&&Ua(r,r.return);break;case 12:hs(t,r);break;case 13:hs(t,r),u&4&&Em(t,r),u&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Xy.bind(null,r),cv(t,r))));break;case 22:if(u=r.memoizedState!==null||qn,!u){i=i!==null&&i.memoizedState!==null||ft,p=qn;var g=ft;qn=u,(ft=i)&&!g?ms(t,r,(r.subtreeFlags&8772)!==0):hs(t,r),qn=p,ft=g}break;case 30:break;default:hs(t,r)}}function Dm(t){var i=t.alternate;i!==null&&(t.alternate=null,Dm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Lo(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,Ft=!1;function Yn(t,i,r){for(r=r.child;r!==null;)Am(t,i,r),r=r.sibling}function Am(t,i,r){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Se,r)}catch{}switch(r.tag){case 26:ft||Nn(r,i),Yn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ft||Nn(r,i);var u=nt,p=Ft;vs(r.type)&&(nt=r.stateNode,Ft=!1),Yn(t,i,r),$a(r.stateNode),nt=u,Ft=p;break;case 5:ft||Nn(r,i);case 6:if(u=nt,p=Ft,nt=null,Yn(t,i,r),nt=u,Ft=p,nt!==null)if(Ft)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(r.stateNode)}catch(g){Qe(r,i,g)}else try{nt.removeChild(r.stateNode)}catch(g){Qe(r,i,g)}break;case 18:nt!==null&&(Ft?(t=nt,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),tl(t)):yp(nt,r.stateNode));break;case 4:u=nt,p=Ft,nt=r.stateNode.containerInfo,Ft=!0,Yn(t,i,r),nt=u,Ft=p;break;case 0:case 11:case 14:case 15:ft||fs(2,r,i),ft||fs(4,r,i),Yn(t,i,r);break;case 1:ft||(Nn(r,i),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Sm(r,i,u)),Yn(t,i,r);break;case 21:Yn(t,i,r);break;case 22:ft=(u=ft)||r.memoizedState!==null,Yn(t,i,r),ft=u;break;default:Yn(t,i,r)}}function Em(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(r){Qe(i,i.return,r)}}function By(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new km),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new km),i;default:throw Error(a(435,t.tag))}}function iu(t,i){var r=By(t);i.forEach(function(u){var p=Gy.bind(null,t,u);r.has(u)||(r.add(u),u.then(p,p))})}function Kt(t,i){var r=i.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],g=t,w=i,M=w;e:for(;M!==null;){switch(M.tag){case 27:if(vs(M.type)){nt=M.stateNode,Ft=!1;break e}break;case 5:nt=M.stateNode,Ft=!1;break e;case 3:case 4:nt=M.stateNode.containerInfo,Ft=!0;break e}M=M.return}if(nt===null)throw Error(a(160));Am(g,w,p),nt=null,Ft=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Om(i,t),i=i.sibling}var gn=null;function Om(t,i){var r=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Kt(i,t),Zt(t),u&4&&(fs(3,t,t.return),Ba(3,t),fs(5,t,t.return));break;case 1:Kt(i,t),Zt(t),u&512&&(ft||r===null||Nn(r,r.return)),u&64&&qn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=gn;if(Kt(i,t),Zt(t),u&512&&(ft||r===null||Nn(r,r.return)),u&4){var g=r!==null?r.memoizedState:null;if(u=t.memoizedState,r===null)if(u===null)if(t.stateNode===null){e:{u=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[oa]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),Tt(g,u,r),g[Dt]=t,wt(g),u=g;break e;case"link":var w=Cp("link","href",p).get(u+(r.href||""));if(w){for(var M=0;M<w.length;M++)if(g=w[M],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(M,1);break t}}g=p.createElement(u),Tt(g,u,r),p.head.appendChild(g);break;case"meta":if(w=Cp("meta","content",p).get(u+(r.content||""))){for(M=0;M<w.length;M++)if(g=w[M],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(M,1);break t}}g=p.createElement(u),Tt(g,u,r),p.head.appendChild(g);break;default:throw Error(a(468,u))}g[Dt]=t,wt(g),u=g}t.stateNode=u}else kp(p,t.type,t.stateNode);else t.stateNode=Mp(p,u,t.memoizedProps);else g!==u?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,u===null?kp(p,t.type,t.stateNode):Mp(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&eu(t,t.memoizedProps,r.memoizedProps)}break;case 27:Kt(i,t),Zt(t),u&512&&(ft||r===null||Nn(r,r.return)),r!==null&&u&4&&eu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Kt(i,t),Zt(t),u&512&&(ft||r===null||Nn(r,r.return)),t.flags&32){p=t.stateNode;try{xi(p,"")}catch(F){Qe(t,t.return,F)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,eu(t,p,r!==null?r.memoizedProps:p)),u&1024&&(su=!0);break;case 6:if(Kt(i,t),Zt(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,r=t.stateNode;try{r.nodeValue=u}catch(F){Qe(t,t.return,F)}}break;case 3:if(Rr=null,p=gn,gn=Er(i.containerInfo),Kt(i,t),gn=p,Zt(t),u&4&&r!==null&&r.memoizedState.isDehydrated)try{tl(i.containerInfo)}catch(F){Qe(t,t.return,F)}su&&(su=!1,Rm(t));break;case 4:u=gn,gn=Er(t.stateNode.containerInfo),Kt(i,t),Zt(t),gn=u;break;case 12:Kt(i,t),Zt(t);break;case 13:Kt(i,t),Zt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uu=ye()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,iu(t,u)));break;case 22:p=t.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,V=qn,W=ft;if(qn=V||p,ft=W||O,Kt(i,t),ft=W,qn=V,Zt(t),u&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(r===null||O||qn||ft||Ws(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){O=r=i;try{if(g=O.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=O.stateNode;var I=O.memoizedProps.style,q=I!=null&&I.hasOwnProperty("display")?I.display:null;M.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){Qe(O,O.return,F)}}}else if(i.tag===6){if(r===null){O=i;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(F){Qe(O,O.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,iu(t,r))));break;case 19:Kt(i,t),Zt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,iu(t,u)));break;case 30:break;case 21:break;default:Kt(i,t),Zt(t)}}function Zt(t){var i=t.flags;if(i&2){try{for(var r,u=t.return;u!==null;){if(Mm(u)){r=u;break}u=u.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var p=r.stateNode,g=tu(t);yr(t,g,p);break;case 5:var w=r.stateNode;r.flags&32&&(xi(w,""),r.flags&=-33);var M=tu(t);yr(t,M,w);break;case 3:case 4:var O=r.stateNode.containerInfo,V=tu(t);nu(t,V,O);break;default:throw Error(a(161))}}catch(W){Qe(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Rm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Rm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function hs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tm(t,i.alternate,i),i=i.sibling}function Ws(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:fs(4,i,i.return),Ws(i);break;case 1:Nn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Sm(i,i.return,r),Ws(i);break;case 27:$a(i.stateNode);case 26:case 5:Nn(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}t=t.sibling}}function ms(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=t,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:ms(p,g,r),Ba(4,g);break;case 1:if(ms(p,g,r),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(V){Qe(u,u.return,V)}if(u=g,p=u.updateQueue,p!==null){var M=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)ch(O[p],M)}catch(V){Qe(u,u.return,V)}}r&&w&64&&jm(g),Ua(g,g.return);break;case 27:Cm(g);case 26:case 5:ms(p,g,r),r&&u===null&&w&4&&Nm(g),Ua(g,g.return);break;case 12:ms(p,g,r);break;case 13:ms(p,g,r),r&&w&4&&Em(p,g);break;case 22:g.memoizedState===null&&ms(p,g,r),Ua(g,g.return);break;case 30:break;default:ms(p,g,r)}i=i.sibling}}function au(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ja(r))}function lu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ja(t))}function Mn(t,i,r,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zm(t,i,r,u),i=i.sibling}function zm(t,i,r,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Mn(t,i,r,u),p&2048&&Ba(9,i);break;case 1:Mn(t,i,r,u);break;case 3:Mn(t,i,r,u),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ja(t)));break;case 12:if(p&2048){Mn(t,i,r,u),t=i.stateNode;try{var g=i.memoizedProps,w=g.id,M=g.onPostCommit;typeof M=="function"&&M(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Qe(i,i.return,O)}}else Mn(t,i,r,u);break;case 13:Mn(t,i,r,u);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?Mn(t,i,r,u):Pa(t,i):g._visibility&2?Mn(t,i,r,u):(g._visibility|=2,Bi(t,i,r,u,(i.subtreeFlags&10256)!==0)),p&2048&&au(w,i);break;case 24:Mn(t,i,r,u),p&2048&&lu(i.alternate,i);break;default:Mn(t,i,r,u)}}function Bi(t,i,r,u,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,w=i,M=r,O=u,V=w.flags;switch(w.tag){case 0:case 11:case 15:Bi(g,w,M,O,p),Ba(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?Bi(g,w,M,O,p):Pa(g,w):(W._visibility|=2,Bi(g,w,M,O,p)),p&&V&2048&&au(w.alternate,w);break;case 24:Bi(g,w,M,O,p),p&&V&2048&&lu(w.alternate,w);break;default:Bi(g,w,M,O,p)}i=i.sibling}}function Pa(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,u=i,p=u.flags;switch(u.tag){case 22:Pa(r,u),p&2048&&au(u.alternate,u);break;case 24:Pa(r,u),p&2048&&lu(u.alternate,u);break;default:Pa(r,u)}i=i.sibling}}var Ha=8192;function Ui(t){if(t.subtreeFlags&Ha)for(t=t.child;t!==null;)Lm(t),t=t.sibling}function Lm(t){switch(t.tag){case 26:Ui(t),t.flags&Ha&&t.memoizedState!==null&&_v(gn,t.memoizedState,t.memoizedProps);break;case 5:Ui(t);break;case 3:case 4:var i=gn;gn=Er(t.stateNode.containerInfo),Ui(t),gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ha,Ha=16777216,Ui(t),Ha=i):Ui(t));break;default:Ui(t)}}function Bm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Va(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];jt=u,Pm(u,t)}Bm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Um(t),t=t.sibling}function Um(t){switch(t.tag){case 0:case 11:case 15:Va(t),t.flags&2048&&fs(9,t,t.return);break;case 3:Va(t);break;case 12:Va(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vr(t)):Va(t);break;default:Va(t)}}function vr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];jt=u,Pm(u,t)}Bm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:fs(8,i,i.return),vr(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,vr(i));break;default:vr(i)}t=t.sibling}}function Pm(t,i){for(;jt!==null;){var r=jt;switch(r.tag){case 0:case 11:case 15:fs(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ja(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,jt=u;else e:for(r=t;jt!==null;){u=jt;var p=u.sibling,g=u.return;if(Dm(u),u===r){jt=null;break e}if(p!==null){p.return=g,jt=p;break e}jt=g}}}var Uy={getCacheForType:function(t){var i=At(gt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},Py=typeof WeakMap=="function"?WeakMap:Map,He=0,Ie=null,ke=null,Ee=0,Ve=0,It=null,ps=!1,Pi=!1,ru=!1,Fn=0,ot=0,gs=0,Ks=0,ou=0,fn=0,Hi=0,qa=null,Xt=null,cu=!1,uu=0,wr=1/0,_r=null,bs=null,kt=0,xs=null,Vi=null,qi=0,du=0,fu=null,Hm=null,Ya=0,hu=null;function Jt(){if((He&2)!==0&&Ee!==0)return Ee&-Ee;if(B.T!==null){var t=Ti;return t!==0?t:vu()}return tf()}function Vm(){fn===0&&(fn=(Ee&536870912)===0||Ue?Zd():536870912);var t=dn.current;return t!==null&&(t.flags|=32),fn}function en(t,i,r){(t===Ie&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(Yi(t,0),ys(t,Ee,fn,!1)),ra(t,r),((He&2)===0||t!==Ie)&&(t===Ie&&((He&2)===0&&(Ks|=r),ot===4&&ys(t,Ee,fn,!1)),Cn(t))}function qm(t,i,r){if((He&6)!==0)throw Error(a(327));var u=!r&&(i&124)===0&&(i&t.expiredLanes)===0||la(t,i),p=u?qy(t,i):gu(t,i,!0),g=u;do{if(p===0){Pi&&!u&&ys(t,i,0,!1);break}else{if(r=t.current.alternate,g&&!Hy(r)){p=gu(t,i,!1),g=!1;continue}if(p===2){if(g=i,t.errorRecoveryDisabledLanes&g)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var M=t;p=qa;var O=M.current.memoizedState.isDehydrated;if(O&&(Yi(M,w).flags|=256),w=gu(M,w,!1),w!==2){if(ru&&!O){M.errorRecoveryDisabledLanes|=g,Ks|=g,p=4;break e}g=Xt,Xt=p,g!==null&&(Xt===null?Xt=g:Xt.push.apply(Xt,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){Yi(t,0),ys(t,i,0,!0);break}e:{switch(u=t,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ys(u,i,fn,!ps);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=uu+300-ye(),10<p)){if(ys(u,i,fn,!ps),Ol(u,0,!0)!==0)break e;u.timeoutHandle=bp(Ym.bind(null,u,r,Xt,_r,cu,i,fn,Ks,Hi,ps,g,2,-0,0),p);break e}Ym(u,r,Xt,_r,cu,i,fn,Ks,Hi,ps,g,0,-0,0)}}break}while(!0);Cn(t)}function Ym(t,i,r,u,p,g,w,M,O,V,W,I,q,F){if(t.timeoutHandle=-1,I=i.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(Ka={stylesheets:null,count:0,unsuspend:wv},Lm(i),I=jv(),I!==null)){t.cancelPendingCommit=I(Km.bind(null,t,i,g,r,u,p,w,M,O,W,1,q,F)),ys(t,g,w,!V);return}Km(t,i,g,r,u,p,w,M,O)}function Hy(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],g=p.getSnapshot;p=p.value;try{if(!Qt(g(),p))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ys(t,i,r,u){i&=~ou,i&=~Ks,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var p=i;0<p;){var g=31-Ce(p),w=1<<g;u[g]=-1,p&=~w}r!==0&&Jd(t,r,i)}function jr(){return(He&6)===0?(Fa(0),!1):!0}function mu(){if(ke!==null){if(Ve===0)var t=ke.return;else t=ke,Ln=Fs=null,Ac(t),zi=null,Ra=0,t=ke;for(;t!==null;)_m(t.alternate,t),t=t.return;ke=null}}function Yi(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,iv(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),mu(),Ie=t,ke=r=On(t.current,null),Ee=i,Ve=0,It=null,ps=!1,Pi=la(t,i),ru=!1,Hi=fn=ou=Ks=gs=ot=0,Xt=qa=null,cu=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var p=31-Ce(u),g=1<<p;i|=t[p],u&=~g}return Fn=i,Xl(),r}function Fm(t,i){Ne=null,B.H=ur,i===Na||i===er?(i=rh(),Ve=3):i===ih?(i=rh(),Ve=4):Ve=i===om?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,It=i,ke===null&&(ot=1,pr(t,rn(i,t.current)))}function Xm(){var t=B.H;return B.H=ur,t===null?ur:t}function Gm(){var t=B.A;return B.A=Uy,t}function pu(){ot=4,ps||(Ee&4194048)!==Ee&&dn.current!==null||(Pi=!0),(gs&134217727)===0&&(Ks&134217727)===0||Ie===null||ys(Ie,Ee,fn,!1)}function gu(t,i,r){var u=He;He|=2;var p=Xm(),g=Gm();(Ie!==t||Ee!==i)&&(_r=null,Yi(t,i)),i=!1;var w=ot;e:do try{if(Ve!==0&&ke!==null){var M=ke,O=It;switch(Ve){case 8:mu(),w=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(i=!0);var V=Ve;if(Ve=0,It=null,Fi(t,M,O,V),r&&Pi){w=0;break e}break;default:V=Ve,Ve=0,It=null,Fi(t,M,O,V)}}Vy(),w=ot;break}catch(W){Fm(t,W)}while(!0);return i&&t.shellSuspendCounter++,Ln=Fs=null,He=u,B.H=p,B.A=g,ke===null&&(Ie=null,Ee=0,Xl()),w}function Vy(){for(;ke!==null;)$m(ke)}function qy(t,i){var r=He;He|=2;var u=Xm(),p=Gm();Ie!==t||Ee!==i?(_r=null,wr=ye()+500,Yi(t,i)):Pi=la(t,i);e:do try{if(Ve!==0&&ke!==null){i=ke;var g=It;t:switch(Ve){case 1:Ve=0,It=null,Fi(t,i,g,1);break;case 2:case 9:if(ah(g)){Ve=0,It=null,Qm(i);break}i=function(){Ve!==2&&Ve!==9||Ie!==t||(Ve=7),Cn(t)},g.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:ah(g)?(Ve=0,It=null,Qm(i)):(Ve=0,It=null,Fi(t,i,g,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var M=ke;if(!w||Tp(w)){Ve=0,It=null;var O=M.sibling;if(O!==null)ke=O;else{var V=M.return;V!==null?(ke=V,Sr(V)):ke=null}break t}}Ve=0,It=null,Fi(t,i,g,5);break;case 6:Ve=0,It=null,Fi(t,i,g,6);break;case 8:mu(),ot=6;break e;default:throw Error(a(462))}}Yy();break}catch(W){Fm(t,W)}while(!0);return Ln=Fs=null,B.H=u,B.A=p,He=r,ke!==null?0:(Ie=null,Ee=0,Xl(),ot)}function Yy(){for(;ke!==null&&!je();)$m(ke)}function $m(t){var i=vm(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,i===null?Sr(t):ke=i}function Qm(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=mm(r,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=mm(r,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:Ac(i);default:_m(r,i),i=ke=Wf(i,Fn),i=vm(r,i,Fn)}t.memoizedProps=t.pendingProps,i===null?Sr(t):ke=i}function Fi(t,i,r,u){Ln=Fs=null,Ac(i),zi=null,Ra=0;var p=i.return;try{if(Ey(t,p,i,r,Ee)){ot=1,pr(t,rn(r,t.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;ot=1,pr(t,rn(r,t.current)),ke=null;return}i.flags&32768?(Ue||u===1?t=!0:Pi||(Ee&536870912)!==0?t=!1:(ps=t=!0,(u===2||u===9||u===3||u===6)&&(u=dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wm(i,t)):Sr(i)}function Sr(t){var i=t;do{if((i.flags&32768)!==0){Wm(i,ps);return}t=i.return;var r=Ry(i.alternate,i,Fn);if(r!==null){ke=r;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);ot===0&&(ot=5)}function Wm(t,i){do{var r=zy(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);ot=6,ke=null}function Km(t,i,r,u,p,g,w,M,O){t.cancelPendingCommit=null;do Nr();while(kt!==0);if((He&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=lc,w0(t,r,g,w,M,O),t===Ie&&(ke=Ie=null,Ee=0),Vi=i,xs=t,qi=r,du=g,fu=p,Hm=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$y(We,function(){return tp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,p=X.p,X.p=2,w=He,He|=4;try{Ly(t,i,r)}finally{He=w,X.p=p,B.T=u}}kt=1,Zm(),Im(),Jm()}}function Zm(){if(kt===1){kt=0;var t=xs,i=Vi,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var u=X.p;X.p=2;var p=He;He|=4;try{Om(i,t);var g=ku,w=Pf(t.containerInfo),M=g.focusedElem,O=g.selectionRange;if(w!==M&&M&&M.ownerDocument&&Uf(M.ownerDocument.documentElement,M)){if(O!==null&&tc(M)){var V=O.start,W=O.end;if(W===void 0&&(W=V),"selectionStart"in M)M.selectionStart=V,M.selectionEnd=Math.min(W,M.value.length);else{var I=M.ownerDocument||document,q=I&&I.defaultView||window;if(q.getSelection){var F=q.getSelection(),be=M.textContent.length,he=Math.min(O.start,be),Ge=O.end===void 0?he:Math.min(O.end,be);!F.extend&&he>Ge&&(w=Ge,Ge=he,he=w);var U=Bf(M,he),z=Bf(M,Ge);if(U&&z&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==z.node||F.focusOffset!==z.offset)){var H=I.createRange();H.setStart(U.node,U.offset),F.removeAllRanges(),he>Ge?(F.addRange(H),F.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),F.addRange(H))}}}}for(I=[],F=M;F=F.parentNode;)F.nodeType===1&&I.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<I.length;M++){var K=I[M];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Br=!!Cu,ku=Cu=null}finally{He=p,X.p=u,B.T=r}}t.current=i,kt=2}}function Im(){if(kt===2){kt=0;var t=xs,i=Vi,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var u=X.p;X.p=2;var p=He;He|=4;try{Tm(t,i.alternate,i)}finally{He=p,X.p=u,B.T=r}}kt=3}}function Jm(){if(kt===4||kt===3){kt=0,xe();var t=xs,i=Vi,r=qi,u=Hm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Vi=xs=null,ep(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(bs=null),Ro(r),i=i.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Se,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=B.T,p=X.p,X.p=2,B.T=null;try{for(var g=t.onRecoverableError,w=0;w<u.length;w++){var M=u[w];g(M.value,{componentStack:M.stack})}}finally{B.T=i,X.p=p}}(qi&3)!==0&&Nr(),Cn(t),p=t.pendingLanes,(r&4194090)!==0&&(p&42)!==0?t===hu?Ya++:(Ya=0,hu=t):Ya=0,Fa(0)}}function ep(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ja(i)))}function Nr(t){return Zm(),Im(),Jm(),tp()}function tp(){if(kt!==5)return!1;var t=xs,i=du;du=0;var r=Ro(qi),u=B.T,p=X.p;try{X.p=32>r?32:r,B.T=null,r=fu,fu=null;var g=xs,w=qi;if(kt=0,Vi=xs=null,qi=0,(He&6)!==0)throw Error(a(331));var M=He;if(He|=4,Um(g.current),zm(g,g.current,w,r),He=M,Fa(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Se,g)}catch{}return!0}finally{X.p=p,B.T=u,ep(t,i)}}function np(t,i,r){i=rn(r,i),i=Xc(t.stateNode,i,2),t=os(t,i,2),t!==null&&(ra(t,2),Cn(t))}function Qe(t,i,r){if(t.tag===3)np(t,t,r);else for(;i!==null;){if(i.tag===3){np(i,t,r);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bs===null||!bs.has(u))){t=rn(r,t),r=lm(2),u=os(i,r,2),u!==null&&(rm(r,u,i,t),ra(u,2),Cn(u));break}}i=i.return}}function bu(t,i,r){var u=t.pingCache;if(u===null){u=t.pingCache=new Py;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(r)||(ru=!0,p.add(r),t=Fy.bind(null,t,i,r),i.then(t,t))}function Fy(t,i,r){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ie===t&&(Ee&r)===r&&(ot===4||ot===3&&(Ee&62914560)===Ee&&300>ye()-uu?(He&2)===0&&Yi(t,0):ou|=r,Hi===Ee&&(Hi=0)),Cn(t)}function sp(t,i){i===0&&(i=Id()),t=Ni(t,i),t!==null&&(ra(t,i),Cn(t))}function Xy(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),sp(t,r)}function Gy(t,i){var r=0;switch(t.tag){case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),sp(t,r)}function $y(t,i){return ee(t,i)}var Mr=null,Xi=null,xu=!1,Cr=!1,yu=!1,Zs=0;function Cn(t){t!==Xi&&t.next===null&&(Xi===null?Mr=Xi=t:Xi=Xi.next=t),Cr=!0,xu||(xu=!0,Wy())}function Fa(t,i){if(!yu&&Cr){yu=!0;do for(var r=!1,u=Mr;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var w=u.suspendedLanes,M=u.pingedLanes;g=(1<<31-Ce(42|t)+1)-1,g&=p&~(w&~M),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,rp(u,g))}else g=Ee,g=Ol(u,u===Ie?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||la(u,g)||(r=!0,rp(u,g));u=u.next}while(r);yu=!1}}function Qy(){ip()}function ip(){Cr=xu=!1;var t=0;Zs!==0&&(sv()&&(t=Zs),Zs=0);for(var i=ye(),r=null,u=Mr;u!==null;){var p=u.next,g=ap(u,i);g===0?(u.next=null,r===null?Mr=p:r.next=p,p===null&&(Xi=r)):(r=u,(t!==0||(g&3)!==0)&&(Cr=!0)),u=p}Fa(t)}function ap(t,i){for(var r=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var w=31-Ce(g),M=1<<w,O=p[w];O===-1?((M&r)===0||(M&u)!==0)&&(p[w]=v0(M,i)):O<=i&&(t.expiredLanes|=M),g&=~M}if(i=Ie,r=Ee,r=Ol(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,r===0||t===i&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&we(u),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||la(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(u!==null&&we(u),Ro(r)){case 2:case 8:r=Pe;break;case 32:r=We;break;case 268435456:r=et;break;default:r=We}return u=lp.bind(null,t),r=ee(r,u),t.callbackPriority=i,t.callbackNode=r,i}return u!==null&&u!==null&&we(u),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Nr()&&t.callbackNode!==r)return null;var u=Ee;return u=Ol(t,t===Ie?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(qm(t,u,i),ap(t,ye()),t.callbackNode!=null&&t.callbackNode===r?lp.bind(null,t):null)}function rp(t,i){if(Nr())return null;qm(t,i,!0)}function Wy(){av(function(){(He&6)!==0?ee($e,Qy):ip()})}function vu(){return Zs===0&&(Zs=Zd()),Zs}function op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ul(""+t)}function cp(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function Ky(t,i,r,u,p){if(i==="submit"&&r&&r.stateNode===p){var g=op((p[Vt]||null).action),w=u.submitter;w&&(i=(i=w[Vt]||null)?op(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var M=new ql("action","action",null,u,p);t.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zs!==0){var O=w?cp(p,w):new FormData(p);Hc(r,{pending:!0,data:O,method:p.method,action:g},null,O)}}else typeof g=="function"&&(M.preventDefault(),O=w?cp(p,w):new FormData(p),Hc(r,{pending:!0,data:O,method:p.method,action:g},g,O))},currentTarget:p}]})}}for(var wu=0;wu<ac.length;wu++){var _u=ac[wu],Zy=_u.toLowerCase(),Iy=_u[0].toUpperCase()+_u.slice(1);pn(Zy,"on"+Iy)}pn(qf,"onAnimationEnd"),pn(Yf,"onAnimationIteration"),pn(Ff,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(py,"onTransitionRun"),pn(gy,"onTransitionStart"),pn(by,"onTransitionCancel"),pn(Xf,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function up(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var u=t[r],p=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var w=u.length-1;0<=w;w--){var M=u[w],O=M.instance,V=M.currentTarget;if(M=M.listener,O!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=V;try{g(p)}catch(W){mr(W)}p.currentTarget=null,g=O}else for(w=0;w<u.length;w++){if(M=u[w],O=M.instance,V=M.currentTarget,M=M.listener,O!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=V;try{g(p)}catch(W){mr(W)}p.currentTarget=null,g=O}}}}function Te(t,i){var r=i[zo];r===void 0&&(r=i[zo]=new Set);var u=t+"__bubble";r.has(u)||(dp(i,t,2,!1),r.add(u))}function ju(t,i,r){var u=0;i&&(u|=4),dp(r,t,u,i)}var kr="_reactListening"+Math.random().toString(36).slice(2);function Su(t){if(!t[kr]){t[kr]=!0,sf.forEach(function(r){r!=="selectionchange"&&(Jy.has(r)||ju(r,!1,t),ju(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kr]||(i[kr]=!0,ju("selectionchange",!1,i))}}function dp(t,i,r,u){switch(zp(i)){case 2:var p=Mv;break;case 8:p=Cv;break;default:p=Uu}r=p.bind(null,i,r,t),p=void 0,!Go||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(i,r,{capture:!0,passive:p}):t.addEventListener(i,r,!0):p!==void 0?t.addEventListener(i,r,{passive:p}):t.addEventListener(i,r,!1)}function Nu(t,i,r,u,p){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var M=u.stateNode.containerInfo;if(M===p)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;M!==null;){if(w=fi(M),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=g=w;continue e}M=M.parentNode}}u=u.return}xf(function(){var V=g,W=Fo(r),I=[];e:{var q=Gf.get(t);if(q!==void 0){var F=ql,be=t;switch(t){case"keypress":if(Hl(r)===0)break e;case"keydown":case"keyup":F=$0;break;case"focusin":be="focus",F=Ko;break;case"focusout":be="blur",F=Ko;break;case"beforeblur":case"afterblur":F=Ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=K0;break;case qf:case Yf:case Ff:F=U0;break;case Xf:F=I0;break;case"scroll":case"scrollend":F=O0;break;case"wheel":F=ey;break;case"copy":case"cut":case"paste":F=H0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=jf;break;case"toggle":case"beforetoggle":F=ny}var he=(i&4)!==0,Ge=!he&&(t==="scroll"||t==="scrollend"),U=he?q!==null?q+"Capture":null:q;he=[];for(var z=V,H;z!==null;){var K=z;if(H=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||H===null||U===null||(K=ua(z,U),K!=null&&he.push(Ga(z,K,H))),Ge)break;z=z.return}0<he.length&&(q=new F(q,be,null,r,W),I.push({event:q,listeners:he}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&r!==Yo&&(be=r.relatedTarget||r.fromElement)&&(fi(be)||be[di]))break e;if((F||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,F?(be=r.relatedTarget||r.toElement,F=V,be=be?fi(be):null,be!==null&&(Ge=o(be),he=be.tag,be!==Ge||he!==5&&he!==27&&he!==6)&&(be=null)):(F=null,be=V),F!==be)){if(he=wf,K="onMouseLeave",U="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(he=jf,K="onPointerLeave",U="onPointerEnter",z="pointer"),Ge=F==null?q:ca(F),H=be==null?q:ca(be),q=new he(K,z+"leave",F,r,W),q.target=Ge,q.relatedTarget=H,K=null,fi(W)===V&&(he=new he(U,z+"enter",be,r,W),he.target=H,he.relatedTarget=Ge,K=he),Ge=K,F&&be)t:{for(he=F,U=be,z=0,H=he;H;H=Gi(H))z++;for(H=0,K=U;K;K=Gi(K))H++;for(;0<z-H;)he=Gi(he),z--;for(;0<H-z;)U=Gi(U),H--;for(;z--;){if(he===U||U!==null&&he===U.alternate)break t;he=Gi(he),U=Gi(U)}he=null}else he=null;F!==null&&fp(I,q,F,he,!1),be!==null&&Ge!==null&&fp(I,Ge,be,he,!0)}}e:{if(q=V?ca(V):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ce=Af;else if(Tf(q))if(Ef)ce=fy;else{ce=uy;var Me=cy}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&qo(V.elementType)&&(ce=Af):ce=dy;if(ce&&(ce=ce(t,V))){Df(I,ce,r,W);break e}Me&&Me(t,q,V),t==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&Vo(q,"number",q.value)}switch(Me=V?ca(V):window,t){case"focusin":(Tf(Me)||Me.contentEditable==="true")&&(_i=Me,nc=V,xa=null);break;case"focusout":xa=nc=_i=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,Hf(I,r,W);break;case"selectionchange":if(my)break;case"keydown":case"keyup":Hf(I,r,W)}var ue;if(Io)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else wi?Cf(t,r)&&(ge="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ge="onCompositionStart");ge&&(Sf&&r.locale!=="ko"&&(wi||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&wi&&(ue=yf()):(is=W,$o="value"in is?is.value:is.textContent,wi=!0)),Me=Tr(V,ge),0<Me.length&&(ge=new _f(ge,t,null,r,W),I.push({event:ge,listeners:Me}),ue?ge.data=ue:(ue=kf(r),ue!==null&&(ge.data=ue)))),(ue=iy?ay(t,r):ly(t,r))&&(ge=Tr(V,"onBeforeInput"),0<ge.length&&(Me=new _f("onBeforeInput","beforeinput",null,r,W),I.push({event:Me,listeners:ge}),Me.data=ue)),Ky(I,t,V,r,W)}up(I,i)})}function Ga(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Tr(t,i){for(var r=i+"Capture",u=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ua(t,r),p!=null&&u.unshift(Ga(t,p,g)),p=ua(t,i),p!=null&&u.push(Ga(t,p,g))),t.tag===3)return u;t=t.return}return[]}function Gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,i,r,u,p){for(var g=i._reactName,w=[];r!==null&&r!==u;){var M=r,O=M.alternate,V=M.stateNode;if(M=M.tag,O!==null&&O===u)break;M!==5&&M!==26&&M!==27||V===null||(O=V,p?(V=ua(r,g),V!=null&&w.unshift(Ga(r,V,O))):p||(V=ua(r,g),V!=null&&w.push(Ga(r,V,O)))),r=r.return}w.length!==0&&t.push({event:i,listeners:w})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(ev,`
`).replace(tv,"")}function mp(t,i){return i=hp(i),hp(t)===i}function Dr(){}function Xe(t,i,r,u,p,g){switch(r){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||xi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&xi(t,""+u);break;case"className":zl(t,"class",u);break;case"tabIndex":zl(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(t,r,u);break;case"style":gf(t,u,g);break;case"data":if(i!=="object"){zl(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=Ul(""+u),t.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&Xe(t,i,"name",p.name,p,null),Xe(t,i,"formEncType",p.formEncType,p,null),Xe(t,i,"formMethod",p.formMethod,p,null),Xe(t,i,"formTarget",p.formTarget,p,null)):(Xe(t,i,"encType",p.encType,p,null),Xe(t,i,"method",p.method,p,null),Xe(t,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=Ul(""+u),t.setAttribute(r,u);break;case"onClick":u!=null&&(t.onclick=Dr);break;case"onScroll":u!=null&&Te("scroll",t);break;case"onScrollEnd":u!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}r=Ul(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""+u):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":u===!0?t.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,u):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(r,u):t.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(r):t.setAttribute(r,u);break;case"popover":Te("beforetoggle",t),Te("toggle",t),Rl(t,"popover",u);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=A0.get(r)||r,Rl(t,r,u))}}function Mu(t,i,r,u,p,g){switch(r){case"style":gf(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof u=="string"?xi(t,u):(typeof u=="number"||typeof u=="bigint")&&xi(t,""+u);break;case"onScroll":u!=null&&Te("scroll",t);break;case"onScrollEnd":u!=null&&Te("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!af.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),i=r.slice(2,p?r.length-7:void 0),g=t[Vt]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,u,p);break e}r in t?t[r]=u:u===!0?t.setAttribute(r,""):Rl(t,r,u)}}}function Tt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var u=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var w=r[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,g,w,r,null)}}p&&Xe(t,i,"srcSet",r.srcSet,r,null),u&&Xe(t,i,"src",r.src,r,null);return;case"input":Te("invalid",t);var M=g=w=p=null,O=null,V=null;for(u in r)if(r.hasOwnProperty(u)){var W=r[u];if(W!=null)switch(u){case"name":p=W;break;case"type":w=W;break;case"checked":O=W;break;case"defaultChecked":V=W;break;case"value":g=W;break;case"defaultValue":M=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:Xe(t,i,u,W,r,null)}}ff(t,g,M,O,V,w,p,!1),Ll(t);return;case"select":Te("invalid",t),u=w=g=null;for(p in r)if(r.hasOwnProperty(p)&&(M=r[p],M!=null))switch(p){case"value":g=M;break;case"defaultValue":w=M;break;case"multiple":u=M;default:Xe(t,i,p,M,r,null)}i=g,r=w,t.multiple=!!u,i!=null?bi(t,!!u,i,!1):r!=null&&bi(t,!!u,r,!0);return;case"textarea":Te("invalid",t),g=p=u=null;for(w in r)if(r.hasOwnProperty(w)&&(M=r[w],M!=null))switch(w){case"value":u=M;break;case"defaultValue":p=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Xe(t,i,w,M,r,null)}mf(t,u,p,g),Ll(t);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(u=r[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(t,i,O,u,r,null)}return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(u=0;u<Xa.length;u++)Te(Xa[u],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(u=r[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,V,u,r,null)}return;default:if(qo(i)){for(W in r)r.hasOwnProperty(W)&&(u=r[W],u!==void 0&&Mu(t,i,W,u,r,void 0));return}}for(M in r)r.hasOwnProperty(M)&&(u=r[M],u!=null&&Xe(t,i,M,u,r,null))}function nv(t,i,r,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,M=null,O=null,V=null,W=null;for(F in r){var I=r[F];if(r.hasOwnProperty(F)&&I!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=I;default:u.hasOwnProperty(F)||Xe(t,i,F,null,u,I)}}for(var q in u){var F=u[q];if(I=r[q],u.hasOwnProperty(q)&&(F!=null||I!=null))switch(q){case"type":g=F;break;case"name":p=F;break;case"checked":V=F;break;case"defaultChecked":W=F;break;case"value":w=F;break;case"defaultValue":M=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==I&&Xe(t,i,q,F,u,I)}}Ho(t,w,M,O,V,W,g,p);return;case"select":F=w=M=q=null;for(g in r)if(O=r[g],r.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":F=O;default:u.hasOwnProperty(g)||Xe(t,i,g,null,u,O)}for(p in u)if(g=u[p],O=r[p],u.hasOwnProperty(p)&&(g!=null||O!=null))switch(p){case"value":q=g;break;case"defaultValue":M=g;break;case"multiple":w=g;default:g!==O&&Xe(t,i,p,g,u,O)}i=M,r=w,u=F,q!=null?bi(t,!!r,q,!1):!!u!=!!r&&(i!=null?bi(t,!!r,i,!0):bi(t,!!r,r?[]:"",!1));return;case"textarea":F=q=null;for(M in r)if(p=r[M],r.hasOwnProperty(M)&&p!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Xe(t,i,M,null,u,p)}for(w in u)if(p=u[w],g=r[w],u.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":q=p;break;case"defaultValue":F=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Xe(t,i,w,p,u,g)}hf(t,q,F);return;case"option":for(var be in r)if(q=r[be],r.hasOwnProperty(be)&&q!=null&&!u.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Xe(t,i,be,null,u,q)}for(O in u)if(q=u[O],F=r[O],u.hasOwnProperty(O)&&q!==F&&(q!=null||F!=null))switch(O){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(t,i,O,q,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in r)q=r[he],r.hasOwnProperty(he)&&q!=null&&!u.hasOwnProperty(he)&&Xe(t,i,he,null,u,q);for(V in u)if(q=u[V],F=r[V],u.hasOwnProperty(V)&&q!==F&&(q!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Xe(t,i,V,q,u,F)}return;default:if(qo(i)){for(var Ge in r)q=r[Ge],r.hasOwnProperty(Ge)&&q!==void 0&&!u.hasOwnProperty(Ge)&&Mu(t,i,Ge,void 0,u,q);for(W in u)q=u[W],F=r[W],!u.hasOwnProperty(W)||q===F||q===void 0&&F===void 0||Mu(t,i,W,q,u,F);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&Xe(t,i,U,null,u,q);for(I in u)q=u[I],F=r[I],!u.hasOwnProperty(I)||q===F||q==null&&F==null||Xe(t,i,I,q,u,F)}var Cu=null,ku=null;function Ar(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Tu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Du=null;function sv(){var t=window.event;return t&&t.type==="popstate"?t===Du?!1:(Du=t,!0):(Du=null,!1)}var bp=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(lv)}:bp;function lv(t){setTimeout(function(){throw t})}function vs(t){return t==="head"}function yp(t,i){var r=i,u=0,p=0;do{var g=r.nextSibling;if(t.removeChild(r),g&&g.nodeType===8)if(r=g.data,r==="/$"){if(0<u&&8>u){r=u;var w=t.ownerDocument;if(r&1&&$a(w.documentElement),r&2&&$a(w.body),r&4)for(r=w.head,$a(r),w=r.firstChild;w;){var M=w.nextSibling,O=w.nodeName;w[oa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||r.removeChild(w),w=M}}if(p===0){t.removeChild(g),tl(i);return}p--}else r==="$"||r==="$?"||r==="$!"?p++:u=r.charCodeAt(0)-48;else u=0;r=g}while(r);tl(i)}function Au(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Au(r),Lo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function rv(t,i,r,u){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[oa])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=bn(t.nextSibling),t===null)break}return null}function ov(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bn(t.nextSibling),t===null))return null;return t}function Eu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cv(t,i){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")i();else{var u=function(){i(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ou=null;function vp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function wp(t,i,r){switch(i=Ar(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function $a(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Lo(t)}var hn=new Map,_p=new Set;function Er(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xn=X.d;X.d={f:uv,r:dv,D:fv,C:hv,L:mv,m:pv,X:bv,S:gv,M:xv};function uv(){var t=Xn.f(),i=jr();return t||i}function dv(t){var i=hi(t);i!==null&&i.tag===5&&i.type==="form"?qh(i):Xn.r(t)}var $i=typeof document>"u"?null:document;function jp(t,i,r){var u=$i;if(u&&typeof i=="string"&&i){var p=ln(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),_p.has(p)||(_p.add(p),t={rel:t,crossOrigin:r,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),Tt(i,"link",t),wt(i),u.head.appendChild(i)))}}function fv(t){Xn.D(t),jp("dns-prefetch",t,null)}function hv(t,i){Xn.C(t,i),jp("preconnect",t,i)}function mv(t,i,r){Xn.L(t,i,r);var u=$i;if(u&&t&&i){var p='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+ln(r.imageSizes)+'"]')):p+='[href="'+ln(t)+'"]';var g=p;switch(i){case"style":g=Qi(t);break;case"script":g=Wi(t)}hn.has(g)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),hn.set(g,t),u.querySelector(p)!==null||i==="style"&&u.querySelector(Qa(g))||i==="script"&&u.querySelector(Wa(g))||(i=u.createElement("link"),Tt(i,"link",t),wt(i),u.head.appendChild(i)))}}function pv(t,i){Xn.m(t,i);var r=$i;if(r&&t){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(t)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wi(t)}if(!hn.has(g)&&(t=b({rel:"modulepreload",href:t},i),hn.set(g,t),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Wa(g)))return}u=r.createElement("link"),Tt(u,"link",t),wt(u),r.head.appendChild(u)}}}function gv(t,i,r){Xn.S(t,i,r);var u=$i;if(u&&t){var p=mi(u).hoistableStyles,g=Qi(t);i=i||"default";var w=p.get(g);if(!w){var M={loading:0,preload:null};if(w=u.querySelector(Qa(g)))M.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=hn.get(g))&&Ru(t,r);var O=w=u.createElement("link");wt(O),Tt(O,"link",t),O._p=new Promise(function(V,W){O.onload=V,O.onerror=W}),O.addEventListener("load",function(){M.loading|=1}),O.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Or(w,i,u)}w={type:"stylesheet",instance:w,count:1,state:M},p.set(g,w)}}}function bv(t,i){Xn.X(t,i);var r=$i;if(r&&t){var u=mi(r).hoistableScripts,p=Wi(t),g=u.get(p);g||(g=r.querySelector(Wa(p)),g||(t=b({src:t,async:!0},i),(i=hn.get(p))&&zu(t,i),g=r.createElement("script"),wt(g),Tt(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function xv(t,i){Xn.M(t,i);var r=$i;if(r&&t){var u=mi(r).hoistableScripts,p=Wi(t),g=u.get(p);g||(g=r.querySelector(Wa(p)),g||(t=b({src:t,async:!0,type:"module"},i),(i=hn.get(p))&&zu(t,i),g=r.createElement("script"),wt(g),Tt(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Sp(t,i,r,u){var p=(p=re.current)?Er(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Qi(r.href),r=mi(p).hoistableStyles,u=r.get(i),u||(u={type:"style",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Qi(r.href);var g=mi(p).hoistableStyles,w=g.get(t);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,w),(g=p.querySelector(Qa(t)))&&!g._p&&(w.instance=g,w.state.loading=5),hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},hn.set(t,r),g||yv(p,t,r,w.state))),i&&u===null)throw Error(a(528,""));return w}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wi(r),r=mi(p).hoistableScripts,u=r.get(i),u||(u={type:"script",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Qi(t){return'href="'+ln(t)+'"'}function Qa(t){return'link[rel="stylesheet"]['+t+"]"}function Np(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function yv(t,i,r,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Tt(i,"link",r),wt(i),t.head.appendChild(i))}function Wi(t){return'[src="'+ln(t)+'"]'}function Wa(t){return"script[async]"+t}function Mp(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+ln(r.href)+'"]');if(u)return i.instance=u,wt(u),u;var p=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),wt(u),Tt(u,"style",p),Or(u,r.precedence,t),i.instance=u;case"stylesheet":p=Qi(r.href);var g=t.querySelector(Qa(p));if(g)return i.state.loading|=4,i.instance=g,wt(g),g;u=Np(r),(p=hn.get(p))&&Ru(u,p),g=(t.ownerDocument||t).createElement("link"),wt(g);var w=g;return w._p=new Promise(function(M,O){w.onload=M,w.onerror=O}),Tt(g,"link",u),i.state.loading|=4,Or(g,r.precedence,t),i.instance=g;case"script":return g=Wi(r.src),(p=t.querySelector(Wa(g)))?(i.instance=p,wt(p),p):(u=r,(p=hn.get(g))&&(u=b({},r),zu(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),wt(p),Tt(p,"link",u),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Or(u,r.precedence,t));return i.instance}function Or(t,i,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,w=0;w<u.length;w++){var M=u[w];if(M.dataset.precedence===i)g=M;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Ru(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rr=null;function Cp(t,i,r){if(Rr===null){var u=new Map,p=Rr=new Map;p.set(r,u)}else p=Rr,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(t))return u;for(u.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[oa]||g[Dt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=t+w;var M=u.get(w);M?M.push(g):u.set(w,[g])}}return u}function kp(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function vv(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ka=null;function wv(){}function _v(t,i,r){if(Ka===null)throw Error(a(475));var u=Ka;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Qi(r.href),g=t.querySelector(Qa(p));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=zr.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=g,wt(g);return}g=t.ownerDocument||t,r=Np(r),(p=hn.get(p))&&Ru(r,p),g=g.createElement("link"),wt(g);var w=g;w._p=new Promise(function(M,O){w.onload=M,w.onerror=O}),Tt(g,"link",r),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=zr.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function jv(){if(Ka===null)throw Error(a(475));var t=Ka;return t.stylesheets&&t.count===0&&Lu(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&Lu(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function zr(){if(this.count--,this.count===0){if(this.stylesheets)Lu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lr=null;function Lu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lr=new Map,i.forEach(Sv,t),Lr=null,zr.call(t))}function Sv(t,i){if(!(i.state.loading&4)){var r=Lr.get(t);if(r)var u=r.get(null);else{r=new Map,Lr.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),u=w)}u&&r.set(null,u)}p=i.instance,w=p.getAttribute("data-precedence"),g=r.get(w)||u,g===u&&r.set(null,p),r.set(w,p),this.count++,u=zr.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var Za={$$typeof:E,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Nv(t,i,r,u,p,g,w,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.hiddenUpdates=Eo(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Dp(t,i,r,u,p,g,w,M,O,V,W,I){return t=new Nv(t,i,r,w,M,O,V,I),i=1,g===!0&&(i|=24),g=Wt(3,null,null,i),t.current=g,g.stateNode=t,i=bc(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:r,cache:i},wc(g),t}function Ap(t){return t?(t=Mi,t):Mi}function Ep(t,i,r,u,p,g){p=Ap(p),u.context===null?u.context=p:u.pendingContext=p,u=rs(i),u.payload={element:r},g=g===void 0?null:g,g!==null&&(u.callback=g),r=os(t,u,i),r!==null&&(en(r,t,i),Ca(r,t,i))}function Op(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Bu(t,i){Op(t,i),(t=t.alternate)&&Op(t,i)}function Rp(t){if(t.tag===13){var i=Ni(t,67108864);i!==null&&en(i,t,67108864),Bu(t,67108864)}}var Br=!0;function Mv(t,i,r,u){var p=B.T;B.T=null;var g=X.p;try{X.p=2,Uu(t,i,r,u)}finally{X.p=g,B.T=p}}function Cv(t,i,r,u){var p=B.T;B.T=null;var g=X.p;try{X.p=8,Uu(t,i,r,u)}finally{X.p=g,B.T=p}}function Uu(t,i,r,u){if(Br){var p=Pu(u);if(p===null)Nu(t,i,u,Ur,r),Lp(t,u);else if(Tv(p,t,i,r,u))u.stopPropagation();else if(Lp(t,u),i&4&&-1<kv.indexOf(t)){for(;p!==null;){var g=hi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=_n(g.pendingLanes);if(w!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;w;){var O=1<<31-Ce(w);M.entanglements[1]|=O,w&=~O}Cn(g),(He&6)===0&&(wr=ye()+500,Fa(0))}}break;case 13:M=Ni(g,2),M!==null&&en(M,g,2),jr(),Bu(g,2)}if(g=Pu(u),g===null&&Nu(t,i,u,Ur,r),g===p)break;p=g}p!==null&&u.stopPropagation()}else Nu(t,i,u,null,r)}}function Pu(t){return t=Fo(t),Hu(t)}var Ur=null;function Hu(t){if(Ur=null,t=fi(t),t!==null){var i=o(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=c(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ur=t,null}function zp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case $e:return 2;case Pe:return 8;case We:case vn:return 32;case et:return 268435456;default:return 32}default:return 32}}var Vu=!1,ws=null,_s=null,js=null,Ia=new Map,Ja=new Map,Ss=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(t,i){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Ia.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(i.pointerId)}}function el(t,i,r,u,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},i!==null&&(i=hi(i),i!==null&&Rp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function Tv(t,i,r,u,p){switch(i){case"focusin":return ws=el(ws,t,i,r,u,p),!0;case"dragenter":return _s=el(_s,t,i,r,u,p),!0;case"mouseover":return js=el(js,t,i,r,u,p),!0;case"pointerover":var g=p.pointerId;return Ia.set(g,el(Ia.get(g)||null,t,i,r,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Ja.set(g,el(Ja.get(g)||null,t,i,r,u,p)),!0}return!1}function Bp(t){var i=fi(t.target);if(i!==null){var r=o(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){t.blockedOn=i,_0(t.priority,function(){if(r.tag===13){var u=Jt();u=Oo(u);var p=Ni(r,u);p!==null&&en(p,r,u),Bu(r,u)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Pu(t.nativeEvent);if(r===null){r=t.nativeEvent;var u=new r.constructor(r.type,r);Yo=u,r.target.dispatchEvent(u),Yo=null}else return i=hi(r),i!==null&&Rp(i),t.blockedOn=r,!1;i.shift()}return!0}function Up(t,i,r){Pr(t)&&r.delete(i)}function Dv(){Vu=!1,ws!==null&&Pr(ws)&&(ws=null),_s!==null&&Pr(_s)&&(_s=null),js!==null&&Pr(js)&&(js=null),Ia.forEach(Up),Ja.forEach(Up)}function Hr(t,i){t.blockedOn===i&&(t.blockedOn=null,Vu||(Vu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Dv)))}var Vr=null;function Pp(t){Vr!==t&&(Vr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vr===t&&(Vr=null);for(var i=0;i<t.length;i+=3){var r=t[i],u=t[i+1],p=t[i+2];if(typeof u!="function"){if(Hu(u||r)===null)continue;break}var g=hi(r);g!==null&&(t.splice(i,3),i-=3,Hc(g,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function tl(t){function i(O){return Hr(O,t)}ws!==null&&Hr(ws,t),_s!==null&&Hr(_s,t),js!==null&&Hr(js,t),Ia.forEach(i),Ja.forEach(i);for(var r=0;r<Ss.length;r++){var u=Ss[r];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ss.length&&(r=Ss[0],r.blockedOn===null);)Bp(r),r.blockedOn===null&&Ss.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],g=r[u+1],w=p[Vt]||null;if(typeof g=="function")w||Pp(r);else if(w){var M=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[Vt]||null)M=w.formAction;else if(Hu(p)!==null)continue}else M=w.action;typeof M=="function"?r[u+1]=M:(r.splice(u,3),u-=3),Pp(r)}}}function qu(t){this._internalRoot=t}qr.prototype.render=qu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,u=Jt();Ep(r,u,t,i,null,null)},qr.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ep(t.current,2,null,t,null,null),jr(),i[di]=null}};function qr(t){this._internalRoot=t}qr.prototype.unstable_scheduleHydration=function(t){if(t){var i=tf();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Ss.length&&i!==0&&i<Ss[r].priority;r++);Ss.splice(r,0,t),r===0&&Bp(t)}};var Hp=e.version;if(Hp!=="19.1.1")throw Error(a(527,Hp,"19.1.1"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=h(i),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Av={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yr.isDisabled&&Yr.supportsFiber)try{Se=Yr.inject(Av),oe=Yr}catch{}}return sl.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,u="",p=nm,g=sm,w=im,M=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=Dp(t,1,!1,null,null,r,u,p,g,w,M,null),t[di]=i.current,Su(t),new qu(i)},sl.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var u=!1,p="",g=nm,w=sm,M=im,O=null,V=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(M=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks),r.formState!==void 0&&(V=r.formState)),i=Dp(t,1,!0,i,r??null,u,p,g,w,M,O,V),i.context=Ap(null),r=i.current,u=Jt(),u=Oo(u),p=rs(u),p.callback=null,os(r,p,u),r=u,i.current.lanes=r,ra(i,r),Cn(i),t[di]=i.current,Su(t),new qr(i)},sl.version="19.1.1",sl}var Kp;function Yv(){if(Kp)return Xu.exports;Kp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xu.exports=qv(),Xu.exports}var Fv=Yv();Xb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},xl.apply(this,arguments)}var Ms;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ms||(Ms={}));const Zp="popstate";function Xv(n){n===void 0&&(n={});function e(a,l){let{pathname:o,search:c,hash:f}=a.location;return hd("",{pathname:o,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(a,l){return typeof l=="string"?l:$b(l)}return $v(e,s,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gv(){return Math.random().toString(36).substr(2,8)}function Ip(n,e){return{usr:n.state,key:n.key,idx:e}}function hd(n,e,s,a){return s===void 0&&(s=null),xl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ia(e):e,{state:s,key:e&&e.key||a||Gv()})}function $b(n){let{pathname:e="/",search:s="",hash:a=""}=n;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function ia(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substr(s),n=n.substr(0,s));let a=n.indexOf("?");a>=0&&(e.search=n.substr(a),n=n.substr(0,a)),n&&(e.pathname=n)}return e}function $v(n,e,s,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:o=!1}=a,c=l.history,f=Ms.Pop,h=null,m=b();m==null&&(m=0,c.replaceState(xl({},c.state,{idx:m}),""));function b(){return(c.state||{idx:null}).idx}function x(){f=Ms.Pop;let S=b(),C=S==null?null:S-m;m=S,h&&h({action:f,location:_.location,delta:C})}function y(S,C){f=Ms.Push;let T=hd(_.location,S,C);m=b()+1;let E=Ip(T,m),A=_.createHref(T);try{c.pushState(E,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;l.location.assign(A)}o&&h&&h({action:f,location:_.location,delta:1})}function v(S,C){f=Ms.Replace;let T=hd(_.location,S,C);m=b();let E=Ip(T,m),A=_.createHref(T);c.replaceState(E,"",A),o&&h&&h({action:f,location:_.location,delta:0})}function j(S){let C=l.location.origin!=="null"?l.location.origin:l.location.href,T=typeof S=="string"?S:$b(S);return T=T.replace(/ $/,"%20"),yt(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let _={get action(){return f},get location(){return n(l,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Zp,x),h=S,()=>{l.removeEventListener(Zp,x),h=null}},createHref(S){return e(l,S)},createURL:j,encodeLocation(S){let C=j(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:v,go(S){return c.go(S)}};return _}var Jp;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Jp||(Jp={}));function Qv(n,e,s){return s===void 0&&(s="/"),Wv(n,e,s)}function Wv(n,e,s,a){let l=typeof e=="string"?ia(e):e,o=Kb(l.pathname||"/",s);if(o==null)return null;let c=Qb(n);Kv(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=o1(o);f=a1(c[h],m)}return f}function Qb(n,e,s,a){e===void 0&&(e=[]),s===void 0&&(s=[]),a===void 0&&(a="");let l=(o,c,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(yt(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let m=ii([a,h.relativePath]),b=s.concat(h);o.children&&o.children.length>0&&(yt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Qb(o.children,e,b,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:s1(m,o.index),routesMeta:b})};return n.forEach((o,c)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))l(o,c);else for(let h of Wb(o.path))l(o,c,h)}),e}function Wb(n){let e=n.split("/");if(e.length===0)return[];let[s,...a]=e,l=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let c=Wb(a.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),l&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function Kv(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:i1(e.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Zv=/^:[\w-]+$/,Iv=3,Jv=2,e1=1,t1=10,n1=-2,eg=n=>n==="*";function s1(n,e){let s=n.split("/"),a=s.length;return s.some(eg)&&(a+=n1),e&&(a+=Jv),s.filter(l=>!eg(l)).reduce((l,o)=>l+(Zv.test(o)?Iv:o===""?e1:t1),a)}function i1(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function a1(n,e,s){let{routesMeta:a}=n,l={},o="/",c=[];for(let f=0;f<a.length;++f){let h=a[f],m=f===a.length-1,b=o==="/"?e:e.slice(o.length)||"/",x=l1({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},b),y=h.route;if(!x)return null;Object.assign(l,x.params),c.push({params:l,pathname:ii([o,x.pathname]),pathnameBase:m1(ii([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=ii([o,x.pathnameBase]))}return c}function l1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,a]=r1(n.path,n.caseSensitive,n.end),l=e.match(s);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((m,b,x)=>{let{paramName:y,isOptional:v}=b;if(y==="*"){let _=f[x]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const j=f[x];return v&&!j?m[y]=void 0:m[y]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function r1(n,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Gb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function o1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Kb(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,a=n.charAt(s);return a&&a!=="/"?null:n.slice(s)||"/"}function c1(n,e){e===void 0&&(e="/");let{pathname:s,search:a="",hash:l=""}=typeof n=="string"?ia(n):n;return{pathname:s?s.startsWith("/")?s:u1(s,e):e,search:p1(a),hash:g1(l)}}function u1(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Wu(n,e,s,a){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d1(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function f1(n,e){let s=d1(n);return e?s.map((a,l)=>l===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function h1(n,e,s,a){a===void 0&&(a=!1);let l;typeof n=="string"?l=ia(n):(l=xl({},n),yt(!l.pathname||!l.pathname.includes("?"),Wu("?","pathname","search",l)),yt(!l.pathname||!l.pathname.includes("#"),Wu("#","pathname","hash",l)),yt(!l.search||!l.search.includes("#"),Wu("#","search","hash",l)));let o=n===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=s;else{let x=e.length-1;if(!a&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;l.pathname=y.join("/")}f=x>=0?e[x]:"/"}let h=c1(l,f),m=c&&c!=="/"&&c.endsWith("/"),b=(o||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(m||b)&&(h.pathname+="/"),h}const ii=n=>n.join("/").replace(/\/\/+/g,"/"),m1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function b1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Zb=["post","put","patch","delete"];new Set(Zb);const x1=["get",...Zb];new Set(x1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},yl.apply(this,arguments)}const Ad=N.createContext(null),y1=N.createContext(null),vo=N.createContext(null),wo=N.createContext(null),ci=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Ib=N.createContext(null);function _o(){return N.useContext(wo)!=null}function Tl(){return _o()||yt(!1),N.useContext(wo).location}function Jb(n){N.useContext(vo).static||N.useLayoutEffect(n)}function ut(){let{isDataRoute:n}=N.useContext(ci);return n?E1():v1()}function v1(){_o()||yt(!1);let n=N.useContext(Ad),{basename:e,future:s,navigator:a}=N.useContext(vo),{matches:l}=N.useContext(ci),{pathname:o}=Tl(),c=JSON.stringify(f1(l,s.v7_relativeSplatPath)),f=N.useRef(!1);return Jb(()=>{f.current=!0}),N.useCallback(function(m,b){if(b===void 0&&(b={}),!f.current)return;if(typeof m=="number"){a.go(m);return}let x=h1(m,JSON.parse(c),o,b.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ii([e,x.pathname])),(b.replace?a.replace:a.push)(x,b.state,b)},[e,a,c,o,n])}function Jn(){let{matches:n}=N.useContext(ci),e=n[n.length-1];return e?e.params:{}}function w1(n,e){return _1(n,e)}function _1(n,e,s,a){_o()||yt(!1);let{navigator:l}=N.useContext(vo),{matches:o}=N.useContext(ci),c=o[o.length-1],f=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=Tl(),b;if(e){var x;let S=typeof e=="string"?ia(e):e;h==="/"||(x=S.pathname)!=null&&x.startsWith(h)||yt(!1),b=S}else b=m;let y=b.pathname||"/",v=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=Qv(n,{pathname:v}),_=C1(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:ii([h,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:ii([h,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,s,a);return e&&_?N.createElement(wo.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Ms.Pop}},_):_}function j1(){let n=A1(),e=b1(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),s?N.createElement("pre",{style:l},s):null,null)}const S1=N.createElement(j1,null);class N1 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?N.createElement(ci.Provider,{value:this.props.routeContext},N.createElement(Ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M1(n){let{routeContext:e,match:s,children:a}=n,l=N.useContext(Ad);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(ci.Provider,{value:e},a)}function C1(n,e,s,a){var l;if(e===void 0&&(e=[]),s===void 0&&(s=null),a===void 0&&(a=null),n==null){var o;if(!s)return null;if(s.errors)n=s.matches;else if((o=a)!=null&&o.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let c=n,f=(l=s)==null?void 0:l.errors;if(f!=null){let b=c.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);b>=0||yt(!1),c=c.slice(0,Math.min(c.length,b+1))}let h=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let b=0;b<c.length;b++){let x=c[b];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=b),x.route.id){let{loaderData:y,errors:v}=s,j=x.route.loader&&y[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||j){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((b,x,y)=>{let v,j=!1,_=null,S=null;s&&(v=f&&x.route.id?f[x.route.id]:void 0,_=x.route.errorElement||S1,h&&(m<0&&y===0?(O1("route-fallback"),j=!0,S=null):m===y&&(j=!0,S=x.route.hydrateFallbackElement||null)));let C=e.concat(c.slice(0,y+1)),T=()=>{let E;return v?E=_:j?E=S:x.route.Component?E=N.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=b,N.createElement(M1,{match:x,routeContext:{outlet:b,matches:C,isDataRoute:s!=null},children:E})};return s&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?N.createElement(N1,{location:s.location,revalidation:s.revalidation,component:_,error:v,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var ex=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(ex||{}),tx=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(tx||{});function k1(n){let e=N.useContext(Ad);return e||yt(!1),e}function T1(n){let e=N.useContext(y1);return e||yt(!1),e}function D1(n){let e=N.useContext(ci);return e||yt(!1),e}function nx(n){let e=D1(),s=e.matches[e.matches.length-1];return s.route.id||yt(!1),s.route.id}function A1(){var n;let e=N.useContext(Ib),s=T1(),a=nx();return e!==void 0?e:(n=s.errors)==null?void 0:n[a]}function E1(){let{router:n}=k1(ex.UseNavigateStable),e=nx(tx.UseNavigateStable),s=N.useRef(!1);return Jb(()=>{s.current=!0}),N.useCallback(function(l,o){o===void 0&&(o={}),s.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,yl({fromRouteId:e},o)))},[n,e])}const tg={};function O1(n,e,s){tg[n]||(tg[n]=!0)}function R1(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function ze(n){yt(!1)}function z1(n){let{basename:e="/",children:s=null,location:a,navigationType:l=Ms.Pop,navigator:o,static:c=!1,future:f}=n;_o()&&yt(!1);let h=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:h,navigator:o,static:c,future:yl({v7_relativeSplatPath:!1},f)}),[h,f,o,c]);typeof a=="string"&&(a=ia(a));let{pathname:b="/",search:x="",hash:y="",state:v=null,key:j="default"}=a,_=N.useMemo(()=>{let S=Kb(b,h);return S==null?null:{location:{pathname:S,search:x,hash:y,state:v,key:j},navigationType:l}},[h,b,x,y,v,j,l]);return _==null?null:N.createElement(vo.Provider,{value:m},N.createElement(wo.Provider,{children:s,value:_}))}function L1(n){let{children:e,location:s}=n;return w1(md(e),s)}new Promise(()=>{});function md(n,e){e===void 0&&(e=[]);let s=[];return N.Children.forEach(n,(a,l)=>{if(!N.isValidElement(a))return;let o=[...e,l];if(a.type===N.Fragment){s.push.apply(s,md(a.props.children,o));return}a.type!==ze&&yt(!1),!a.props.index||!a.props.children||yt(!1);let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=md(a.props.children,o)),s.push(c)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,s)=>{let a=n[s];return e.concat(Array.isArray(a)?a.map(l=>[s,l]):[[s,a]])},[]))}function B1(n,e){let s=pd(n);return e&&e.forEach((a,l)=>{s.has(l)||e.getAll(l).forEach(o=>{s.append(l,o)})}),s}const U1="6";try{window.__reactRouterVersion=U1}catch{}const P1="startTransition",ng=Uv[P1];function H1(n){let{basename:e,children:s,future:a,window:l}=n,o=N.useRef();o.current==null&&(o.current=Xv({window:l,v5Compat:!0}));let c=o.current,[f,h]=N.useState({action:c.action,location:c.location}),{v7_startTransition:m}=a||{},b=N.useCallback(x=>{m&&ng?ng(()=>h(x)):h(x)},[h,m]);return N.useLayoutEffect(()=>c.listen(b),[c,b]),N.useEffect(()=>R1(a),[a]),N.createElement(z1,{basename:e,children:s,location:f.location,navigationType:f.action,navigator:c,future:a})}var sg;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(sg||(sg={}));var ig;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ig||(ig={}));function V1(n){let e=N.useRef(pd(n)),s=N.useRef(!1),a=Tl(),l=N.useMemo(()=>B1(a.search,s.current?null:e.current),[a.search]),o=ut(),c=N.useCallback((f,h)=>{const m=pd(typeof f=="function"?f(l):f);s.current=!0,o("?"+m,h)},[o,l]);return[l,c]}var jo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},So=typeof window>"u"||"Deno"in globalThis;function xn(){}function q1(n,e){return typeof n=="function"?n(e):n}function Y1(n){return typeof n=="number"&&n>=0&&n!==1/0}function F1(n,e){return Math.max(n+(e||0)-Date.now(),0)}function gd(n,e){return typeof n=="function"?n(e):n}function X1(n,e){return typeof n=="function"?n(e):n}function ag(n,e){const{type:s="all",exact:a,fetchStatus:l,predicate:o,queryKey:c,stale:f}=n;if(c){if(a){if(e.queryHash!==Ed(c,e.options))return!1}else if(!wl(e.queryKey,c))return!1}if(s!=="all"){const h=e.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||l&&l!==e.state.fetchStatus||o&&!o(e))}function lg(n,e){const{exact:s,status:a,predicate:l,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(s){if(vl(e.options.mutationKey)!==vl(o))return!1}else if(!wl(e.options.mutationKey,o))return!1}return!(a&&e.state.status!==a||l&&!l(e))}function Ed(n,e){return(e?.queryKeyHashFn||vl)(n)}function vl(n){return JSON.stringify(n,(e,s)=>bd(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=s[l],a),{}):s)}function wl(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(s=>wl(n[s],e[s])):!1}function sx(n,e){if(n===e)return n;const s=rg(n)&&rg(e);if(s||bd(n)&&bd(e)){const a=s?n:Object.keys(n),l=a.length,o=s?e:Object.keys(e),c=o.length,f=s?[]:{},h=new Set(a);let m=0;for(let b=0;b<c;b++){const x=s?b:o[b];(!s&&h.has(x)||s)&&n[x]===void 0&&e[x]===void 0?(f[x]=void 0,m++):(f[x]=sx(n[x],e[x]),f[x]===n[x]&&n[x]!==void 0&&m++)}return l===c&&m===l?n:f}return e}function rg(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function bd(n){if(!og(n))return!1;const e=n.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!og(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function og(n){return Object.prototype.toString.call(n)==="[object Object]"}function G1(n){return new Promise(e=>{setTimeout(e,n)})}function $1(n,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,e):s.structuralSharing!==!1?sx(n,e):e}function Q1(n,e,s=0){const a=[...n,e];return s&&a.length>s?a.slice(1):a}function W1(n,e,s=0){const a=[e,...n];return s&&a.length>s?a.slice(0,-1):a}var Od=Symbol();function ix(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Od?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var K1=class extends jo{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!So&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ax=new K1,Z1=class extends jo{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!So&&window.addEventListener){const e=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(s=>{s(n)}))}isOnline(){return this.#e}},oo=new Z1;function I1(){let n,e;const s=new Promise((l,o)=>{n=l,e=o});s.status="pending",s.catch(()=>{});function a(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{a({status:"fulfilled",value:l}),n(l)},s.reject=l=>{a({status:"rejected",reason:l}),e(l)},s}function J1(n){return Math.min(1e3*2**n,3e4)}function lx(n){return(n??"online")==="online"?oo.isOnline():!0}var xd=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function rx(n){let e=!1,s=0,a;const l=I1(),o=()=>l.status!=="pending",c=_=>{if(!o()){const S=new xd(_);y(S),n.onCancel?.(S)}},f=()=>{e=!0},h=()=>{e=!1},m=()=>ax.isFocused()&&(n.networkMode==="always"||oo.isOnline())&&n.canRun(),b=()=>lx(n.networkMode)&&n.canRun(),x=_=>{o()||(a?.(),l.resolve(_))},y=_=>{o()||(a?.(),l.reject(_))},v=()=>new Promise(_=>{a=S=>{(o()||m())&&_(S)},n.onPause?.()}).then(()=>{a=void 0,o()||n.onContinue?.()}),j=()=>{if(o())return;let _;const S=s===0?n.initialPromise:void 0;try{_=S??n.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(x).catch(C=>{if(o())return;const T=n.retry??(So?0:3),E=n.retryDelay??J1,A=typeof E=="function"?E(s,C):E,D=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,C);if(e||!D){y(C);return}s++,n.onFail?.(s,C),G1(A).then(()=>m()?void 0:v()).then(()=>{e?y(C):j()})})};return{promise:l,status:()=>l.status,cancel:c,continue:()=>(a?.(),l),cancelRetry:f,continueRetry:h,canStart:b,start:()=>(b()?j():v().then(j),l)}}var ew=n=>setTimeout(n,0);function tw(){let n=[],e=0,s=f=>{f()},a=f=>{f()},l=ew;const o=f=>{e?n.push(f):l(()=>{s(f)})},c=()=>{const f=n;n=[],f.length&&l(()=>{a(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;e++;try{h=f()}finally{e--,e||c()}return h},batchCalls:f=>(...h)=>{o(()=>{f(...h)})},schedule:o,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{l=f}}}var Pt=tw(),ox=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y1(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(So?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},nw=class extends ox{#e;#t;#n;#i;#s;#l;#r;constructor(n){super(),this.#r=!1,this.#l=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#i=n.client,this.#n=this.#i.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=iw(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(n){this.options={...this.#l,...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const s=$1(this.state.data,n,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(n,e){this.#a({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#s?.promise;return this.#s?.cancel(n),e?e.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>X1(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Od||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>gd(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!F1(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#s&&(this.#r?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#r=!0,s.signal)})},l=()=>{const f=ix(this.options,e),m=(()=>{const b={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#r=!1,this.options.persister?this.options.persister(f,m,this):f(m)},c=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(f),f})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=rx({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:f=>{f instanceof xd&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,h)=>{this.#a({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof xd){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(n){const e=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...sw(s.data,this.options),fetchMeta:n.meta??null};case"success":const a={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?a:void 0,a;case"error":const l=n.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=e(this.state),Pt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function sw(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lx(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function iw(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,s=e!==void 0,a=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var aw=class extends jo{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,s){const a=e.queryKey,l=e.queryHash??Ed(a,e);let o=this.get(l);return o||(o=new nw({client:n,queryKey:a,queryHash:l,options:n.defaultQueryOptions(e),state:s,defaultOptions:n.getQueryDefaults(a)}),this.add(o)),o}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Pt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(s=>ag(e,s))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(s=>ag(n,s)):e}notify(n){Pt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Pt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Pt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},lw=class extends ox{#e;#t;#n;constructor(n){super(),this.mutationId=n.mutationId,this.#t=n.mutationCache,this.#e=[],this.state=n.state||rw(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#e.includes(n)||(this.#e.push(n),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#e=this.#e.filter(e=>e!==n),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#i({type:"continue"})};this.#n=rx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(l,o)=>{this.#i({type:"failed",failureCount:l,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#n.canStart();try{if(s)e();else{this.#i({type:"pending",variables:n,isPaused:a}),await this.#t.config.onMutate?.(n,this);const o=await this.options.onMutate?.(n);o!==this.state.context&&this.#i({type:"pending",context:o,variables:n,isPaused:a})}const l=await this.#n.start();return await this.#t.config.onSuccess?.(l,n,this.state.context,this),await this.options.onSuccess?.(l,n,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,n,this.state.context),this.#i({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,n,this.state.context,this),await this.options.onError?.(l,n,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,n,this.state.context),l}finally{this.#i({type:"error",error:l})}}finally{this.#t.runNext(this)}}#i(n){const e=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Pt.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(n)}),this.#t.notify({mutation:this,type:"updated",action:n})})}};function rw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ow=class extends jo{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,s){const a=new lw({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:s});return this.add(a),a}add(n){this.#e.add(n);const e=Fr(n);if(typeof e=="string"){const s=this.#t.get(e);s?s.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Fr(n);if(typeof e=="string"){const s=this.#t.get(e);if(s)if(s.length>1){const a=s.indexOf(n);a!==-1&&s.splice(a,1)}else s[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Fr(n);if(typeof e=="string"){const a=this.#t.get(e)?.find(l=>l.state.status==="pending");return!a||a===n}else return!0}runNext(n){const e=Fr(n);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==n&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Pt.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(s=>lg(e,s))}findAll(n={}){return this.getAll().filter(e=>lg(n,e))}notify(n){Pt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Pt.batch(()=>Promise.all(n.map(e=>e.continue().catch(xn))))}};function Fr(n){return n.options.scope?.id}function cg(n){return{onFetch:(e,s)=>{const a=e.options,l=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const m=async()=>{let b=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},y=ix(e.options,e.fetchOptions),v=async(j,_,S)=>{if(b)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const T=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return x(L),L})(),E=await y(T),{maxPages:A}=e.options,D=S?W1:Q1;return{pages:D(j.pages,E,A),pageParams:D(j.pageParams,_,A)}};if(l&&o.length){const j=l==="backward",_=j?cw:ug,S={pages:o,pageParams:c},C=_(a,S);f=await v(S,C,j)}else{const j=n??o.length;do{const _=h===0?c[0]??a.initialPageParam:ug(a,f);if(h>0&&_==null)break;f=await v(f,_),h++}while(h<j)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=m}}}function ug(n,{pages:e,pageParams:s}){const a=e.length-1;return e.length>0?n.getNextPageParam(e[a],e,s[a],s):void 0}function cw(n,{pages:e,pageParams:s}){return e.length>0?n.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var uw=class{#e;#t;#n;#i;#s;#l;#r;#a;constructor(n={}){this.#e=n.queryCache||new aw,this.#t=n.mutationCache||new ow,this.#n=n.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=ax.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=oo.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),s=this.#e.build(this,e),a=s.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(gd(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:s})=>{const a=s.data;return[e,a]})}setQueryData(n,e,s){const a=this.defaultQueryOptions({queryKey:n}),o=this.#e.get(a.queryHash)?.state.data,c=q1(e,o);if(c!==void 0)return this.#e.build(this,a).setData(c,{...s,manual:!0})}setQueriesData(n,e,s){return Pt.batch(()=>this.#e.findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,e,s)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Pt.batch(()=>{e.findAll(n).forEach(s=>{e.remove(s)})})}resetQueries(n,e){const s=this.#e;return Pt.batch(()=>(s.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const s={revert:!0,...e},a=Pt.batch(()=>this.#e.findAll(n).map(l=>l.cancel(s)));return Promise.all(a).then(xn).catch(xn)}invalidateQueries(n,e={}){return Pt.batch(()=>(this.#e.findAll(n).forEach(s=>{s.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},a=Pt.batch(()=>this.#e.findAll(n).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let o=l.fetch(void 0,s);return s.throwOnError||(o=o.catch(xn)),l.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(xn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const s=this.#e.build(this,e);return s.isStaleByTime(gd(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xn).catch(xn)}fetchInfiniteQuery(n){return n.behavior=cg(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xn).catch(xn)}ensureInfiniteQueryData(n){return n.behavior=cg(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return oo.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(vl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],s={};return e.forEach(a=>{wl(n,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(n,e){this.#s.set(vl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],s={};return e.forEach(a=>{wl(n,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Ed(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Od&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},dw=N.createContext(void 0),fw=({client:n,children:e})=>(N.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(dw.Provider,{value:n,children:e}));class hw extends yo.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){try{console.error("React error boundary caught:",e,s)}catch{}}render(){if(this.state.hasError){const e=this.state.error&&(this.state.error.message||this.state.error.toString())||"Unknown error";return d.jsxs("div",{className:"p-4 text-white",style:{backgroundColor:"#000"},children:[d.jsx("div",{className:"text-red-400 font-semibold",children:"Something went wrong."}),d.jsx("div",{className:"text-sm text-[#9fb0b5] mt-1 break-words",children:e}),d.jsx("button",{className:"mt-3 px-3 py-1.5 rounded bg-[#4db6ac] text-black",onClick:()=>location.reload(),children:"Reload"})]})}return this.props.children}}function dg(){const n=ut(),[e,s]=N.useState(!1),[a,l]=N.useState(""),[o,c]=N.useState(""),[f,h]=N.useState(!1),[m,b]=N.useState(null);N.useEffect(()=>{async function y(){try{const v=await fetch("/api/profile_me",{credentials:"include"});if(v.ok){const j=await v.json();if(j&&j.username){n("/premium_dashboard",{replace:!0});return}}}catch{}}y()},[n]),N.useEffect(()=>{const v=new URLSearchParams(window.location.search).get("error");b(v)},[]);async function x(y){y.preventDefault();try{await fetch("/request_password_reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:o})})}catch{}h(!0)}return d.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-black text-white p-5",children:[d.jsxs("div",{className:"w-full max-w-xs border border-white/10 rounded-xl p-6 bg-white/5 backdrop-blur",children:[d.jsxs("div",{className:"text-center mb-5",children:[d.jsx("h1",{className:"text-lg font-semibold",children:"C.Point"}),d.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Sign in to your account"})]}),m&&d.jsx("div",{className:"mb-4 rounded-md border border-red-500 text-red-400 bg-red-500/10 px-3 py-2 text-sm text-center",children:m}),d.jsxs("form",{method:"POST",action:"/",className:"space-y-3",children:[d.jsx("div",{children:d.jsx("input",{type:"text",name:"username",placeholder:"Username",required:!0,className:"w-full rounded-md border border-white/10 bg-white/10 px-3 py-3 text-base outline-none focus:border-teal-400/70"})}),d.jsx("button",{type:"submit",className:"w-full rounded-lg bg-teal-400 text-white py-2 text-sm font-medium active:opacity-90",children:"Sign In"})]}),d.jsx("div",{className:"text-center mt-3",children:d.jsx("button",{onClick:()=>{s(!0),h(!1)},className:"text-teal-300 text-sm",children:"Forgot Password?"})}),d.jsxs("div",{className:"flex items-center gap-3 my-4 text-white/40 text-[12px]",children:[d.jsx("div",{className:"flex-1 h-px bg-white/10"}),d.jsx("span",{children:"or"}),d.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),d.jsx("a",{href:"/signup",className:"block w-full text-center rounded-lg border border-white/10 bg-white/5 py-2 text-sm",children:"Create Account"}),d.jsxs("div",{className:"flex items-center gap-3 my-4 text-white/40 text-[12px]",children:[d.jsx("div",{className:"flex-1 h-px bg-white/10"}),d.jsx("span",{children:"other options"}),d.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),d.jsx("a",{href:"/login_x",className:"block w-full text-center rounded-lg border border-white/10 bg-white/5 py-2 text-sm",children:"Sign In with X"})]}),e&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"w-[90%] max-w-sm bg-[#1a1a1a] border border-[#333] rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#333]",children:[d.jsx("h2",{className:"text-white text-base font-semibold",children:"Reset Password"}),d.jsx("button",{className:"text-[#999] text-2xl",onClick:()=>s(!1),children:""})]}),d.jsx("div",{className:"p-4",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full rounded-md border border-teal-500 text-teal-400 bg-teal-500/10 px-3 py-2 text-sm text-center",children:"Reset link sent! Check your email."}),d.jsx("p",{className:"text-white/70 text-sm mt-4 text-center",children:"If an account exists with the provided information, you will receive an email with instructions to reset your password."}),d.jsx("button",{className:"w-full mt-4 rounded-lg border border-white/10 bg-white/5 py-2 text-sm",onClick:()=>s(!1),children:"Close"})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Enter your username and email address. We'll send you a link to reset your password."}),d.jsxs("form",{onSubmit:x,className:"space-y-3",children:[d.jsx("input",{type:"text",placeholder:"Username",value:a,onChange:y=>l(y.target.value),required:!0,className:"w-full rounded-md border border-white/10 bg-white/10 px-3 py-2 text-sm outline-none focus:border-teal-400/70"}),d.jsx("input",{type:"email",placeholder:"Email address",value:o,onChange:y=>c(y.target.value),required:!0,className:"w-full rounded-md border border-white/10 bg-white/10 px-3 py-2 text-sm outline-none focus:border-teal-400/70"}),d.jsx("button",{type:"submit",className:"w-full rounded-lg bg-teal-400 text-white py-2 text-sm font-medium active:opacity-90",children:"Send Reset Link"})]})]})})]})})]})}const cx=N.createContext({setTitle:()=>{}});function Ht(){return N.useContext(cx)}function Xr(){const[n,e]=N.useState(!1),[s,a]=N.useState(!1),[l,o]=N.useState(null),{setTitle:c}=Ht();N.useEffect(()=>{c("Dashboard")},[c]);const f=ut();return N.useEffect(()=>{async function h(){try{const b=await(await fetch("/api/check_gym_membership",{method:"GET",credentials:"include"})).json();a(b.hasGymAccess||!1);const y=await(await fetch("/api/user_parent_community",{method:"GET",credentials:"include"})).json();y.success&&y.parentCommunity&&o(y.parentCommunity)}catch(m){console.error("Error loading user data:",m),a(!1),o(null)}}h()},[]),d.jsxs("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-[#0b0f10] text-white overflow-hidden z-0",children:[d.jsxs("div",{className:"fixed left-0 top-0 h-screen w-52 border-r border-[#333] bg-[#1a1a1a] hidden md:flex flex-col z-50",children:[d.jsx("div",{className:"flex items-center h-14 px-2 border-b border-[#333]",children:d.jsx("div",{className:"text-white font-semibold text-base truncate pl-2",children:"Dashboard"})}),d.jsxs("nav",{className:"flex-1 overflow-y-auto py-2",children:[d.jsx("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/dashboard",children:"Dashboard"}),d.jsx("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/profile",children:"Profile"}),d.jsx("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/user_chat",children:"Messages"}),d.jsx("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/communities",children:"Your Communities"}),s&&d.jsx("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/your_sports",children:"Your Sports"}),d.jsx("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/logout",children:"Logout"}),d.jsxs("a",{className:"block px-5 py-3 text-sm hover:bg-teal-700/20 hover:text-teal-300",href:"/account_settings",children:[d.jsx("i",{className:"fa-solid fa-cog mr-2"}),"Settings"]})]})]}),d.jsx("div",{className:"fixed left-0 right-0 top-0 h-14 bg-black z-0"}),n&&d.jsx("div",{className:"fixed top-14 left-0 right-0 z-40 border-t border-[#333] bg-[#1a1a1a] md:hidden",children:d.jsxs("nav",{className:"flex flex-col",children:[d.jsx("a",{className:"px-5 py-3 border-b border-[#222]",href:"/dashboard",onClick:()=>e(!1),children:"Dashboard"}),d.jsx("a",{className:"px-5 py-3 border-b border-[#222]",href:"/profile",onClick:()=>e(!1),children:"Profile"}),d.jsx("a",{className:"px-5 py-3 border-b border-[#222]",href:"/user_chat",onClick:()=>e(!1),children:"Messages"}),d.jsx("a",{className:"px-5 py-3 border-b border-[#222]",href:"/communities",onClick:()=>e(!1),children:"Your Communities"}),s&&d.jsx("a",{className:"px-5 py-3 border-b border-[#222]",href:"/your_sports",onClick:()=>e(!1),children:"Your Sports"}),d.jsx("a",{className:"px-5 py-3 border-b border-[#222]",href:"/logout",onClick:()=>e(!1),children:"Logout"}),d.jsxs("a",{className:"px-5 py-3",href:"/account_settings",onClick:()=>e(!1),children:[d.jsx("i",{className:"fa-solid fa-cog mr-2"}),"Settings"]})]})}),d.jsxs("div",{className:"h-full overflow-hidden",children:[d.jsxs("div",{className:"hidden md:flex fixed right-5 top-20 w-44 h-44 rounded-lg border border-[#333] md:border-white/20 bg-[#1a1a1a] md:bg-white/5 flex-col items-center gap-2 p-3",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 border border-white/20 flex items-center justify-center",children:d.jsx("i",{className:"fa-solid fa-user text-2xl text-[#9fb0b5]"})}),d.jsx("div",{className:"text-sm font-semibold truncate max-w-[10rem]",children:"You"})]}),d.jsx("div",{className:"h-full flex items-center justify-center px-3 md:ml-52",children:d.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsx(fg,{iconClass:"fa-solid fa-house",title:l?.name||"Your Communities",onClick:()=>f("/communities")}),s&&d.jsx(fg,{iconClass:"fa-solid fa-person-snowboarding",title:"Your Sports",onClick:()=>location.assign("/your_sports")})]})})]})]})}function fg({iconClass:n,title:e,onClick:s}){return d.jsxs("button",{onClick:s,"aria-label":e,className:`group relative w-full h-40 rounded-2xl overflow-hidden text-white transition-all duration-300
                 bg-black border border-white/10 hover:border-teal-400/30
                 shadow-[0_10px_30px_rgba(0,0,0,0.4)] hover:shadow-[0_16px_40px_rgba(0,0,0,0.55)] hover:-translate-y-0.5`,children:[d.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"radial-gradient(600px circle at var(--x,50%) var(--y,50%), rgba(77,182,172,0.10), transparent 40%)"}}),d.jsxs("div",{className:"absolute inset-0 flex flex-row items-center justify-start gap-3 px-6",children:[d.jsx("i",{className:n,style:{fontSize:24,color:"#4db6ac"}}),d.jsx("div",{className:"text-[15px] font-semibold tracking-tight text-white/90",children:e})]}),d.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-teal-400/40 to-transparent opacity-60"})]})}function mw({src:n,alt:e,style:s}){const[a,l]=N.useState(!0),[o,c]=N.useState(!1);return d.jsxs("div",{className:"relative w-full h-full",children:[a&&!o&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-4 h-4 border border-white/20 border-t-white/60 rounded-full animate-spin"})}),o&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("i",{className:"fa-solid fa-user text-white/40 text-sm"})}),d.jsx("img",{src:n,alt:e,style:s,className:`transition-opacity duration-300 ${a?"opacity-0":"opacity-100"}`,onLoad:()=>l(!1),onError:()=>{l(!1),c(!0)},loading:"lazy"})]})}function nn({username:n,url:e,size:s=40,className:a=""}){const l=e?e.startsWith("http")||e.startsWith("/static")?e:`/static/${e}`:null,o=(n||"?").slice(0,1).toUpperCase();return d.jsx("div",{className:`rounded-full overflow-hidden bg-white/10 border border-white/10 flex items-center justify-center ${a}`,style:{width:s,height:s},"aria-label":`Avatar for ${n}`,children:l?d.jsx(mw,{src:l,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):d.jsx("span",{style:{fontSize:Math.max(12,Math.floor(s*.45))},className:"text-white/80",children:o})})}function pw({title:n,username:e,avatarUrl:s}){const a=ut(),l=Tl(),[o,c]=N.useState(!1),[f,h]=N.useState(0),[m,b]=N.useState(0),[x,y]=N.useState(!1);if(N.useEffect(()=>{async function S(){try{const T=await(await fetch("/api/check_gym_membership",{method:"GET",credentials:"include"})).json();y(T.hasGymAccess||!1)}catch(C){console.error("Error checking gym membership:",C),y(!1)}}e&&S()},[e]),typeof window<"u"&&!window.__header_poll){window.__header_poll=!0;const S=async()=>{let C=0,T=0;try{const A=await(await fetch("/check_unread_messages",{credentials:"include"})).json().catch(()=>null);A&&typeof A.unread_count=="number"&&(C=A.unread_count,h(A.unread_count))}catch{}try{const A=await(await fetch("/api/notifications",{credentials:"include"})).json().catch(()=>null);if(A?.success&&Array.isArray(A.notifications)){const D=A.notifications.filter(L=>L&&L.is_read===!1).length;T=D,b(D)}}catch{}try{const E=C+T,A=navigator;E>0?typeof A.setAppBadge=="function"?A.setAppBadge(E):typeof A.setExperimentalAppBadge=="function"&&A.setExperimentalAppBadge(E):typeof A.clearAppBadge=="function"?A.clearAppBadge():typeof A.setExperimentalAppBadge=="function"&&A.setExperimentalAppBadge(0)}catch{}};window.__header_do_poll=S,S(),setInterval(S,5e3)}const v=s?s.startsWith("http")||s.startsWith("/static")?s:`/static/${s}`:null,j=l.pathname==="/notifications",_=()=>{window.history.length>1?a(-1):a("/home")};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"fixed left-0 right-0 top-0 h-14 border-b border-[#262f30] bg-black flex items-center px-3 z-[100] text-white will-change-transform",children:[j?d.jsx("button",{className:"mr-2 p-2 rounded-full hover:bg-white/5",onClick:_,"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}):d.jsx("button",{className:"mr-3 md:hidden",onClick:()=>c(S=>!S),"aria-label":"Menu",children:d.jsx(nn,{username:e||"",url:v,size:32})}),d.jsx("div",{className:"font-semibold truncate tracking-[-0.01em] flex-1",children:n}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{className:"relative p-2 rounded-full hover:bg-white/5",onClick:()=>a("/user_chat"),"aria-label":"Messages",children:[d.jsx("i",{className:"fa-solid fa-comments"}),f>0?d.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 px-1 rounded-full bg-[#4db6ac] text-black text-[10px] flex items-center justify-center",children:f>99?"99+":f}):null]}),d.jsxs("button",{className:"relative p-2 rounded-full hover:bg-white/5",onClick:()=>a("/notifications"),"aria-label":"Notifications",children:[d.jsx("i",{className:"fa-regular fa-bell"}),m>0?d.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 px-1 rounded-full bg-[#4db6ac] text-black text-[10px] flex items-center justify-center",children:m>99?"99+":m}):null]})]})]}),o&&d.jsxs("div",{className:"fixed inset-0 z-[90] flex bg-black/50",onClick:S=>S.currentTarget===S.target&&c(!1),children:[d.jsxs("div",{className:"w-[90%] h-full bg-black/95 backdrop-blur border-r border-white/10 p-4 space-y-3 text-white",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-white/10",children:[d.jsx(nn,{username:e||"",url:v,size:40}),d.jsx("div",{className:"font-medium truncate",children:e||""})]}),e==="admin"?d.jsxs(d.Fragment,{children:[d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/admin_profile",children:"Admin Profile"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/admin",children:"Admin Dashboard"})]}):null,d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/premium_dashboard",children:"Dashboard"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/profile",children:"Profile"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text:white",href:"/user_chat",children:"Messages"}),d.jsx("button",{className:"block w-full text-left px-4 py-3 rounded-xl hover:bg:white/5 text-white",onClick:()=>{c(!1),a("/communities")},children:"Your Communities"}),x&&d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/your_sports",children:"Your Sports"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/logout",children:"Logout"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl hover:bg:white/5 text-white",href:"/account_settings",children:"Settings"})]}),d.jsx("div",{className:"flex-1 h-full",onClick:()=>c(!1)})]})]})}function hg(n){const e="=".repeat((4-n.length%4)%4),s=(n+e).replace(/-/g,"+").replace(/_/g,"/"),a=atob(s),l=new Uint8Array(a.length);for(let o=0;o<a.length;++o)l[o]=a.charCodeAt(o);return l}function gw(){const[n,e]=N.useState(!1);return N.useEffect(()=>{async function s(){if(!(!("serviceWorker"in navigator)||!("PushManager"in window)))try{const a=await navigator.serviceWorker.register("/sw.js");await navigator.serviceWorker.ready;async function l(){try{const f=await fetch("/api/push/public_key",{credentials:"include"}),{publicKey:h}=await f.json();if(!h)return;let m=await a.pushManager.getSubscription();if(m||(m=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hg(h)})),!(await fetch("/api/push/subscribe",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok){try{await m.unsubscribe()}catch{}const x=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hg(h)});await fetch("/api/push/subscribe",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})}e(!0)}catch{}}const o=Notification.permission;if(o==="granted"){await l();return}if(o==="denied")return;const c=()=>{document.removeEventListener("click",c),Notification.requestPermission().then(f=>{f==="granted"&&l()}).catch(()=>{})};document.addEventListener("click",c,{once:!0})}catch{}}s()},[]),null}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dl(n){return n+.5|0}const Cs=(n,e,s)=>Math.max(Math.min(n,s),e);function ul(n){return Cs(Dl(n*2.55),0,255)}function Ds(n){return Cs(Dl(n*255),0,255)}function Wn(n){return Cs(Dl(n/2.55)/100,0,1)}function mg(n){return Cs(Dl(n*100),0,100)}const mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yd=[..."0123456789ABCDEF"],bw=n=>yd[n&15],xw=n=>yd[(n&240)>>4]+yd[n&15],Gr=n=>(n&240)>>4===(n&15),yw=n=>Gr(n.r)&&Gr(n.g)&&Gr(n.b)&&Gr(n.a);function vw(n){var e=n.length,s;return n[0]==="#"&&(e===4||e===5?s={r:255&mn[n[1]]*17,g:255&mn[n[2]]*17,b:255&mn[n[3]]*17,a:e===5?mn[n[4]]*17:255}:(e===7||e===9)&&(s={r:mn[n[1]]<<4|mn[n[2]],g:mn[n[3]]<<4|mn[n[4]],b:mn[n[5]]<<4|mn[n[6]],a:e===9?mn[n[7]]<<4|mn[n[8]]:255})),s}const ww=(n,e)=>n<255?e(n):"";function _w(n){var e=yw(n)?bw:xw;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ww(n.a,e):void 0}const jw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ux(n,e,s){const a=e*Math.min(s,1-s),l=(o,c=(o+n/30)%12)=>s-a*Math.max(Math.min(c-3,9-c,1),-1);return[l(0),l(8),l(4)]}function Sw(n,e,s){const a=(l,o=(l+n/60)%6)=>s-s*e*Math.max(Math.min(o,4-o,1),0);return[a(5),a(3),a(1)]}function Nw(n,e,s){const a=ux(n,1,.5);let l;for(e+s>1&&(l=1/(e+s),e*=l,s*=l),l=0;l<3;l++)a[l]*=1-e-s,a[l]+=e;return a}function Mw(n,e,s,a,l){return n===l?(e-s)/a+(e<s?6:0):e===l?(s-n)/a+2:(n-e)/a+4}function Rd(n){const s=n.r/255,a=n.g/255,l=n.b/255,o=Math.max(s,a,l),c=Math.min(s,a,l),f=(o+c)/2;let h,m,b;return o!==c&&(b=o-c,m=f>.5?b/(2-o-c):b/(o+c),h=Mw(s,a,l,b,o),h=h*60+.5),[h|0,m||0,f]}function zd(n,e,s,a){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,s,a)).map(Ds)}function Ld(n,e,s){return zd(ux,n,e,s)}function Cw(n,e,s){return zd(Nw,n,e,s)}function kw(n,e,s){return zd(Sw,n,e,s)}function dx(n){return(n%360+360)%360}function Tw(n){const e=jw.exec(n);let s=255,a;if(!e)return;e[5]!==a&&(s=e[6]?ul(+e[5]):Ds(+e[5]));const l=dx(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?a=Cw(l,o,c):e[1]==="hsv"?a=kw(l,o,c):a=Ld(l,o,c),{r:a[0],g:a[1],b:a[2],a:s}}function Dw(n,e){var s=Rd(n);s[0]=dx(s[0]+e),s=Ld(s),n.r=s[0],n.g=s[1],n.b=s[2]}function Aw(n){if(!n)return;const e=Rd(n),s=e[0],a=mg(e[1]),l=mg(e[2]);return n.a<255?`hsla(${s}, ${a}%, ${l}%, ${Wn(n.a)})`:`hsl(${s}, ${a}%, ${l}%)`}const pg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ew(){const n={},e=Object.keys(gg),s=Object.keys(pg);let a,l,o,c,f;for(a=0;a<e.length;a++){for(c=f=e[a],l=0;l<s.length;l++)o=s[l],f=f.replace(o,pg[o]);o=parseInt(gg[c],16),n[f]=[o>>16&255,o>>8&255,o&255]}return n}let $r;function Ow(n){$r||($r=Ew(),$r.transparent=[0,0,0,0]);const e=$r[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zw(n){const e=Rw.exec(n);let s=255,a,l,o;if(e){if(e[7]!==a){const c=+e[7];s=e[8]?ul(c):Cs(c*255,0,255)}return a=+e[1],l=+e[3],o=+e[5],a=255&(e[2]?ul(a):Cs(a,0,255)),l=255&(e[4]?ul(l):Cs(l,0,255)),o=255&(e[6]?ul(o):Cs(o,0,255)),{r:a,g:l,b:o,a:s}}}function Lw(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Wn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ku=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ki=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Bw(n,e,s){const a=Ki(Wn(n.r)),l=Ki(Wn(n.g)),o=Ki(Wn(n.b));return{r:Ds(Ku(a+s*(Ki(Wn(e.r))-a))),g:Ds(Ku(l+s*(Ki(Wn(e.g))-l))),b:Ds(Ku(o+s*(Ki(Wn(e.b))-o))),a:n.a+s*(e.a-n.a)}}function Qr(n,e,s){if(n){let a=Rd(n);a[e]=Math.max(0,Math.min(a[e]+a[e]*s,e===0?360:1)),a=Ld(a),n.r=a[0],n.g=a[1],n.b=a[2]}}function fx(n,e){return n&&Object.assign(e||{},n)}function bg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ds(n[3]))):(e=fx(n,{r:0,g:0,b:0,a:1}),e.a=Ds(e.a)),e}function Uw(n){return n.charAt(0)==="r"?zw(n):Tw(n)}class _l{constructor(e){if(e instanceof _l)return e;const s=typeof e;let a;s==="object"?a=bg(e):s==="string"&&(a=vw(e)||Ow(e)||Uw(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=fx(this._rgb);return e&&(e.a=Wn(e.a)),e}set rgb(e){this._rgb=bg(e)}rgbString(){return this._valid?Lw(this._rgb):void 0}hexString(){return this._valid?_w(this._rgb):void 0}hslString(){return this._valid?Aw(this._rgb):void 0}mix(e,s){if(e){const a=this.rgb,l=e.rgb;let o;const c=s===o?.5:s,f=2*c-1,h=a.a-l.a,m=((f*h===-1?f:(f+h)/(1+f*h))+1)/2;o=1-m,a.r=255&m*a.r+o*l.r+.5,a.g=255&m*a.g+o*l.g+.5,a.b=255&m*a.b+o*l.b+.5,a.a=c*a.a+(1-c)*l.a,this.rgb=a}return this}interpolate(e,s){return e&&(this._rgb=Bw(this._rgb,e._rgb,s)),this}clone(){return new _l(this.rgb)}alpha(e){return this._rgb.a=Ds(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Dl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qr(this._rgb,2,e),this}darken(e){return Qr(this._rgb,2,-e),this}saturate(e){return Qr(this._rgb,1,e),this}desaturate(e){return Qr(this._rgb,1,-e),this}rotate(e){return Dw(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gn(){}const Pw=(()=>{let n=0;return()=>n++})();function De(n){return n==null}function st(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ae(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ct(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function tn(n,e){return ct(n)?n:e}function ve(n,e){return typeof n>"u"?e:n}const Hw=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,hx=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Je(n,e,s){if(n&&typeof n.call=="function")return n.apply(s,e)}function qe(n,e,s,a){let l,o,c;if(st(n))for(o=n.length,l=0;l<o;l++)e.call(s,n[l],l);else if(Ae(n))for(c=Object.keys(n),o=c.length,l=0;l<o;l++)e.call(s,n[c[l]],c[l])}function co(n,e){let s,a,l,o;if(!n||!e||n.length!==e.length)return!1;for(s=0,a=n.length;s<a;++s)if(l=n[s],o=e[s],l.datasetIndex!==o.datasetIndex||l.index!==o.index)return!1;return!0}function uo(n){if(st(n))return n.map(uo);if(Ae(n)){const e=Object.create(null),s=Object.keys(n),a=s.length;let l=0;for(;l<a;++l)e[s[l]]=uo(n[s[l]]);return e}return n}function mx(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Vw(n,e,s,a){if(!mx(n))return;const l=e[n],o=s[n];Ae(l)&&Ae(o)?jl(l,o,a):e[n]=uo(o)}function jl(n,e,s){const a=st(e)?e:[e],l=a.length;if(!Ae(n))return n;s=s||{};const o=s.merger||Vw;let c;for(let f=0;f<l;++f){if(c=a[f],!Ae(c))continue;const h=Object.keys(c);for(let m=0,b=h.length;m<b;++m)o(h[m],n,c,s)}return n}function ml(n,e){return jl(n,e,{merger:qw})}function qw(n,e,s){if(!mx(n))return;const a=e[n],l=s[n];Ae(a)&&Ae(l)?ml(a,l):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=uo(l))}const xg={"":n=>n,x:n=>n.x,y:n=>n.y};function Yw(n){const e=n.split("."),s=[];let a="";for(const l of e)a+=l,a.endsWith("\\")?a=a.slice(0,-1)+".":(s.push(a),a="");return s}function Fw(n){const e=Yw(n);return s=>{for(const a of e){if(a==="")break;s=s&&s[a]}return s}}function As(n,e){return(xg[e]||(xg[e]=Fw(e)))(n)}function Bd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Sl=n=>typeof n<"u",Es=n=>typeof n=="function",yg=(n,e)=>{if(n.size!==e.size)return!1;for(const s of n)if(!e.has(s))return!1;return!0};function Xw(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Le=Math.PI,tt=2*Le,Gw=tt+Le,fo=Number.POSITIVE_INFINITY,$w=Le/180,ht=Le/2,Is=Le/4,vg=Le*2/3,ks=Math.log10,Dn=Math.sign;function pl(n,e,s){return Math.abs(n-e)<s}function wg(n){const e=Math.round(n);n=pl(n,e,n/1e3)?e:n;const s=Math.pow(10,Math.floor(ks(n))),a=n/s;return(a<=1?1:a<=2?2:a<=5?5:10)*s}function Qw(n){const e=[],s=Math.sqrt(n);let a;for(a=1;a<s;a++)n%a===0&&(e.push(a),e.push(n/a));return s===(s|0)&&e.push(s),e.sort((l,o)=>l-o).pop(),e}function Ww(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ta(n){return!Ww(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Kw(n,e){const s=Math.round(n);return s-e<=n&&s+e>=n}function px(n,e,s){let a,l,o;for(a=0,l=n.length;a<l;a++)o=n[a][s],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function yn(n){return n*(Le/180)}function Ud(n){return n*(180/Le)}function _g(n){if(!ct(n))return;let e=1,s=0;for(;Math.round(n*e)/e!==n;)e*=10,s++;return s}function gx(n,e){const s=e.x-n.x,a=e.y-n.y,l=Math.sqrt(s*s+a*a);let o=Math.atan2(a,s);return o<-.5*Le&&(o+=tt),{angle:o,distance:l}}function vd(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Zw(n,e){return(n-e+Gw)%tt-Le}function Rt(n){return(n%tt+tt)%tt}function Nl(n,e,s,a){const l=Rt(n),o=Rt(e),c=Rt(s),f=Rt(o-l),h=Rt(c-l),m=Rt(l-o),b=Rt(l-c);return l===o||l===c||a&&o===c||f>h&&m<b}function Nt(n,e,s){return Math.max(e,Math.min(s,n))}function Iw(n){return Nt(n,-32768,32767)}function Kn(n,e,s,a=1e-6){return n>=Math.min(e,s)-a&&n<=Math.max(e,s)+a}function Pd(n,e,s){s=s||(c=>n[c]<e);let a=n.length-1,l=0,o;for(;a-l>1;)o=l+a>>1,s(o)?l=o:a=o;return{lo:l,hi:a}}const Zn=(n,e,s,a)=>Pd(n,s,a?l=>{const o=n[l][e];return o<s||o===s&&n[l+1][e]===s}:l=>n[l][e]<s),Jw=(n,e,s)=>Pd(n,s,a=>n[a][e]>=s);function e_(n,e,s){let a=0,l=n.length;for(;a<l&&n[a]<e;)a++;for(;l>a&&n[l-1]>s;)l--;return a>0||l<n.length?n.slice(a,l):n}const bx=["push","pop","shift","splice","unshift"];function t_(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),bx.forEach(s=>{const a="_onData"+Bd(s),l=n[s];Object.defineProperty(n,s,{configurable:!0,enumerable:!1,value(...o){const c=l.apply(this,o);return n._chartjs.listeners.forEach(f=>{typeof f[a]=="function"&&f[a](...o)}),c}})})}function jg(n,e){const s=n._chartjs;if(!s)return;const a=s.listeners,l=a.indexOf(e);l!==-1&&a.splice(l,1),!(a.length>0)&&(bx.forEach(o=>{delete n[o]}),delete n._chartjs)}function xx(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const yx=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function vx(n,e){let s=[],a=!1;return function(...l){s=l,a||(a=!0,yx.call(window,()=>{a=!1,n.apply(e,s)}))}}function n_(n,e){let s;return function(...a){return e?(clearTimeout(s),s=setTimeout(n,e,a)):n.apply(this,a),e}}const Hd=n=>n==="start"?"left":n==="end"?"right":"center",Ot=(n,e,s)=>n==="start"?e:n==="end"?s:(e+s)/2,s_=(n,e,s,a)=>n===(a?"left":"right")?s:n==="center"?(e+s)/2:e;function wx(n,e,s){const a=e.length;let l=0,o=a;if(n._sorted){const{iScale:c,vScale:f,_parsed:h}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,b=c.axis,{min:x,max:y,minDefined:v,maxDefined:j}=c.getUserBounds();if(v){if(l=Math.min(Zn(h,b,x).lo,s?a:Zn(e,b,c.getPixelForValue(x)).lo),m){const _=h.slice(0,l+1).reverse().findIndex(S=>!De(S[f.axis]));l-=Math.max(0,_)}l=Nt(l,0,a-1)}if(j){let _=Math.max(Zn(h,c.axis,y,!0).hi+1,s?0:Zn(e,b,c.getPixelForValue(y),!0).hi+1);if(m){const S=h.slice(_-1).findIndex(C=>!De(C[f.axis]));_+=Math.max(0,S)}o=Nt(_,l,a)-l}else o=a-l}return{start:l,count:o}}function _x(n){const{xScale:e,yScale:s,_scaleRanges:a}=n,l={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!a)return n._scaleRanges=l,!0;const o=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==s.min||a.ymax!==s.max;return Object.assign(a,l),o}const Wr=n=>n===0||n===1,Sg=(n,e,s)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*tt/s)),Ng=(n,e,s)=>Math.pow(2,-10*n)*Math.sin((n-e)*tt/s)+1,gl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ht)+1,easeOutSine:n=>Math.sin(n*ht),easeInOutSine:n=>-.5*(Math.cos(Le*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wr(n)?n:Sg(n,.075,.3),easeOutElastic:n=>Wr(n)?n:Ng(n,.075,.3),easeInOutElastic(n){return Wr(n)?n:n<.5?.5*Sg(n*2,.1125,.45):.5+.5*Ng(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-gl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?gl.easeInBounce(n*2)*.5:gl.easeOutBounce(n*2-1)*.5+.5};function Vd(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Mg(n){return Vd(n)?n:new _l(n)}function Zu(n){return Vd(n)?n:new _l(n).saturate(.5).darken(.1).hexString()}const i_=["x","y","borderWidth","radius","tension"],a_=["color","borderColor","backgroundColor"];function l_(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:a_},numbers:{type:"number",properties:i_}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function r_(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cg=new Map;function o_(n,e){e=e||{};const s=n+JSON.stringify(e);let a=Cg.get(s);return a||(a=new Intl.NumberFormat(n,e),Cg.set(s,a)),a}function Al(n,e,s){return o_(e,s).format(n)}const jx={values(n){return st(n)?n:""+n},numeric(n,e,s){if(n===0)return"0";const a=this.chart.options.locale;let l,o=n;if(s.length>1){const m=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(m<1e-4||m>1e15)&&(l="scientific"),o=c_(n,s)}const c=ks(Math.abs(o)),f=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:l,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(h,this.options.ticks.format),Al(n,a,h)},logarithmic(n,e,s){if(n===0)return"0";const a=s[e].significand||n/Math.pow(10,Math.floor(ks(n)));return[1,2,3,5,10,15].includes(a)||e>.8*s.length?jx.numeric.call(this,n,e,s):""}};function c_(n,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&n!==Math.floor(n)&&(s=n-Math.floor(n)),s}var No={formatters:jx};function u_(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:No.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ri=Object.create(null),wd=Object.create(null);function bl(n,e){if(!e)return n;const s=e.split(".");for(let a=0,l=s.length;a<l;++a){const o=s[a];n=n[o]||(n[o]=Object.create(null))}return n}function Iu(n,e,s){return typeof e=="string"?jl(bl(n,e),s):jl(bl(n,""),e)}class d_{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,l)=>Zu(l.backgroundColor),this.hoverBorderColor=(a,l)=>Zu(l.borderColor),this.hoverColor=(a,l)=>Zu(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Iu(this,e,s)}get(e){return bl(this,e)}describe(e,s){return Iu(wd,e,s)}override(e,s){return Iu(ri,e,s)}route(e,s,a,l){const o=bl(this,e),c=bl(this,a),f="_"+s;Object.defineProperties(o,{[f]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[f],m=c[l];return Ae(h)?Object.assign({},m,h):ve(h,m)},set(h){this[f]=h}}})}apply(e){e.forEach(s=>s(this))}}var it=new d_({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[l_,r_,u_]);function f_(n){return!n||De(n.size)||De(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ho(n,e,s,a,l){let o=e[l];return o||(o=e[l]=n.measureText(l).width,s.push(l)),o>a&&(a=o),a}function h_(n,e,s,a){a=a||{};let l=a.data=a.data||{},o=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(l=a.data={},o=a.garbageCollect=[],a.font=e),n.save(),n.font=e;let c=0;const f=s.length;let h,m,b,x,y;for(h=0;h<f;h++)if(x=s[h],x!=null&&!st(x))c=ho(n,l,o,c,x);else if(st(x))for(m=0,b=x.length;m<b;m++)y=x[m],y!=null&&!st(y)&&(c=ho(n,l,o,c,y));n.restore();const v=o.length/2;if(v>s.length){for(h=0;h<v;h++)delete l[o[h]];o.splice(0,v)}return c}function Js(n,e,s){const a=n.currentDevicePixelRatio,l=s!==0?Math.max(s/2,.5):0;return Math.round((e-l)*a)/a+l}function kg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function _d(n,e,s,a){Sx(n,e,s,a,null)}function Sx(n,e,s,a,l){let o,c,f,h,m,b,x,y;const v=e.pointStyle,j=e.rotation,_=e.radius;let S=(j||0)*$w;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(s,a),n.rotate(S),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(_)||_<=0)){switch(n.beginPath(),v){default:l?n.ellipse(s,a,l/2,_,0,0,tt):n.arc(s,a,_,0,tt),n.closePath();break;case"triangle":b=l?l/2:_,n.moveTo(s+Math.sin(S)*b,a-Math.cos(S)*_),S+=vg,n.lineTo(s+Math.sin(S)*b,a-Math.cos(S)*_),S+=vg,n.lineTo(s+Math.sin(S)*b,a-Math.cos(S)*_),n.closePath();break;case"rectRounded":m=_*.516,h=_-m,c=Math.cos(S+Is)*h,x=Math.cos(S+Is)*(l?l/2-m:h),f=Math.sin(S+Is)*h,y=Math.sin(S+Is)*(l?l/2-m:h),n.arc(s-x,a-f,m,S-Le,S-ht),n.arc(s+y,a-c,m,S-ht,S),n.arc(s+x,a+f,m,S,S+ht),n.arc(s-y,a+c,m,S+ht,S+Le),n.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*_,b=l?l/2:h,n.rect(s-b,a-h,2*b,2*h);break}S+=Is;case"rectRot":x=Math.cos(S)*(l?l/2:_),c=Math.cos(S)*_,f=Math.sin(S)*_,y=Math.sin(S)*(l?l/2:_),n.moveTo(s-x,a-f),n.lineTo(s+y,a-c),n.lineTo(s+x,a+f),n.lineTo(s-y,a+c),n.closePath();break;case"crossRot":S+=Is;case"cross":x=Math.cos(S)*(l?l/2:_),c=Math.cos(S)*_,f=Math.sin(S)*_,y=Math.sin(S)*(l?l/2:_),n.moveTo(s-x,a-f),n.lineTo(s+x,a+f),n.moveTo(s+y,a-c),n.lineTo(s-y,a+c);break;case"star":x=Math.cos(S)*(l?l/2:_),c=Math.cos(S)*_,f=Math.sin(S)*_,y=Math.sin(S)*(l?l/2:_),n.moveTo(s-x,a-f),n.lineTo(s+x,a+f),n.moveTo(s+y,a-c),n.lineTo(s-y,a+c),S+=Is,x=Math.cos(S)*(l?l/2:_),c=Math.cos(S)*_,f=Math.sin(S)*_,y=Math.sin(S)*(l?l/2:_),n.moveTo(s-x,a-f),n.lineTo(s+x,a+f),n.moveTo(s+y,a-c),n.lineTo(s-y,a+c);break;case"line":c=l?l/2:Math.cos(S)*_,f=Math.sin(S)*_,n.moveTo(s-c,a-f),n.lineTo(s+c,a+f);break;case"dash":n.moveTo(s,a),n.lineTo(s+Math.cos(S)*(l?l/2:_),a+Math.sin(S)*_);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function In(n,e,s){return s=s||.5,!e||n&&n.x>e.left-s&&n.x<e.right+s&&n.y>e.top-s&&n.y<e.bottom+s}function Mo(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Co(n){n.restore()}function m_(n,e,s,a,l){if(!e)return n.lineTo(s.x,s.y);if(l==="middle"){const o=(e.x+s.x)/2;n.lineTo(o,e.y),n.lineTo(o,s.y)}else l==="after"!=!!a?n.lineTo(e.x,s.y):n.lineTo(s.x,e.y);n.lineTo(s.x,s.y)}function p_(n,e,s,a){if(!e)return n.lineTo(s.x,s.y);n.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?s.cp2x:s.cp1x,a?s.cp2y:s.cp1y,s.x,s.y)}function g_(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),De(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function b_(n,e,s,a,l){if(l.strikethrough||l.underline){const o=n.measureText(a),c=e-o.actualBoundingBoxLeft,f=e+o.actualBoundingBoxRight,h=s-o.actualBoundingBoxAscent,m=s+o.actualBoundingBoxDescent,b=l.strikethrough?(h+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(c,b),n.lineTo(f,b),n.stroke()}}function x_(n,e){const s=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=s}function oi(n,e,s,a,l,o={}){const c=st(e)?e:[e],f=o.strokeWidth>0&&o.strokeColor!=="";let h,m;for(n.save(),n.font=l.string,g_(n,o),h=0;h<c.length;++h)m=c[h],o.backdrop&&x_(n,o.backdrop),f&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),De(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,s,a,o.maxWidth)),n.fillText(m,s,a,o.maxWidth),b_(n,s,a,m,o),a+=Number(l.lineHeight);n.restore()}function Ml(n,e){const{x:s,y:a,w:l,h:o,radius:c}=e;n.arc(s+c.topLeft,a+c.topLeft,c.topLeft,1.5*Le,Le,!0),n.lineTo(s,a+o-c.bottomLeft),n.arc(s+c.bottomLeft,a+o-c.bottomLeft,c.bottomLeft,Le,ht,!0),n.lineTo(s+l-c.bottomRight,a+o),n.arc(s+l-c.bottomRight,a+o-c.bottomRight,c.bottomRight,ht,0,!0),n.lineTo(s+l,a+c.topRight),n.arc(s+l-c.topRight,a+c.topRight,c.topRight,0,-ht,!0),n.lineTo(s+c.topLeft,a)}const y_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,v_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w_(n,e){const s=(""+n).match(y_);if(!s||s[1]==="normal")return e*1.2;switch(n=+s[2],s[3]){case"px":return n;case"%":n/=100;break}return e*n}const __=n=>+n||0;function qd(n,e){const s={},a=Ae(e),l=a?Object.keys(e):e,o=Ae(n)?a?c=>ve(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of l)s[c]=__(o(c));return s}function Nx(n){return qd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ai(n){return qd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Lt(n){const e=Nx(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xt(n,e){n=n||{},e=e||it.font;let s=ve(n.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let a=ve(n.style,e.style);a&&!(""+a).match(v_)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const l={family:ve(n.family,e.family),lineHeight:w_(ve(n.lineHeight,e.lineHeight),s),size:s,style:a,weight:ve(n.weight,e.weight),string:""};return l.string=f_(l),l}function dl(n,e,s,a){let l,o,c;for(l=0,o=n.length;l<o;++l)if(c=n[l],c!==void 0&&c!==void 0)return c}function j_(n,e,s){const{min:a,max:l}=n,o=hx(e,(l-a)/2),c=(f,h)=>s&&f===0?0:f+h;return{min:c(a,-Math.abs(o)),max:c(l,o)}}function Os(n,e){return Object.assign(Object.create(n),e)}function Yd(n,e=[""],s,a,l=()=>n[0]){const o=s||n;typeof a>"u"&&(a=Tx("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:a,_getTarget:l,override:f=>Yd([f,...n],e,o,a)};return new Proxy(c,{deleteProperty(f,h){return delete f[h],delete f._keys,delete n[0][h],!0},get(f,h){return Cx(f,h,()=>A_(h,e,n,f))},getOwnPropertyDescriptor(f,h){return Reflect.getOwnPropertyDescriptor(f._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(f,h){return Dg(f).includes(h)},ownKeys(f){return Dg(f)},set(f,h,m){const b=f._storage||(f._storage=l());return f[h]=b[h]=m,delete f._keys,!0}})}function na(n,e,s,a){const l={_cacheable:!1,_proxy:n,_context:e,_subProxy:s,_stack:new Set,_descriptors:Mx(n,a),setContext:o=>na(n,o,s,a),override:o=>na(n.override(o),e,s,a)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,f){return Cx(o,c,()=>N_(o,c,f))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,f){return n[c]=f,delete o[c],!0}})}function Mx(n,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:a=e.indexable,_allKeys:l=e.allKeys}=n;return{allKeys:l,scriptable:s,indexable:a,isScriptable:Es(s)?s:()=>s,isIndexable:Es(a)?a:()=>a}}const S_=(n,e)=>n?n+Bd(e):e,Fd=(n,e)=>Ae(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Cx(n,e,s){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const a=s();return n[e]=a,a}function N_(n,e,s){const{_proxy:a,_context:l,_subProxy:o,_descriptors:c}=n;let f=a[e];return Es(f)&&c.isScriptable(e)&&(f=M_(e,f,n,s)),st(f)&&f.length&&(f=C_(e,f,n,c.isIndexable)),Fd(e,f)&&(f=na(f,l,o&&o[e],c)),f}function M_(n,e,s,a){const{_proxy:l,_context:o,_subProxy:c,_stack:f}=s;if(f.has(n))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+n);f.add(n);let h=e(o,c||a);return f.delete(n),Fd(n,h)&&(h=Xd(l._scopes,l,n,h)),h}function C_(n,e,s,a){const{_proxy:l,_context:o,_subProxy:c,_descriptors:f}=s;if(typeof o.index<"u"&&a(n))return e[o.index%e.length];if(Ae(e[0])){const h=e,m=l._scopes.filter(b=>b!==h);e=[];for(const b of h){const x=Xd(m,l,n,b);e.push(na(x,o,c&&c[n],f))}}return e}function kx(n,e,s){return Es(n)?n(e,s):n}const k_=(n,e)=>n===!0?e:typeof n=="string"?As(e,n):void 0;function T_(n,e,s,a,l){for(const o of e){const c=k_(s,o);if(c){n.add(c);const f=kx(c._fallback,s,l);if(typeof f<"u"&&f!==s&&f!==a)return f}else if(c===!1&&typeof a<"u"&&s!==a)return null}return!1}function Xd(n,e,s,a){const l=e._rootScopes,o=kx(e._fallback,s,a),c=[...n,...l],f=new Set;f.add(a);let h=Tg(f,c,s,o||s,a);return h===null||typeof o<"u"&&o!==s&&(h=Tg(f,c,o,h,a),h===null)?!1:Yd(Array.from(f),[""],l,o,()=>D_(e,s,a))}function Tg(n,e,s,a,l){for(;s;)s=T_(n,e,s,a,l);return s}function D_(n,e,s){const a=n._getTarget();e in a||(a[e]={});const l=a[e];return st(l)&&Ae(s)?s:l||{}}function A_(n,e,s,a){let l;for(const o of e)if(l=Tx(S_(o,n),s),typeof l<"u")return Fd(n,l)?Xd(s,a,n,l):l}function Tx(n,e){for(const s of e){if(!s)continue;const a=s[n];if(typeof a<"u")return a}}function Dg(n){let e=n._keys;return e||(e=n._keys=E_(n._scopes)),e}function E_(n){const e=new Set;for(const s of n)for(const a of Object.keys(s).filter(l=>!l.startsWith("_")))e.add(a);return Array.from(e)}function Dx(n,e,s,a){const{iScale:l}=n,{key:o="r"}=this._parsing,c=new Array(a);let f,h,m,b;for(f=0,h=a;f<h;++f)m=f+s,b=e[m],c[f]={r:l.parse(As(b,o),m)};return c}const O_=Number.EPSILON||1e-14,sa=(n,e)=>e<n.length&&!n[e].skip&&n[e],Ax=n=>n==="x"?"y":"x";function R_(n,e,s,a){const l=n.skip?e:n,o=e,c=s.skip?e:s,f=vd(o,l),h=vd(c,o);let m=f/(f+h),b=h/(f+h);m=isNaN(m)?0:m,b=isNaN(b)?0:b;const x=a*m,y=a*b;return{previous:{x:o.x-x*(c.x-l.x),y:o.y-x*(c.y-l.y)},next:{x:o.x+y*(c.x-l.x),y:o.y+y*(c.y-l.y)}}}function z_(n,e,s){const a=n.length;let l,o,c,f,h,m=sa(n,0);for(let b=0;b<a-1;++b)if(h=m,m=sa(n,b+1),!(!h||!m)){if(pl(e[b],0,O_)){s[b]=s[b+1]=0;continue}l=s[b]/e[b],o=s[b+1]/e[b],f=Math.pow(l,2)+Math.pow(o,2),!(f<=9)&&(c=3/Math.sqrt(f),s[b]=l*c*e[b],s[b+1]=o*c*e[b])}}function L_(n,e,s="x"){const a=Ax(s),l=n.length;let o,c,f,h=sa(n,0);for(let m=0;m<l;++m){if(c=f,f=h,h=sa(n,m+1),!f)continue;const b=f[s],x=f[a];c&&(o=(b-c[s])/3,f[`cp1${s}`]=b-o,f[`cp1${a}`]=x-o*e[m]),h&&(o=(h[s]-b)/3,f[`cp2${s}`]=b+o,f[`cp2${a}`]=x+o*e[m])}}function B_(n,e="x"){const s=Ax(e),a=n.length,l=Array(a).fill(0),o=Array(a);let c,f,h,m=sa(n,0);for(c=0;c<a;++c)if(f=h,h=m,m=sa(n,c+1),!!h){if(m){const b=m[e]-h[e];l[c]=b!==0?(m[s]-h[s])/b:0}o[c]=f?m?Dn(l[c-1])!==Dn(l[c])?0:(l[c-1]+l[c])/2:l[c-1]:l[c]}z_(n,l,o),L_(n,o,e)}function Kr(n,e,s){return Math.max(Math.min(n,s),e)}function U_(n,e){let s,a,l,o,c,f=In(n[0],e);for(s=0,a=n.length;s<a;++s)c=o,o=f,f=s<a-1&&In(n[s+1],e),o&&(l=n[s],c&&(l.cp1x=Kr(l.cp1x,e.left,e.right),l.cp1y=Kr(l.cp1y,e.top,e.bottom)),f&&(l.cp2x=Kr(l.cp2x,e.left,e.right),l.cp2y=Kr(l.cp2y,e.top,e.bottom)))}function P_(n,e,s,a,l){let o,c,f,h;if(e.spanGaps&&(n=n.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")B_(n,l);else{let m=a?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)f=n[o],h=R_(m,f,n[Math.min(o+1,c-(a?0:1))%c],e.tension),f.cp1x=h.previous.x,f.cp1y=h.previous.y,f.cp2x=h.next.x,f.cp2y=h.next.y,m=f}e.capBezierPoints&&U_(n,s)}function Gd(){return typeof window<"u"&&typeof document<"u"}function $d(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function mo(n,e,s){let a;return typeof n=="string"?(a=parseInt(n,10),n.indexOf("%")!==-1&&(a=a/100*e.parentNode[s])):a=n,a}const ko=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function H_(n,e){return ko(n).getPropertyValue(e)}const V_=["top","right","bottom","left"];function li(n,e,s){const a={};s=s?"-"+s:"";for(let l=0;l<4;l++){const o=V_[l];a[o]=parseFloat(n[e+"-"+o+s])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const q_=(n,e,s)=>(n>0||e>0)&&(!s||!s.shadowRoot);function Y_(n,e){const s=n.touches,a=s&&s.length?s[0]:n,{offsetX:l,offsetY:o}=a;let c=!1,f,h;if(q_(l,o,n.target))f=l,h=o;else{const m=e.getBoundingClientRect();f=a.clientX-m.left,h=a.clientY-m.top,c=!0}return{x:f,y:h,box:c}}function ni(n,e){if("native"in n)return n;const{canvas:s,currentDevicePixelRatio:a}=e,l=ko(s),o=l.boxSizing==="border-box",c=li(l,"padding"),f=li(l,"border","width"),{x:h,y:m,box:b}=Y_(n,s),x=c.left+(b&&f.left),y=c.top+(b&&f.top);let{width:v,height:j}=e;return o&&(v-=c.width+f.width,j-=c.height+f.height),{x:Math.round((h-x)/v*s.width/a),y:Math.round((m-y)/j*s.height/a)}}function F_(n,e,s){let a,l;if(e===void 0||s===void 0){const o=n&&$d(n);if(!o)e=n.clientWidth,s=n.clientHeight;else{const c=o.getBoundingClientRect(),f=ko(o),h=li(f,"border","width"),m=li(f,"padding");e=c.width-m.width-h.width,s=c.height-m.height-h.height,a=mo(f.maxWidth,o,"clientWidth"),l=mo(f.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:a||fo,maxHeight:l||fo}}const Zr=n=>Math.round(n*10)/10;function X_(n,e,s,a){const l=ko(n),o=li(l,"margin"),c=mo(l.maxWidth,n,"clientWidth")||fo,f=mo(l.maxHeight,n,"clientHeight")||fo,h=F_(n,e,s);let{width:m,height:b}=h;if(l.boxSizing==="content-box"){const y=li(l,"border","width"),v=li(l,"padding");m-=v.width+y.width,b-=v.height+y.height}return m=Math.max(0,m-o.width),b=Math.max(0,a?m/a:b-o.height),m=Zr(Math.min(m,c,h.maxWidth)),b=Zr(Math.min(b,f,h.maxHeight)),m&&!b&&(b=Zr(m/2)),(e!==void 0||s!==void 0)&&a&&h.height&&b>h.height&&(b=h.height,m=Zr(Math.floor(b*a))),{width:m,height:b}}function Ag(n,e,s){const a=e||1,l=Math.floor(n.height*a),o=Math.floor(n.width*a);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==a||c.height!==l||c.width!==o?(n.currentDevicePixelRatio=a,c.height=l,c.width=o,n.ctx.setTransform(a,0,0,a,0,0),!0):!1}const G_=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Gd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Eg(n,e){const s=H_(n,e),a=s&&s.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function si(n,e,s,a){return{x:n.x+s*(e.x-n.x),y:n.y+s*(e.y-n.y)}}function $_(n,e,s,a){return{x:n.x+s*(e.x-n.x),y:a==="middle"?s<.5?n.y:e.y:a==="after"?s<1?n.y:e.y:s>0?e.y:n.y}}function Q_(n,e,s,a){const l={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},c=si(n,l,s),f=si(l,o,s),h=si(o,e,s),m=si(c,f,s),b=si(f,h,s);return si(m,b,s)}const W_=function(n,e){return{x(s){return n+n+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,a){return s-a},leftForLtr(s,a){return s-a}}},K_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ji(n,e,s){return n?W_(e,s):K_()}function Ex(n,e){let s,a;(e==="ltr"||e==="rtl")&&(s=n.canvas.style,a=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),n.prevTextDirection=a)}function Ox(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Rx(n){return n==="angle"?{between:Nl,compare:Zw,normalize:Rt}:{between:Kn,compare:(e,s)=>e-s,normalize:e=>e}}function Og({start:n,end:e,count:s,loop:a,style:l}){return{start:n%s,end:e%s,loop:a&&(e-n+1)%s===0,style:l}}function Z_(n,e,s){const{property:a,start:l,end:o}=s,{between:c,normalize:f}=Rx(a),h=e.length;let{start:m,end:b,loop:x}=n,y,v;if(x){for(m+=h,b+=h,y=0,v=h;y<v&&c(f(e[m%h][a]),l,o);++y)m--,b--;m%=h,b%=h}return b<m&&(b+=h),{start:m,end:b,loop:x,style:n.style}}function zx(n,e,s){if(!s)return[n];const{property:a,start:l,end:o}=s,c=e.length,{compare:f,between:h,normalize:m}=Rx(a),{start:b,end:x,loop:y,style:v}=Z_(n,e,s),j=[];let _=!1,S=null,C,T,E;const A=()=>h(l,E,C)&&f(l,E)!==0,D=()=>f(o,C)===0||h(o,E,C),L=()=>_||A(),R=()=>!_||D();for(let Y=b,Z=b;Y<=x;++Y)T=e[Y%c],!T.skip&&(C=m(T[a]),C!==E&&(_=h(C,l,o),S===null&&L()&&(S=f(C,l)===0?Y:Z),S!==null&&R()&&(j.push(Og({start:S,end:Y,loop:y,count:c,style:v})),S=null),Z=Y,E=C));return S!==null&&j.push(Og({start:S,end:x,loop:y,count:c,style:v})),j}function Lx(n,e){const s=[],a=n.segments;for(let l=0;l<a.length;l++){const o=zx(a[l],n.points,e);o.length&&s.push(...o)}return s}function I_(n,e,s,a){let l=0,o=e-1;if(s&&!a)for(;l<e&&!n[l].skip;)l++;for(;l<e&&n[l].skip;)l++;for(l%=e,s&&(o+=l);o>l&&n[o%e].skip;)o--;return o%=e,{start:l,end:o}}function J_(n,e,s,a){const l=n.length,o=[];let c=e,f=n[e],h;for(h=e+1;h<=s;++h){const m=n[h%l];m.skip||m.stop?f.skip||(a=!1,o.push({start:e%l,end:(h-1)%l,loop:a}),e=c=m.stop?h:null):(c=h,f.skip&&(e=h)),f=m}return c!==null&&o.push({start:e%l,end:c%l,loop:a}),o}function ej(n,e){const s=n.points,a=n.options.spanGaps,l=s.length;if(!l)return[];const o=!!n._loop,{start:c,end:f}=I_(s,l,o,a);if(a===!0)return Rg(n,[{start:c,end:f,loop:o}],s,e);const h=f<c?f+l:f,m=!!n._fullLoop&&c===0&&f===l-1;return Rg(n,J_(s,c,h,m),s,e)}function Rg(n,e,s,a){return!a||!a.setContext||!s?e:tj(n,e,s,a)}function tj(n,e,s,a){const l=n._chart.getContext(),o=zg(n.options),{_datasetIndex:c,options:{spanGaps:f}}=n,h=s.length,m=[];let b=o,x=e[0].start,y=x;function v(j,_,S,C){const T=f?-1:1;if(j!==_){for(j+=h;s[j%h].skip;)j-=T;for(;s[_%h].skip;)_+=T;j%h!==_%h&&(m.push({start:j%h,end:_%h,loop:S,style:C}),b=C,x=_%h)}}for(const j of e){x=f?x:j.start;let _=s[x%h],S;for(y=x+1;y<=j.end;y++){const C=s[y%h];S=zg(a.setContext(Os(l,{type:"segment",p0:_,p1:C,p0DataIndex:(y-1)%h,p1DataIndex:y%h,datasetIndex:c}))),nj(S,b)&&v(x,y-1,j.loop,b),_=C,b=S}x<y-1&&v(x,y-1,j.loop,b)}return m}function zg(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function nj(n,e){if(!e)return!1;const s=[],a=function(l,o){return Vd(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(n,a)!==JSON.stringify(e,a)}function Ir(n,e,s){return n.options.clip?n[s]:e[s]}function sj(n,e){const{xScale:s,yScale:a}=n;return s&&a?{left:Ir(s,e,"left"),right:Ir(s,e,"right"),top:Ir(a,e,"top"),bottom:Ir(a,e,"bottom")}:e}function Bx(n,e){const s=e._clip;if(s.disabled)return!1;const a=sj(e,n.chartArea);return{left:s.left===!1?0:a.left-(s.left===!0?0:s.left),right:s.right===!1?n.width:a.right+(s.right===!0?0:s.right),top:s.top===!1?0:a.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?n.height:a.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ij{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,a,l){const o=s.listeners[l],c=s.duration;o.forEach(f=>f({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(a-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=yx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((a,l)=>{if(!a.running||!a.items.length)return;const o=a.items;let c=o.length-1,f=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(e),f=!0):(o[c]=o[o.length-1],o.pop());f&&(l.draw(),this._notify(l,a,e,"progress")),o.length||(a.running=!1,this._notify(l,a,e,"complete"),a.initial=!1),s+=o.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let a=s.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,a)),a}listen(e,s,a){this._getAnims(e).listeners[s].push(a)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((a,l)=>Math.max(a,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const a=s.items;let l=a.length-1;for(;l>=0;--l)a[l].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $n=new ij;const Lg="transparent",aj={boolean(n,e,s){return s>.5?e:n},color(n,e,s){const a=Mg(n||Lg),l=a.valid&&Mg(e||Lg);return l&&l.valid?l.mix(a,s).hexString():e},number(n,e,s){return n+(e-n)*s}};class lj{constructor(e,s,a,l){const o=s[a];l=dl([e.to,l,o,e.from]);const c=dl([e.from,o,l]);this._active=!0,this._fn=e.fn||aj[e.type||typeof c],this._easing=gl[e.easing]||gl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=a,this._from=c,this._to=l,this._promises=void 0}active(){return this._active}update(e,s,a){if(this._active){this._notify(!1);const l=this._target[this._prop],o=a-this._start,c=this._duration-o;this._start=a,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=dl([e.to,s,l,e.from]),this._from=dl([e.from,l,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,a=this._duration,l=this._prop,o=this._from,c=this._loop,f=this._to;let h;if(this._active=o!==f&&(c||s<a),!this._active){this._target[l]=f,this._notify(!0);return}if(s<0){this._target[l]=o;return}h=s/a%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[l]=this._fn(o,f,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,a)=>{e.push({res:s,rej:a})})}_notify(e){const s=e?"res":"rej",a=this._promises||[];for(let l=0;l<a.length;l++)a[l][s]()}}class Ux{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Ae(e))return;const s=Object.keys(it.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const o=e[l];if(!Ae(o))return;const c={};for(const f of s)c[f]=o[f];(st(o.properties)&&o.properties||[l]).forEach(f=>{(f===l||!a.has(f))&&a.set(f,c)})})}_animateOptions(e,s){const a=s.options,l=oj(e,a);if(!l)return[];const o=this._createAnimations(l,a);return a.$shared&&rj(e.options.$animations,a).then(()=>{e.options=a},()=>{}),o}_createAnimations(e,s){const a=this._properties,l=[],o=e.$animations||(e.$animations={}),c=Object.keys(s),f=Date.now();let h;for(h=c.length-1;h>=0;--h){const m=c[h];if(m.charAt(0)==="$")continue;if(m==="options"){l.push(...this._animateOptions(e,s));continue}const b=s[m];let x=o[m];const y=a.get(m);if(x)if(y&&x.active()){x.update(y,b,f);continue}else x.cancel();if(!y||!y.duration){e[m]=b;continue}o[m]=x=new lj(y,e,m,b),l.push(x)}return l}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const a=this._createAnimations(e,s);if(a.length)return $n.add(this._chart,a),!0}}function rj(n,e){const s=[],a=Object.keys(e);for(let l=0;l<a.length;l++){const o=n[a[l]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function oj(n,e){if(!e)return;let s=n.options;if(!s){n.options=e;return}return s.$shared&&(n.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Bg(n,e){const s=n&&n.options||{},a=s.reverse,l=s.min===void 0?e:0,o=s.max===void 0?e:0;return{start:a?o:l,end:a?l:o}}function cj(n,e,s){if(s===!1)return!1;const a=Bg(n,s),l=Bg(e,s);return{top:l.end,right:a.end,bottom:l.start,left:a.start}}function uj(n){let e,s,a,l;return Ae(n)?(e=n.top,s=n.right,a=n.bottom,l=n.left):e=s=a=l=n,{top:e,right:s,bottom:a,left:l,disabled:n===!1}}function Px(n,e){const s=[],a=n._getSortedDatasetMetas(e);let l,o;for(l=0,o=a.length;l<o;++l)s.push(a[l].index);return s}function Ug(n,e,s,a={}){const l=n.keys,o=a.mode==="single";let c,f,h,m;if(e===null)return;let b=!1;for(c=0,f=l.length;c<f;++c){if(h=+l[c],h===s){if(b=!0,a.all)continue;break}m=n.values[h],ct(m)&&(o||e===0||Dn(e)===Dn(m))&&(e+=m)}return!b&&!a.all?0:e}function dj(n,e){const{iScale:s,vScale:a}=e,l=s.axis==="x"?"x":"y",o=a.axis==="x"?"x":"y",c=Object.keys(n),f=new Array(c.length);let h,m,b;for(h=0,m=c.length;h<m;++h)b=c[h],f[h]={[l]:b,[o]:n[b]};return f}function Ju(n,e){const s=n&&n.options.stacked;return s||s===void 0&&e.stack!==void 0}function fj(n,e,s){return`${n.id}.${e.id}.${s.stack||s.type}`}function hj(n){const{min:e,max:s,minDefined:a,maxDefined:l}=n.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:l?s:Number.POSITIVE_INFINITY}}function mj(n,e,s){const a=n[e]||(n[e]={});return a[s]||(a[s]={})}function Pg(n,e,s,a){for(const l of e.getMatchingVisibleMetas(a).reverse()){const o=n[l.index];if(s&&o>0||!s&&o<0)return l.index}return null}function Hg(n,e){const{chart:s,_cachedMeta:a}=n,l=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:f}=a,h=o.axis,m=c.axis,b=fj(o,c,a),x=e.length;let y;for(let v=0;v<x;++v){const j=e[v],{[h]:_,[m]:S}=j,C=j._stacks||(j._stacks={});y=C[m]=mj(l,b,_),y[f]=S,y._top=Pg(y,c,!0,a.type),y._bottom=Pg(y,c,!1,a.type);const T=y._visualValues||(y._visualValues={});T[f]=S}}function ed(n,e){const s=n.scales;return Object.keys(s).filter(a=>s[a].axis===e).shift()}function pj(n,e){return Os(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gj(n,e,s){return Os(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function il(n,e){const s=n.controller.index,a=n.vScale&&n.vScale.axis;if(a){e=e||n._parsed;for(const l of e){const o=l._stacks;if(!o||o[a]===void 0||o[a][s]===void 0)return;delete o[a][s],o[a]._visualValues!==void 0&&o[a]._visualValues[s]!==void 0&&delete o[a]._visualValues[s]}}}const td=n=>n==="reset"||n==="none",Vg=(n,e)=>e?n:Object.assign({},n),bj=(n,e,s)=>n&&!e.hidden&&e._stacked&&{keys:Px(s,!0),values:null};class Rs{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ju(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&il(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,a=this.getDataset(),l=(x,y,v,j)=>x==="x"?y:x==="r"?j:v,o=s.xAxisID=ve(a.xAxisID,ed(e,"x")),c=s.yAxisID=ve(a.yAxisID,ed(e,"y")),f=s.rAxisID=ve(a.rAxisID,ed(e,"r")),h=s.indexAxis,m=s.iAxisID=l(h,o,c,f),b=s.vAxisID=l(h,c,o,f);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(f),s.iScale=this.getScaleForId(m),s.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&jg(this._data,this),e._stacked&&il(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),a=this._data;if(Ae(s)){const l=this._cachedMeta;this._data=dj(s,l)}else if(a!==s){if(a){jg(a,this);const l=this._cachedMeta;il(l),l._parsed=[]}s&&Object.isExtensible(s)&&t_(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const o=s._stacked;s._stacked=Ju(s.vScale,s),s.stack!==a.stack&&(l=!0,il(s),s.stack=a.stack),this._resyncElements(e),(l||o!==s._stacked)&&(Hg(this,s._parsed),s._stacked=Ju(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:a,_data:l}=this,{iScale:o,_stacked:c}=a,f=o.axis;let h=e===0&&s===l.length?!0:a._sorted,m=e>0&&a._parsed[e-1],b,x,y;if(this._parsing===!1)a._parsed=l,a._sorted=!0,y=l;else{st(l[e])?y=this.parseArrayData(a,l,e,s):Ae(l[e])?y=this.parseObjectData(a,l,e,s):y=this.parsePrimitiveData(a,l,e,s);const v=()=>x[f]===null||m&&x[f]<m[f];for(b=0;b<s;++b)a._parsed[b+e]=x=y[b],h&&(v()&&(h=!1),m=x);a._sorted=h}c&&Hg(this,y)}parsePrimitiveData(e,s,a,l){const{iScale:o,vScale:c}=e,f=o.axis,h=c.axis,m=o.getLabels(),b=o===c,x=new Array(l);let y,v,j;for(y=0,v=l;y<v;++y)j=y+a,x[y]={[f]:b||o.parse(m[j],j),[h]:c.parse(s[j],j)};return x}parseArrayData(e,s,a,l){const{xScale:o,yScale:c}=e,f=new Array(l);let h,m,b,x;for(h=0,m=l;h<m;++h)b=h+a,x=s[b],f[h]={x:o.parse(x[0],b),y:c.parse(x[1],b)};return f}parseObjectData(e,s,a,l){const{xScale:o,yScale:c}=e,{xAxisKey:f="x",yAxisKey:h="y"}=this._parsing,m=new Array(l);let b,x,y,v;for(b=0,x=l;b<x;++b)y=b+a,v=s[y],m[b]={x:o.parse(As(v,f),y),y:c.parse(As(v,h),y)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,a){const l=this.chart,o=this._cachedMeta,c=s[e.axis],f={keys:Px(l,!0),values:s._stacks[e.axis]._visualValues};return Ug(f,c,o.index,{mode:a})}updateRangeFromParsed(e,s,a,l){const o=a[s.axis];let c=o===null?NaN:o;const f=l&&a._stacks[s.axis];l&&f&&(l.values=f,c=Ug(l,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const a=this._cachedMeta,l=a._parsed,o=a._sorted&&e===a.iScale,c=l.length,f=this._getOtherScale(e),h=bj(s,a,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:x}=hj(f);let y,v;function j(){v=l[y];const _=v[f.axis];return!ct(v[e.axis])||b>_||x<_}for(y=0;y<c&&!(!j()&&(this.updateRangeFromParsed(m,e,v,h),o));++y);if(o){for(y=c-1;y>=0;--y)if(!j()){this.updateRangeFromParsed(m,e,v,h);break}}return m}getAllParsedValues(e){const s=this._cachedMeta._parsed,a=[];let l,o,c;for(l=0,o=s.length;l<o;++l)c=s[l][e.axis],ct(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,a=s.iScale,l=s.vScale,o=this.getParsed(e);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:l?""+l.getLabelForValue(o[l.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=uj(ve(this.options.clip,cj(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,a=this._cachedMeta,l=a.data||[],o=s.chartArea,c=[],f=this._drawStart||0,h=this._drawCount||l.length-f,m=this.options.drawActiveElementsOnTop;let b;for(a.dataset&&a.dataset.draw(e,o,f,h),b=f;b<f+h;++b){const x=l[b];x.hidden||(x.active&&m?c.push(x):x.draw(e,o))}for(b=0;b<c.length;++b)c[b].draw(e,o)}getStyle(e,s){const a=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,s,a){const l=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=gj(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=l.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=pj(this.chart.getContext(),this.index)),o.dataset=l,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=a,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",a){const l=s==="active",o=this._cachedDataOpts,c=e+"-"+s,f=o[c],h=this.enableOptionSharing&&Sl(a);if(f)return Vg(f,h);const m=this.chart.config,b=m.datasetElementScopeKeys(this._type,e),x=l?[`${e}Hover`,"hover",e,""]:[e,""],y=m.getOptionScopes(this.getDataset(),b),v=Object.keys(it.elements[e]),j=()=>this.getContext(a,l,s),_=m.resolveNamedOptions(y,v,j,x);return _.$shared&&(_.$shared=h,o[c]=Object.freeze(Vg(_,h))),_}_resolveAnimations(e,s,a){const l=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,f=o[c];if(f)return f;let h;if(l.options.animation!==!1){const b=this.chart.config,x=b.datasetAnimationScopeKeys(this._type,s),y=b.getOptionScopes(this.getDataset(),x);h=b.createResolver(y,this.getContext(e,a,s))}const m=new Ux(l,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||td(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const a=this.resolveDataElementOptions(e,s),l=this._sharedOptions,o=this.getSharedOptions(a),c=this.includeOptions(s,o)||o!==l;return this.updateSharedOptions(o,s,a),{sharedOptions:o,includeOptions:c}}updateElement(e,s,a,l){td(l)?Object.assign(e,a):this._resolveAnimations(s,l).update(e,a)}updateSharedOptions(e,s,a){e&&!td(s)&&this._resolveAnimations(void 0,s).update(e,a)}_setStyle(e,s,a,l){e.active=l;const o=this.getStyle(s,l);this._resolveAnimations(s,a,l).update(e,{options:!l&&this.getSharedOptions(o)||o})}removeHoverStyle(e,s,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,s,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,a=this._cachedMeta.data;for(const[f,h,m]of this._syncList)this[f](h,m);this._syncList=[];const l=a.length,o=s.length,c=Math.min(o,l);c&&this.parse(0,c),o>l?this._insertElements(l,o-l,e):o<l&&this._removeElements(o,l-o)}_insertElements(e,s,a=!0){const l=this._cachedMeta,o=l.data,c=e+s;let f;const h=m=>{for(m.length+=s,f=m.length-1;f>=c;f--)m[f]=m[f-s]};for(h(o),f=e;f<c;++f)o[f]=new this.dataElementType;this._parsing&&h(l._parsed),this.parse(e,s),a&&this.updateElements(o,e,s,"reset")}updateElements(e,s,a,l){}_removeElements(e,s){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(e,s);a._stacked&&il(a,l)}a.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,a,l]=e;this[s](a,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function xj(n,e){if(!n._cache.$bar){const s=n.getMatchingVisibleMetas(e);let a=[];for(let l=0,o=s.length;l<o;l++)a=a.concat(s[l].controller.getAllParsedValues(n));n._cache.$bar=xx(a.sort((l,o)=>l-o))}return n._cache.$bar}function yj(n){const e=n.iScale,s=xj(e,n.type);let a=e._length,l,o,c,f;const h=()=>{c===32767||c===-32768||(Sl(f)&&(a=Math.min(a,Math.abs(c-f)||a)),f=c)};for(l=0,o=s.length;l<o;++l)c=e.getPixelForValue(s[l]),h();for(f=void 0,l=0,o=e.ticks.length;l<o;++l)c=e.getPixelForTick(l),h();return a}function vj(n,e,s,a){const l=s.barThickness;let o,c;return De(l)?(o=e.min*s.categoryPercentage,c=s.barPercentage):(o=l*a,c=1),{chunk:o/a,ratio:c,start:e.pixels[n]-o/2}}function wj(n,e,s,a){const l=e.pixels,o=l[n];let c=n>0?l[n-1]:null,f=n<l.length-1?l[n+1]:null;const h=s.categoryPercentage;c===null&&(c=o-(f===null?e.end-e.start:f-o)),f===null&&(f=o+o-c);const m=o-(o-Math.min(c,f))/2*h;return{chunk:Math.abs(f-c)/2*h/a,ratio:s.barPercentage,start:m}}function _j(n,e,s,a){const l=s.parse(n[0],a),o=s.parse(n[1],a),c=Math.min(l,o),f=Math.max(l,o);let h=c,m=f;Math.abs(c)>Math.abs(f)&&(h=f,m=c),e[s.axis]=m,e._custom={barStart:h,barEnd:m,start:l,end:o,min:c,max:f}}function Hx(n,e,s,a){return st(n)?_j(n,e,s,a):e[s.axis]=s.parse(n,a),e}function qg(n,e,s,a){const l=n.iScale,o=n.vScale,c=l.getLabels(),f=l===o,h=[];let m,b,x,y;for(m=s,b=s+a;m<b;++m)y=e[m],x={},x[l.axis]=f||l.parse(c[m],m),h.push(Hx(y,x,o,m));return h}function nd(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function jj(n,e,s){return n!==0?Dn(n):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function Sj(n){let e,s,a,l,o;return n.horizontal?(e=n.base>n.x,s="left",a="right"):(e=n.base<n.y,s="bottom",a="top"),e?(l="end",o="start"):(l="start",o="end"),{start:s,end:a,reverse:e,top:l,bottom:o}}function Nj(n,e,s,a){let l=e.borderSkipped;const o={};if(!l){n.borderSkipped=o;return}if(l===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:f,reverse:h,top:m,bottom:b}=Sj(n);l==="middle"&&s&&(n.enableBorderRadius=!0,(s._top||0)===a?l=m:(s._bottom||0)===a?l=b:(o[Yg(b,c,f,h)]=!0,l=m)),o[Yg(l,c,f,h)]=!0,n.borderSkipped=o}function Yg(n,e,s,a){return a?(n=Mj(n,e,s),n=Fg(n,s,e)):n=Fg(n,e,s),n}function Mj(n,e,s){return n===e?s:n===s?e:n}function Fg(n,e,s){return n==="start"?e:n==="end"?s:n}function Cj(n,{inflateAmount:e},s){n.inflateAmount=e==="auto"?s===1?.33:0:e}class kj extends Rs{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,a,l){return qg(e,s,a,l)}parseArrayData(e,s,a,l){return qg(e,s,a,l)}parseObjectData(e,s,a,l){const{iScale:o,vScale:c}=e,{xAxisKey:f="x",yAxisKey:h="y"}=this._parsing,m=o.axis==="x"?f:h,b=c.axis==="x"?f:h,x=[];let y,v,j,_;for(y=a,v=a+l;y<v;++y)_=s[y],j={},j[o.axis]=o.parse(As(_,m),y),x.push(Hx(As(_,b),j,c,y));return x}updateRangeFromParsed(e,s,a,l){super.updateRangeFromParsed(e,s,a,l);const o=a._custom;o&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:a,vScale:l}=s,o=this.getParsed(e),c=o._custom,f=nd(c)?"["+c.start+", "+c.end+"]":""+l.getLabelForValue(o[l.axis]);return{label:""+a.getLabelForValue(o[a.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,a,l){const o=l==="reset",{index:c,_cachedMeta:{vScale:f}}=this,h=f.getBasePixel(),m=f.isHorizontal(),b=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(s,l);for(let v=s;v<s+a;v++){const j=this.getParsed(v),_=o||De(j[f.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,b),C=(j._stacks||{})[f.axis],T={horizontal:m,base:_.base,enableBorderRadius:!C||nd(j._custom)||c===C._top||c===C._bottom,x:m?_.head:S.center,y:m?S.center:_.head,height:m?S.size:Math.abs(_.size),width:m?Math.abs(_.size):S.size};y&&(T.options=x||this.resolveDataElementOptions(v,e[v].active?"active":l));const E=T.options||e[v].options;Nj(T,E,C,c),Cj(T,E,b.ratio),this.updateElement(e[v],v,T,l)}}_getStacks(e,s){const{iScale:a}=this._cachedMeta,l=a.getMatchingVisibleMetas(this._type).filter(b=>b.controller.options.grouped),o=a.options.stacked,c=[],f=this._cachedMeta.controller.getParsed(s),h=f&&f[a.axis],m=b=>{const x=b._parsed.find(v=>v[a.axis]===h),y=x&&x[b.vScale.axis];if(De(y)||isNaN(y))return!0};for(const b of l)if(!(s!==void 0&&m(b))&&((o===!1||c.indexOf(b.stack)===-1||o===void 0&&b.stack===void 0)&&c.push(b.stack),b.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[ve(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,a){const l=this._getStacks(e,a),o=s!==void 0?l.indexOf(s):-1;return o===-1?l.length-1:o}_getRuler(){const e=this.options,s=this._cachedMeta,a=s.iScale,l=[];let o,c;for(o=0,c=s.data.length;o<c;++o)l.push(a.getPixelForValue(this.getParsed(o)[a.axis],o));const f=e.barThickness;return{min:f||yj(s),pixels:l,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:a,index:l},options:{base:o,minBarLength:c}}=this,f=o||0,h=this.getParsed(e),m=h._custom,b=nd(m);let x=h[s.axis],y=0,v=a?this.applyStack(s,h,a):x,j,_;v!==x&&(y=v-x,v=x),b&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&Dn(x)!==Dn(m.barEnd)&&(y=0),y+=x);const S=!De(o)&&!b?o:y;let C=s.getPixelForValue(S);if(this.chart.getDataVisibility(e)?j=s.getPixelForValue(y+v):j=C,_=j-C,Math.abs(_)<c){_=jj(_,s,f)*c,x===f&&(C-=_/2);const T=s.getPixelForDecimal(0),E=s.getPixelForDecimal(1),A=Math.min(T,E),D=Math.max(T,E);C=Math.max(Math.min(C,D),A),j=C+_,a&&!b&&(h._stacks[s.axis]._visualValues[l]=s.getValueForPixel(j)-s.getValueForPixel(C))}if(C===s.getPixelForValue(f)){const T=Dn(_)*s.getLineWidthForValue(f)/2;C+=T,_-=T}return{size:_,base:C,head:j,center:j+_/2}}_calculateBarIndexPixels(e,s){const a=s.scale,l=this.options,o=l.skipNull,c=ve(l.maxBarThickness,1/0);let f,h;const m=this._getAxisCount();if(s.grouped){const b=o?this._getStackCount(e):s.stackCount,x=l.barThickness==="flex"?wj(e,s,l,b*m):vj(e,s,l,b*m),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(ve(y,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;f=x.start+x.chunk*j+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else f=a.getPixelForValue(this.getParsed(e)[a.axis],e),h=Math.min(c,s.min*s.ratio);return{base:f-h/2,head:f+h/2,center:f,size:h}}draw(){const e=this._cachedMeta,s=e.vScale,a=e.data,l=a.length;let o=0;for(;o<l;++o)this.getParsed(o)[s.axis]!==null&&!a[o].hidden&&a[o].draw(this._ctx)}}class Tj extends Rs{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,a,l){const o=super.parsePrimitiveData(e,s,a,l);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+a).radius;return o}parseArrayData(e,s,a,l){const o=super.parseArrayData(e,s,a,l);for(let c=0;c<o.length;c++){const f=s[a+c];o[c]._custom=ve(f[2],this.resolveDataElementOptions(c+a).radius)}return o}parseObjectData(e,s,a,l){const o=super.parseObjectData(e,s,a,l);for(let c=0;c<o.length;c++){const f=s[a+c];o[c]._custom=ve(f&&f.r&&+f.r,this.resolveDataElementOptions(c+a).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let a=e.length-1;a>=0;--a)s=Math.max(s,e[a].size(this.resolveDataElementOptions(a))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,a=this.chart.data.labels||[],{xScale:l,yScale:o}=s,c=this.getParsed(e),f=l.getLabelForValue(c.x),h=o.getLabelForValue(c.y),m=c._custom;return{label:a[e]||"",value:"("+f+", "+h+(m?", "+m:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,a,l){const o=l==="reset",{iScale:c,vScale:f}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,l),b=c.axis,x=f.axis;for(let y=s;y<s+a;y++){const v=e[y],j=!o&&this.getParsed(y),_={},S=_[b]=o?c.getPixelForDecimal(.5):c.getPixelForValue(j[b]),C=_[x]=o?f.getBasePixel():f.getPixelForValue(j[x]);_.skip=isNaN(S)||isNaN(C),m&&(_.options=h||this.resolveDataElementOptions(y,v.active?"active":l),o&&(_.options.radius=0)),this.updateElement(v,y,_,l)}}resolveDataElementOptions(e,s){const a=this.getParsed(e);let l=super.resolveDataElementOptions(e,s);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const o=l.radius;return s!=="active"&&(l.radius=0),l.radius+=ve(a&&a._custom,o),l}}function Dj(n,e,s){let a=1,l=1,o=0,c=0;if(e<tt){const f=n,h=f+e,m=Math.cos(f),b=Math.sin(f),x=Math.cos(h),y=Math.sin(h),v=(E,A,D)=>Nl(E,f,h,!0)?1:Math.max(A,A*s,D,D*s),j=(E,A,D)=>Nl(E,f,h,!0)?-1:Math.min(A,A*s,D,D*s),_=v(0,m,x),S=v(ht,b,y),C=j(Le,m,x),T=j(Le+ht,b,y);a=(_-C)/2,l=(S-T)/2,o=-(_+C)/2,c=-(S+T)/2}return{ratioX:a,ratioY:l,offsetX:o,offsetY:c}}class Qd extends Rs{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:a,color:l}}=e.legend.options;return s.labels.map((o,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:l,lineWidth:h.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,s,a){a.chart.toggleDataVisibility(s.index),a.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const a=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=a;else{let o=h=>+a[h];if(Ae(a[e])){const{key:h="value"}=this._parsing;o=m=>+As(a[m],h)}let c,f;for(c=e,f=e+s;c<f;++c)l._parsed[c]=o(c)}}_getRotation(){return yn(this.options.rotation-90)}_getCircumference(){return yn(this.options.circumference)}_getRotationExtents(){let e=tt,s=-tt;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const l=this.chart.getDatasetMeta(a).controller,o=l._getRotation(),c=l._getCircumference();e=Math.min(e,o),s=Math.max(s,o+c)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:a}=s,l=this._cachedMeta,o=l.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,f=Math.max((Math.min(a.width,a.height)-c)/2,0),h=Math.min(Hw(this.options.cutout,f),1),m=this._getRingWeight(this.index),{circumference:b,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:j,offsetY:_}=Dj(x,b,h),S=(a.width-c)/y,C=(a.height-c)/v,T=Math.max(Math.min(S,C)/2,0),E=hx(this.options.radius,T),A=Math.max(E*h,0),D=(E-A)/this._getVisibleDatasetWeightTotal();this.offsetX=j*E,this.offsetY=_*E,l.total=this.calculateTotal(),this.outerRadius=E-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,s){const a=this.options,l=this._cachedMeta,o=this._getCircumference();return s&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*o/tt)}updateElements(e,s,a,l){const o=l==="reset",c=this.chart,f=c.chartArea,m=c.options.animation,b=(f.left+f.right)/2,x=(f.top+f.bottom)/2,y=o&&m.animateScale,v=y?0:this.innerRadius,j=y?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(s,l);let C=this._getRotation(),T;for(T=0;T<s;++T)C+=this._circumference(T,o);for(T=s;T<s+a;++T){const E=this._circumference(T,o),A=e[T],D={x:b+this.offsetX,y:x+this.offsetY,startAngle:C,endAngle:C+E,circumference:E,outerRadius:j,innerRadius:v};S&&(D.options=_||this.resolveDataElementOptions(T,A.active?"active":l)),C+=E,this.updateElement(A,T,D,l)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let a=0,l;for(l=0;l<s.length;l++){const o=e._parsed[l];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(l)&&!s[l].hidden&&(a+=Math.abs(o))}return a}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?tt*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,a=this.chart,l=a.data.labels||[],o=Al(s._parsed[e],a.options.locale);return{label:l[e]||"",value:o}}getMaxBorderWidth(e){let s=0;const a=this.chart;let l,o,c,f,h;if(!e){for(l=0,o=a.data.datasets.length;l<o;++l)if(a.isDatasetVisible(l)){c=a.getDatasetMeta(l),e=c.data,f=c.controller;break}}if(!e)return 0;for(l=0,o=e.length;l<o;++l)h=f.resolveDataElementOptions(l),h.borderAlign!=="inner"&&(s=Math.max(s,h.borderWidth||0,h.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let a=0,l=e.length;a<l;++a){const o=this.resolveDataElementOptions(a);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(s+=this._getRingWeight(a));return s}_getRingWeight(e){return Math.max(ve(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Vx extends Rs{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:a,data:l=[],_dataset:o}=s,c=this.chart._animationsDisabled;let{start:f,count:h}=wx(s,l,c);this._drawStart=f,this._drawCount=h,_x(s)&&(f=0,h=l.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!o._decimated,a.points=l;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(a,void 0,{animated:!c,options:m},e),this.updateElements(l,f,h,e)}updateElements(e,s,a,l){const o=l==="reset",{iScale:c,vScale:f,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:b,includeOptions:x}=this._getSharedOptions(s,l),y=c.axis,v=f.axis,{spanGaps:j,segment:_}=this.options,S=ta(j)?j:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||l==="none",T=s+a,E=e.length;let A=s>0&&this.getParsed(s-1);for(let D=0;D<E;++D){const L=e[D],R=C?L:{};if(D<s||D>=T){R.skip=!0;continue}const Y=this.getParsed(D),Z=De(Y[v]),ne=R[y]=c.getPixelForValue(Y[y],D),G=R[v]=o||Z?f.getBasePixel():f.getPixelForValue(h?this.applyStack(f,Y,h):Y[v],D);R.skip=isNaN(ne)||isNaN(G)||Z,R.stop=D>0&&Math.abs(Y[y]-A[y])>S,_&&(R.parsed=Y,R.raw=m.data[D]),x&&(R.options=b||this.resolveDataElementOptions(D,L.active?"active":l)),C||this.updateElement(L,D,R,l),A=Y}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,a=s.options&&s.options.borderWidth||0,l=e.data||[];if(!l.length)return a;const o=l[0].size(this.resolveDataElementOptions(0)),c=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(a,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class qx extends Rs{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:a,color:l}}=e.legend.options;return s.labels.map((o,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:l,lineWidth:h.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,s,a){a.chart.toggleDataVisibility(s.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,a=this.chart,l=a.data.labels||[],o=Al(s._parsed[e].r,a.options.locale);return{label:l[e]||"",value:o}}parseObjectData(e,s,a,l){return Dx.bind(this)(e,s,a,l)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((a,l)=>{const o=this.getParsed(l).r;!isNaN(o)&&this.chart.getDataVisibility(l)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,a=e.options,l=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(l/2,0),c=Math.max(a.cutoutPercentage?o/100*a.cutoutPercentage:1,0),f=(o-c)/e.getVisibleDatasetCount();this.outerRadius=o-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(e,s,a,l){const o=l==="reset",c=this.chart,h=c.options.animation,m=this._cachedMeta.rScale,b=m.xCenter,x=m.yCenter,y=m.getIndexAngle(0)-.5*Le;let v=y,j;const _=360/this.countVisibleElements();for(j=0;j<s;++j)v+=this._computeAngle(j,l,_);for(j=s;j<s+a;j++){const S=e[j];let C=v,T=v+this._computeAngle(j,l,_),E=c.getDataVisibility(j)?m.getDistanceFromCenterForValue(this.getParsed(j).r):0;v=T,o&&(h.animateScale&&(E=0),h.animateRotate&&(C=T=y));const A={x:b,y:x,innerRadius:0,outerRadius:E,startAngle:C,endAngle:T,options:this.resolveDataElementOptions(j,S.active?"active":l)};this.updateElement(S,j,A,l)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((a,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&s++}),s}_computeAngle(e,s,a){return this.chart.getDataVisibility(e)?yn(this.resolveDataElementOptions(e,s).angle||a):0}}class Aj extends Qd{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Ej extends Rs{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const s=this._cachedMeta.vScale,a=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(a[s.axis])}}parseObjectData(e,s,a,l){return Dx.bind(this)(e,s,a,l)}update(e){const s=this._cachedMeta,a=s.dataset,l=s.data||[],o=s.iScale.getLabels();if(a.points=l,e!=="resize"){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0);const f={_loop:!0,_fullLoop:o.length===l.length,options:c};this.updateElement(a,void 0,f,e)}this.updateElements(l,0,l.length,e)}updateElements(e,s,a,l){const o=this._cachedMeta.rScale,c=l==="reset";for(let f=s;f<s+a;f++){const h=e[f],m=this.resolveDataElementOptions(f,h.active?"active":l),b=o.getPointPositionForValue(f,this.getParsed(f).r),x=c?o.xCenter:b.x,y=c?o.yCenter:b.y,v={x,y,angle:b.angle,skip:isNaN(x)||isNaN(y),options:m};this.updateElement(h,f,v,l)}}}class Oj extends Rs{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const s=this._cachedMeta,a=this.chart.data.labels||[],{xScale:l,yScale:o}=s,c=this.getParsed(e),f=l.getLabelForValue(c.x),h=o.getLabelForValue(c.y);return{label:a[e]||"",value:"("+f+", "+h+")"}}update(e){const s=this._cachedMeta,{data:a=[]}=s,l=this.chart._animationsDisabled;let{start:o,count:c}=wx(s,a,l);if(this._drawStart=o,this._drawCount=c,_x(s)&&(o=0,c=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:f,_dataset:h}=s;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!h._decimated,f.points=a;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(f,void 0,{animated:!l,options:m},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(a,o,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,a,l){const o=l==="reset",{iScale:c,vScale:f,_stacked:h,_dataset:m}=this._cachedMeta,b=this.resolveDataElementOptions(s,l),x=this.getSharedOptions(b),y=this.includeOptions(l,x),v=c.axis,j=f.axis,{spanGaps:_,segment:S}=this.options,C=ta(_)?_:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||l==="none";let E=s>0&&this.getParsed(s-1);for(let A=s;A<s+a;++A){const D=e[A],L=this.getParsed(A),R=T?D:{},Y=De(L[j]),Z=R[v]=c.getPixelForValue(L[v],A),ne=R[j]=o||Y?f.getBasePixel():f.getPixelForValue(h?this.applyStack(f,L,h):L[j],A);R.skip=isNaN(Z)||isNaN(ne)||Y,R.stop=A>0&&Math.abs(L[v]-E[v])>C,S&&(R.parsed=L,R.raw=m.data[A]),y&&(R.options=x||this.resolveDataElementOptions(A,D.active?"active":l)),T||this.updateElement(D,A,R,l),E=L}this.updateSharedOptions(x,l,b)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let f=0;for(let h=s.length-1;h>=0;--h)f=Math.max(f,s[h].size(this.resolveDataElementOptions(h))/2);return f>0&&f}const a=e.dataset,l=a.options&&a.options.borderWidth||0;if(!s.length)return l;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(l,o,c)/2}}var Rj=Object.freeze({__proto__:null,BarController:kj,BubbleController:Tj,DoughnutController:Qd,LineController:Vx,PieController:Aj,PolarAreaController:qx,RadarController:Ej,ScatterController:Oj});function ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wd{static override(e){Object.assign(Wd.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ei()}parse(){return ei()}format(){return ei()}add(){return ei()}diff(){return ei()}startOf(){return ei()}endOf(){return ei()}}var zj={_date:Wd};function Lj(n,e,s,a){const{controller:l,data:o,_sorted:c}=n,f=l._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(f&&e===f.axis&&e!=="r"&&c&&o.length){const m=f._reversePixels?Jw:Zn;if(a){if(l._sharedOptions){const b=o[0],x=typeof b.getRange=="function"&&b.getRange(e);if(x){const y=m(o,e,s-x),v=m(o,e,s+x);return{lo:y.lo,hi:v.hi}}}}else{const b=m(o,e,s);if(h){const{vScale:x}=l._cachedMeta,{_parsed:y}=n,v=y.slice(0,b.lo+1).reverse().findIndex(_=>!De(_[x.axis]));b.lo-=Math.max(0,v);const j=y.slice(b.hi).findIndex(_=>!De(_[x.axis]));b.hi+=Math.max(0,j)}return b}}return{lo:0,hi:o.length-1}}function To(n,e,s,a,l){const o=n.getSortedVisibleDatasetMetas(),c=s[e];for(let f=0,h=o.length;f<h;++f){const{index:m,data:b}=o[f],{lo:x,hi:y}=Lj(o[f],e,c,l);for(let v=x;v<=y;++v){const j=b[v];j.skip||a(j,m,v)}}}function Bj(n){const e=n.indexOf("x")!==-1,s=n.indexOf("y")!==-1;return function(a,l){const o=e?Math.abs(a.x-l.x):0,c=s?Math.abs(a.y-l.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function sd(n,e,s,a,l){const o=[];return!l&&!n.isPointInArea(e)||To(n,s,e,function(f,h,m){!l&&!In(f,n.chartArea,0)||f.inRange(e.x,e.y,a)&&o.push({element:f,datasetIndex:h,index:m})},!0),o}function Uj(n,e,s,a){let l=[];function o(c,f,h){const{startAngle:m,endAngle:b}=c.getProps(["startAngle","endAngle"],a),{angle:x}=gx(c,{x:e.x,y:e.y});Nl(x,m,b)&&l.push({element:c,datasetIndex:f,index:h})}return To(n,s,e,o),l}function Pj(n,e,s,a,l,o){let c=[];const f=Bj(s);let h=Number.POSITIVE_INFINITY;function m(b,x,y){const v=b.inRange(e.x,e.y,l);if(a&&!v)return;const j=b.getCenterPoint(l);if(!(!!o||n.isPointInArea(j))&&!v)return;const S=f(e,j);S<h?(c=[{element:b,datasetIndex:x,index:y}],h=S):S===h&&c.push({element:b,datasetIndex:x,index:y})}return To(n,s,e,m),c}function id(n,e,s,a,l,o){return!o&&!n.isPointInArea(e)?[]:s==="r"&&!a?Uj(n,e,s,l):Pj(n,e,s,a,l,o)}function Xg(n,e,s,a,l){const o=[],c=s==="x"?"inXRange":"inYRange";let f=!1;return To(n,s,e,(h,m,b)=>{h[c]&&h[c](e[s],l)&&(o.push({element:h,datasetIndex:m,index:b}),f=f||h.inRange(e.x,e.y,l))}),a&&!f?[]:o}var Hj={modes:{index(n,e,s,a){const l=ni(e,n),o=s.axis||"x",c=s.includeInvisible||!1,f=s.intersect?sd(n,l,o,a,c):id(n,l,o,!1,a,c),h=[];return f.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const b=f[0].index,x=m.data[b];x&&!x.skip&&h.push({element:x,datasetIndex:m.index,index:b})}),h):[]},dataset(n,e,s,a){const l=ni(e,n),o=s.axis||"xy",c=s.includeInvisible||!1;let f=s.intersect?sd(n,l,o,a,c):id(n,l,o,!1,a,c);if(f.length>0){const h=f[0].datasetIndex,m=n.getDatasetMeta(h).data;f=[];for(let b=0;b<m.length;++b)f.push({element:m[b],datasetIndex:h,index:b})}return f},point(n,e,s,a){const l=ni(e,n),o=s.axis||"xy",c=s.includeInvisible||!1;return sd(n,l,o,a,c)},nearest(n,e,s,a){const l=ni(e,n),o=s.axis||"xy",c=s.includeInvisible||!1;return id(n,l,o,s.intersect,a,c)},x(n,e,s,a){const l=ni(e,n);return Xg(n,l,"x",s.intersect,a)},y(n,e,s,a){const l=ni(e,n);return Xg(n,l,"y",s.intersect,a)}}};const Yx=["left","top","right","bottom"];function al(n,e){return n.filter(s=>s.pos===e)}function Gg(n,e){return n.filter(s=>Yx.indexOf(s.pos)===-1&&s.box.axis===e)}function ll(n,e){return n.sort((s,a)=>{const l=e?a:s,o=e?s:a;return l.weight===o.weight?l.index-o.index:l.weight-o.weight})}function Vj(n){const e=[];let s,a,l,o,c,f;for(s=0,a=(n||[]).length;s<a;++s)l=n[s],{position:o,options:{stack:c,stackWeight:f=1}}=l,e.push({index:s,box:l,pos:o,horizontal:l.isHorizontal(),weight:l.weight,stack:c&&o+c,stackWeight:f});return e}function qj(n){const e={};for(const s of n){const{stack:a,pos:l,stackWeight:o}=s;if(!a||!Yx.includes(l))continue;const c=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function Yj(n,e){const s=qj(n),{vBoxMaxWidth:a,hBoxMaxHeight:l}=e;let o,c,f;for(o=0,c=n.length;o<c;++o){f=n[o];const{fullSize:h}=f.box,m=s[f.stack],b=m&&f.stackWeight/m.weight;f.horizontal?(f.width=b?b*a:h&&e.availableWidth,f.height=l):(f.width=a,f.height=b?b*l:h&&e.availableHeight)}return s}function Fj(n){const e=Vj(n),s=ll(e.filter(m=>m.box.fullSize),!0),a=ll(al(e,"left"),!0),l=ll(al(e,"right")),o=ll(al(e,"top"),!0),c=ll(al(e,"bottom")),f=Gg(e,"x"),h=Gg(e,"y");return{fullSize:s,leftAndTop:a.concat(o),rightAndBottom:l.concat(h).concat(c).concat(f),chartArea:al(e,"chartArea"),vertical:a.concat(l).concat(h),horizontal:o.concat(c).concat(f)}}function $g(n,e,s,a){return Math.max(n[s],e[s])+Math.max(n[a],e[a])}function Fx(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Xj(n,e,s,a){const{pos:l,box:o}=s,c=n.maxPadding;if(!Ae(l)){s.size&&(n[l]-=s.size);const x=a[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?o.height:o.width),s.size=x.size/x.count,n[l]+=s.size}o.getPadding&&Fx(c,o.getPadding());const f=Math.max(0,e.outerWidth-$g(c,n,"left","right")),h=Math.max(0,e.outerHeight-$g(c,n,"top","bottom")),m=f!==n.w,b=h!==n.h;return n.w=f,n.h=h,s.horizontal?{same:m,other:b}:{same:b,other:m}}function Gj(n){const e=n.maxPadding;function s(a){const l=Math.max(e[a]-n[a],0);return n[a]+=l,l}n.y+=s("top"),n.x+=s("left"),s("right"),s("bottom")}function $j(n,e){const s=e.maxPadding;function a(l){const o={left:0,top:0,right:0,bottom:0};return l.forEach(c=>{o[c]=Math.max(e[c],s[c])}),o}return a(n?["left","right"]:["top","bottom"])}function fl(n,e,s,a){const l=[];let o,c,f,h,m,b;for(o=0,c=n.length,m=0;o<c;++o){f=n[o],h=f.box,h.update(f.width||e.w,f.height||e.h,$j(f.horizontal,e));const{same:x,other:y}=Xj(e,s,f,a);m|=x&&l.length,b=b||y,h.fullSize||l.push(f)}return m&&fl(l,e,s,a)||b}function Jr(n,e,s,a,l){n.top=s,n.left=e,n.right=e+a,n.bottom=s+l,n.width=a,n.height=l}function Qg(n,e,s,a){const l=s.padding;let{x:o,y:c}=e;for(const f of n){const h=f.box,m=a[f.stack]||{placed:0,weight:1},b=f.stackWeight/m.weight||1;if(f.horizontal){const x=e.w*b,y=m.size||h.height;Sl(m.start)&&(c=m.start),h.fullSize?Jr(h,l.left,c,s.outerWidth-l.right-l.left,y):Jr(h,e.left+m.placed,c,x,y),m.start=c,m.placed+=x,c=h.bottom}else{const x=e.h*b,y=m.size||h.width;Sl(m.start)&&(o=m.start),h.fullSize?Jr(h,o,l.top,y,s.outerHeight-l.bottom-l.top):Jr(h,o,e.top+m.placed,y,x),m.start=o,m.placed+=x,o=h.right}}e.x=o,e.y=c}var zt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},n.boxes.push(e)},removeBox(n,e){const s=n.boxes?n.boxes.indexOf(e):-1;s!==-1&&n.boxes.splice(s,1)},configure(n,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(n,e,s,a){if(!n)return;const l=Lt(n.options.layout.padding),o=Math.max(e-l.width,0),c=Math.max(s-l.height,0),f=Fj(n.boxes),h=f.vertical,m=f.horizontal;qe(n.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const b=h.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:l,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/b,hBoxMaxHeight:c/2}),y=Object.assign({},l);Fx(y,Lt(a));const v=Object.assign({maxPadding:y,w:o,h:c,x:l.left,y:l.top},l),j=Yj(h.concat(m),x);fl(f.fullSize,v,x,j),fl(h,v,x,j),fl(m,v,x,j)&&fl(h,v,x,j),Gj(v),Qg(f.leftAndTop,v,x,j),v.x+=v.w,v.y+=v.h,Qg(f.rightAndBottom,v,x,j),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},qe(f.chartArea,_=>{const S=_.box;Object.assign(S,n.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Xx{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,a){}removeEventListener(e,s,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,a,l){return s=Math.max(0,s||e.width),a=a||e.height,{width:s,height:Math.max(0,l?Math.floor(s/l):a)}}isAttached(e){return!0}updateConfig(e){}}class Qj extends Xx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lo="$chartjs",Wj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wg=n=>n===null||n==="";function Kj(n,e){const s=n.style,a=n.getAttribute("height"),l=n.getAttribute("width");if(n[lo]={initial:{height:a,width:l,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Wg(l)){const o=Eg(n,"width");o!==void 0&&(n.width=o)}if(Wg(a))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Eg(n,"height");o!==void 0&&(n.height=o)}return n}const Gx=G_?{passive:!0}:!1;function Zj(n,e,s){n&&n.addEventListener(e,s,Gx)}function Ij(n,e,s){n&&n.canvas&&n.canvas.removeEventListener(e,s,Gx)}function Jj(n,e){const s=Wj[n.type]||n.type,{x:a,y:l}=ni(n,e);return{type:s,chart:e,native:n,x:a!==void 0?a:null,y:l!==void 0?l:null}}function po(n,e){for(const s of n)if(s===e||s.contains(e))return!0}function eS(n,e,s){const a=n.canvas,l=new MutationObserver(o=>{let c=!1;for(const f of o)c=c||po(f.addedNodes,a),c=c&&!po(f.removedNodes,a);c&&s()});return l.observe(document,{childList:!0,subtree:!0}),l}function tS(n,e,s){const a=n.canvas,l=new MutationObserver(o=>{let c=!1;for(const f of o)c=c||po(f.removedNodes,a),c=c&&!po(f.addedNodes,a);c&&s()});return l.observe(document,{childList:!0,subtree:!0}),l}const Cl=new Map;let Kg=0;function $x(){const n=window.devicePixelRatio;n!==Kg&&(Kg=n,Cl.forEach((e,s)=>{s.currentDevicePixelRatio!==n&&e()}))}function nS(n,e){Cl.size||window.addEventListener("resize",$x),Cl.set(n,e)}function sS(n){Cl.delete(n),Cl.size||window.removeEventListener("resize",$x)}function iS(n,e,s){const a=n.canvas,l=a&&$d(a);if(!l)return;const o=vx((f,h)=>{const m=l.clientWidth;s(f,h),m<l.clientWidth&&s()},window),c=new ResizeObserver(f=>{const h=f[0],m=h.contentRect.width,b=h.contentRect.height;m===0&&b===0||o(m,b)});return c.observe(l),nS(n,o),c}function ad(n,e,s){s&&s.disconnect(),e==="resize"&&sS(n)}function aS(n,e,s){const a=n.canvas,l=vx(o=>{n.ctx!==null&&s(Jj(o,n))},n);return Zj(a,e,l),l}class lS extends Xx{acquireContext(e,s){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(Kj(e,s),a):null}releaseContext(e){const s=e.canvas;if(!s[lo])return!1;const a=s[lo].initial;["height","width"].forEach(o=>{const c=a[o];De(c)?s.removeAttribute(o):s.setAttribute(o,c)});const l=a.style||{};return Object.keys(l).forEach(o=>{s.style[o]=l[o]}),s.width=s.width,delete s[lo],!0}addEventListener(e,s,a){this.removeEventListener(e,s);const l=e.$proxies||(e.$proxies={}),c={attach:eS,detach:tS,resize:iS}[s]||aS;l[s]=c(e,s,a)}removeEventListener(e,s){const a=e.$proxies||(e.$proxies={}),l=a[s];if(!l)return;({attach:ad,detach:ad,resize:ad}[s]||Ij)(e,s,l),a[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,a,l){return X_(e,s,a,l)}isAttached(e){const s=e&&$d(e);return!!(s&&s.isConnected)}}function rS(n){return!Gd()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Qj:lS}class es{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}hasValue(){return ta(this.x)&&ta(this.y)}getProps(e,s){const a=this.$animations;if(!s||!a)return this;const l={};return e.forEach(o=>{l[o]=a[o]&&a[o].active()?a[o]._to:this[o]}),l}}function oS(n,e){const s=n.options.ticks,a=cS(n),l=Math.min(s.maxTicksLimit||a,a),o=s.major.enabled?dS(e):[],c=o.length,f=o[0],h=o[c-1],m=[];if(c>l)return fS(e,m,o,c/l),m;const b=uS(o,e,l);if(c>0){let x,y;const v=c>1?Math.round((h-f)/(c-1)):null;for(eo(e,m,b,De(v)?0:f-v,f),x=0,y=c-1;x<y;x++)eo(e,m,b,o[x],o[x+1]);return eo(e,m,b,h,De(v)?e.length:h+v),m}return eo(e,m,b),m}function cS(n){const e=n.options.offset,s=n._tickSize(),a=n._length/s+(e?0:1),l=n._maxLength/s;return Math.floor(Math.min(a,l))}function uS(n,e,s){const a=hS(n),l=e.length/s;if(!a)return Math.max(l,1);const o=Qw(a);for(let c=0,f=o.length-1;c<f;c++){const h=o[c];if(h>l)return h}return Math.max(l,1)}function dS(n){const e=[];let s,a;for(s=0,a=n.length;s<a;s++)n[s].major&&e.push(s);return e}function fS(n,e,s,a){let l=0,o=s[0],c;for(a=Math.ceil(a),c=0;c<n.length;c++)c===o&&(e.push(n[c]),l++,o=s[l*a])}function eo(n,e,s,a,l){const o=ve(a,0),c=Math.min(ve(l,n.length),n.length);let f=0,h,m,b;for(s=Math.ceil(s),l&&(h=l-a,s=h/Math.floor(h/s)),b=o;b<0;)f++,b=Math.round(o+f*s);for(m=Math.max(o,0);m<c;m++)m===b&&(e.push(n[m]),f++,b=Math.round(o+f*s))}function hS(n){const e=n.length;let s,a;if(e<2)return!1;for(a=n[0],s=1;s<e;++s)if(n[s]-n[s-1]!==a)return!1;return a}const mS=n=>n==="left"?"right":n==="right"?"left":n,Zg=(n,e,s)=>e==="top"||e==="left"?n[e]+s:n[e]-s,Ig=(n,e)=>Math.min(e||n,n);function Jg(n,e){const s=[],a=n.length/e,l=n.length;let o=0;for(;o<l;o+=a)s.push(n[Math.floor(o)]);return s}function pS(n,e,s){const a=n.ticks.length,l=Math.min(e,a-1),o=n._startPixel,c=n._endPixel,f=1e-6;let h=n.getPixelForTick(l),m;if(!(s&&(a===1?m=Math.max(h-o,c-h):e===0?m=(n.getPixelForTick(1)-h)/2:m=(h-n.getPixelForTick(l-1))/2,h+=l<e?m:-m,h<o-f||h>c+f)))return h}function gS(n,e){qe(n,s=>{const a=s.gc,l=a.length/2;let o;if(l>e){for(o=0;o<l;++o)delete s.data[a[o]];a.splice(0,l)}})}function rl(n){return n.drawTicks?n.tickLength:0}function eb(n,e){if(!n.display)return 0;const s=xt(n.font,e),a=Lt(n.padding);return(st(n.text)?n.text.length:1)*s.lineHeight+a.height}function bS(n,e){return Os(n,{scale:e,type:"scale"})}function xS(n,e,s){return Os(n,{tick:s,index:e,type:"tick"})}function yS(n,e,s){let a=Hd(n);return(s&&e!=="right"||!s&&e==="right")&&(a=mS(a)),a}function vS(n,e,s,a){const{top:l,left:o,bottom:c,right:f,chart:h}=n,{chartArea:m,scales:b}=h;let x=0,y,v,j;const _=c-l,S=f-o;if(n.isHorizontal()){if(v=Ot(a,o,f),Ae(s)){const C=Object.keys(s)[0],T=s[C];j=b[C].getPixelForValue(T)+_-e}else s==="center"?j=(m.bottom+m.top)/2+_-e:j=Zg(n,s,e);y=f-o}else{if(Ae(s)){const C=Object.keys(s)[0],T=s[C];v=b[C].getPixelForValue(T)-S+e}else s==="center"?v=(m.left+m.right)/2-S+e:v=Zg(n,s,e);j=Ot(a,c,l),x=s==="left"?-ht:ht}return{titleX:v,titleY:j,maxWidth:y,rotation:x}}class ui extends es{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:a,_suggestedMax:l}=this;return e=tn(e,Number.POSITIVE_INFINITY),s=tn(s,Number.NEGATIVE_INFINITY),a=tn(a,Number.POSITIVE_INFINITY),l=tn(l,Number.NEGATIVE_INFINITY),{min:tn(e,a),max:tn(s,l),minDefined:ct(e),maxDefined:ct(s)}}getMinMax(e){let{min:s,max:a,minDefined:l,maxDefined:o}=this.getUserBounds(),c;if(l&&o)return{min:s,max:a};const f=this.getMatchingVisibleMetas();for(let h=0,m=f.length;h<m;++h)c=f[h].controller.getMinMax(this,e),l||(s=Math.min(s,c.min)),o||(a=Math.max(a,c.max));return s=o&&s>a?a:s,a=l&&s>a?s:a,{min:tn(s,tn(a,s)),max:tn(a,tn(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,s,a){const{beginAtZero:l,grace:o,ticks:c}=this.options,f=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=j_(this,o,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=f<this.ticks.length;this._convertTicksToLabels(h?Jg(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=oS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,a;this.isHorizontal()?(s=this.left,a=this.right):(s=this.top,a=this.bottom,e=!e),this._startPixel=s,this._endPixel=a,this._reversePixels=e,this._length=a-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let a,l,o;for(a=0,l=e.length;a<l;a++)o=e[a],o.label=Je(s.callback,[o.value,a,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,a=Ig(this.ticks.length,e.ticks.maxTicksLimit),l=s.minRotation||0,o=s.maxRotation;let c=l,f,h,m;if(!this._isVisible()||!s.display||l>=o||a<=1||!this.isHorizontal()){this.labelRotation=l;return}const b=this._getLabelSizes(),x=b.widest.width,y=b.highest.height,v=Nt(this.chart.width-x,0,this.maxWidth);f=e.offset?this.maxWidth/a:v/(a-1),x+6>f&&(f=v/(a-(e.offset?.5:1)),h=this.maxHeight-rl(e.grid)-s.padding-eb(e.title,this.chart.options.font),m=Math.sqrt(x*x+y*y),c=Ud(Math.min(Math.asin(Nt((b.highest.height+6)/f,-1,1)),Math.asin(Nt(h/m,-1,1))-Math.asin(Nt(y/m,-1,1)))),c=Math.max(l,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:a,title:l,grid:o}}=this,c=this._isVisible(),f=this.isHorizontal();if(c){const h=eb(l,s.options.font);if(f?(e.width=this.maxWidth,e.height=rl(o)+h):(e.height=this.maxHeight,e.width=rl(o)+h),a.display&&this.ticks.length){const{first:m,last:b,widest:x,highest:y}=this._getLabelSizes(),v=a.padding*2,j=yn(this.labelRotation),_=Math.cos(j),S=Math.sin(j);if(f){const C=a.mirror?0:S*x.width+_*y.height;e.height=Math.min(this.maxHeight,e.height+C+v)}else{const C=a.mirror?0:_*x.width+S*y.height;e.width=Math.min(this.maxWidth,e.width+C+v)}this._calculatePadding(m,b,S,_)}}this._handleMargins(),f?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,a,l){const{ticks:{align:o,padding:c},position:f}=this.options,h=this.labelRotation!==0,m=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;h?m?(y=l*e.width,v=a*s.height):(y=a*e.height,v=l*s.width):o==="start"?v=s.width:o==="end"?y=e.width:o!=="inner"&&(y=e.width/2,v=s.width/2),this.paddingLeft=Math.max((y-b+c)*this.width/(this.width-b),0),this.paddingRight=Math.max((v-x+c)*this.width/(this.width-x),0)}else{let b=s.height/2,x=e.height/2;o==="start"?(b=0,x=e.height):o==="end"&&(b=s.height,x=0),this.paddingTop=b+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,a;for(s=0,a=e.length;s<a;s++)De(e[s].label)&&(e.splice(s,1),a--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let a=this.ticks;s<a.length&&(a=Jg(a,s)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,a){const{ctx:l,_longestTextCache:o}=this,c=[],f=[],h=Math.floor(s/Ig(s,a));let m=0,b=0,x,y,v,j,_,S,C,T,E,A,D;for(x=0;x<s;x+=h){if(j=e[x].label,_=this._resolveTickFontOptions(x),l.font=S=_.string,C=o[S]=o[S]||{data:{},gc:[]},T=_.lineHeight,E=A=0,!De(j)&&!st(j))E=ho(l,C.data,C.gc,E,j),A=T;else if(st(j))for(y=0,v=j.length;y<v;++y)D=j[y],!De(D)&&!st(D)&&(E=ho(l,C.data,C.gc,E,D),A+=T);c.push(E),f.push(A),m=Math.max(E,m),b=Math.max(A,b)}gS(o,s);const L=c.indexOf(m),R=f.indexOf(b),Y=Z=>({width:c[Z]||0,height:f[Z]||0});return{first:Y(0),last:Y(s-1),widest:Y(L),highest:Y(R),widths:c,heights:f}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return Iw(this._alignToPixels?Js(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const a=s[e];return a.$context||(a.$context=xS(this.getContext(),e,a))}return this.$context||(this.$context=bS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=yn(this.labelRotation),a=Math.abs(Math.cos(s)),l=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,f=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*a>f*l?f/a:h/l:h*l<f*a?h/a:f/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,a=this.chart,l=this.options,{grid:o,position:c,border:f}=l,h=o.offset,m=this.isHorizontal(),x=this.ticks.length+(h?1:0),y=rl(o),v=[],j=f.setContext(this.getContext()),_=j.display?j.width:0,S=_/2,C=function(B){return Js(a,B,_)};let T,E,A,D,L,R,Y,Z,ne,G,se,me;if(c==="top")T=C(this.bottom),R=this.bottom-y,Z=T-S,G=C(e.top)+S,me=e.bottom;else if(c==="bottom")T=C(this.top),G=e.top,me=C(e.bottom)-S,R=T+S,Z=this.top+y;else if(c==="left")T=C(this.right),L=this.right-y,Y=T-S,ne=C(e.left)+S,se=e.right;else if(c==="right")T=C(this.left),ne=e.left,se=C(e.right)-S,L=T+S,Y=this.left+y;else if(s==="x"){if(c==="center")T=C((e.top+e.bottom)/2+.5);else if(Ae(c)){const B=Object.keys(c)[0],X=c[B];T=C(this.chart.scales[B].getPixelForValue(X))}G=e.top,me=e.bottom,R=T+S,Z=R+y}else if(s==="y"){if(c==="center")T=C((e.left+e.right)/2);else if(Ae(c)){const B=Object.keys(c)[0],X=c[B];T=C(this.chart.scales[B].getPixelForValue(X))}L=T-S,Y=L-y,ne=e.left,se=e.right}const pe=ve(l.ticks.maxTicksLimit,x),te=Math.max(1,Math.ceil(x/pe));for(E=0;E<x;E+=te){const B=this.getContext(E),X=o.setContext(B),ie=f.setContext(B),le=X.lineWidth,k=X.color,P=ie.dash||[],$=ie.dashOffset,J=X.tickWidth,ae=X.tickColor,de=X.tickBorderDash||[],re=X.tickBorderDashOffset;A=pS(this,E,h),A!==void 0&&(D=Js(a,A,le),m?L=Y=ne=se=D:R=Z=G=me=D,v.push({tx1:L,ty1:R,tx2:Y,ty2:Z,x1:ne,y1:G,x2:se,y2:me,width:le,color:k,borderDash:P,borderDashOffset:$,tickWidth:J,tickColor:ae,tickBorderDash:de,tickBorderDashOffset:re}))}return this._ticksLength=x,this._borderValue=T,v}_computeLabelItems(e){const s=this.axis,a=this.options,{position:l,ticks:o}=a,c=this.isHorizontal(),f=this.ticks,{align:h,crossAlign:m,padding:b,mirror:x}=o,y=rl(a.grid),v=y+b,j=x?-b:v,_=-yn(this.labelRotation),S=[];let C,T,E,A,D,L,R,Y,Z,ne,G,se,me="middle";if(l==="top")L=this.bottom-j,R=this._getXAxisLabelAlignment();else if(l==="bottom")L=this.top+j,R=this._getXAxisLabelAlignment();else if(l==="left"){const te=this._getYAxisLabelAlignment(y);R=te.textAlign,D=te.x}else if(l==="right"){const te=this._getYAxisLabelAlignment(y);R=te.textAlign,D=te.x}else if(s==="x"){if(l==="center")L=(e.top+e.bottom)/2+v;else if(Ae(l)){const te=Object.keys(l)[0],B=l[te];L=this.chart.scales[te].getPixelForValue(B)+v}R=this._getXAxisLabelAlignment()}else if(s==="y"){if(l==="center")D=(e.left+e.right)/2-v;else if(Ae(l)){const te=Object.keys(l)[0],B=l[te];D=this.chart.scales[te].getPixelForValue(B)}R=this._getYAxisLabelAlignment(y).textAlign}s==="y"&&(h==="start"?me="top":h==="end"&&(me="bottom"));const pe=this._getLabelSizes();for(C=0,T=f.length;C<T;++C){E=f[C],A=E.label;const te=o.setContext(this.getContext(C));Y=this.getPixelForTick(C)+o.labelOffset,Z=this._resolveTickFontOptions(C),ne=Z.lineHeight,G=st(A)?A.length:1;const B=G/2,X=te.color,ie=te.textStrokeColor,le=te.textStrokeWidth;let k=R;c?(D=Y,R==="inner"&&(C===T-1?k=this.options.reverse?"left":"right":C===0?k=this.options.reverse?"right":"left":k="center"),l==="top"?m==="near"||_!==0?se=-G*ne+ne/2:m==="center"?se=-pe.highest.height/2-B*ne+ne:se=-pe.highest.height+ne/2:m==="near"||_!==0?se=ne/2:m==="center"?se=pe.highest.height/2-B*ne:se=pe.highest.height-G*ne,x&&(se*=-1),_!==0&&!te.showLabelBackdrop&&(D+=ne/2*Math.sin(_))):(L=Y,se=(1-G)*ne/2);let P;if(te.showLabelBackdrop){const $=Lt(te.backdropPadding),J=pe.heights[C],ae=pe.widths[C];let de=se-$.top,re=0-$.left;switch(me){case"middle":de-=J/2;break;case"bottom":de-=J;break}switch(R){case"center":re-=ae/2;break;case"right":re-=ae;break;case"inner":C===T-1?re-=ae:C>0&&(re-=ae/2);break}P={left:re,top:de,width:ae+$.width,height:J+$.height,color:te.backdropColor}}S.push({label:A,font:Z,textOffset:se,options:{rotation:_,color:X,strokeColor:ie,strokeWidth:le,textAlign:k,textBaseline:me,translation:[D,L],backdrop:P}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-yn(this.labelRotation))return e==="top"?"left":"right";let l="center";return s.align==="start"?l="left":s.align==="end"?l="right":s.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:a,mirror:l,padding:o}}=this.options,c=this._getLabelSizes(),f=e+o,h=c.widest.width;let m,b;return s==="left"?l?(b=this.right+o,a==="near"?m="left":a==="center"?(m="center",b+=h/2):(m="right",b+=h)):(b=this.right-f,a==="near"?m="right":a==="center"?(m="center",b-=h/2):(m="left",b=this.left)):s==="right"?l?(b=this.left+o,a==="near"?m="right":a==="center"?(m="center",b-=h/2):(m="left",b-=h)):(b=this.left+f,a==="near"?m="left":a==="center"?(m="center",b+=h/2):(m="right",b=this.right)):m="right",{textAlign:m,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:a,top:l,width:o,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(a,l,o,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const l=this.ticks.findIndex(o=>o.value===e);return l>=0?s.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const s=this.options.grid,a=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const f=(h,m,b)=>{!b.width||!b.color||(a.save(),a.lineWidth=b.width,a.strokeStyle=b.color,a.setLineDash(b.borderDash||[]),a.lineDashOffset=b.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(m.x,m.y),a.stroke(),a.restore())};if(s.display)for(o=0,c=l.length;o<c;++o){const h=l[o];s.drawOnChartArea&&f({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&f({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:a,grid:l}}=this,o=a.setContext(this.getContext()),c=a.display?o.width:0;if(!c)return;const f=l.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,b,x,y;this.isHorizontal()?(m=Js(e,this.left,c)-c/2,b=Js(e,this.right,f)+f/2,x=y=h):(x=Js(e,this.top,c)-c/2,y=Js(e,this.bottom,f)+f/2,m=b=h),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(m,x),s.lineTo(b,y),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,l=this._computeLabelArea();l&&Mo(a,l);const o=this.getLabelItems(e);for(const c of o){const f=c.options,h=c.font,m=c.label,b=c.textOffset;oi(a,m,0,b,h,f)}l&&Co(a)}drawTitle(){const{ctx:e,options:{position:s,title:a,reverse:l}}=this;if(!a.display)return;const o=xt(a.font),c=Lt(a.padding),f=a.align;let h=o.lineHeight/2;s==="bottom"||s==="center"||Ae(s)?(h+=c.bottom,st(a.text)&&(h+=o.lineHeight*(a.text.length-1))):h+=c.top;const{titleX:m,titleY:b,maxWidth:x,rotation:y}=vS(this,h,s,f);oi(e,a.text,0,0,o,{color:a.color,maxWidth:x,rotation:y,textAlign:yS(f,s,l),textBaseline:"middle",translation:[m,b]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,a=ve(e.grid&&e.grid.z,-1),l=ve(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ui.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:a,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",l=[];let o,c;for(o=0,c=s.length;o<c;++o){const f=s[o];f[a]===this.id&&(!e||f.type===e)&&l.push(f)}return l}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return xt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class to{constructor(e,s,a){this.type=e,this.scope=s,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let a;jS(s)&&(a=this.register(s));const l=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in l||(l[o]=e,wS(e,c,a),this.override&&it.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,a=e.id,l=this.scope;a in s&&delete s[a],l&&a in it[l]&&(delete it[l][a],this.override&&delete ri[a])}}function wS(n,e,s){const a=jl(Object.create(null),[s?it.get(s):{},it.get(e),n.defaults]);it.set(e,a),n.defaultRoutes&&_S(e,n.defaultRoutes),n.descriptors&&it.describe(e,n.descriptors)}function _S(n,e){Object.keys(e).forEach(s=>{const a=s.split("."),l=a.pop(),o=[n].concat(a).join("."),c=e[s].split("."),f=c.pop(),h=c.join(".");it.route(o,l,h,f)})}function jS(n){return"id"in n&&"defaults"in n}class SS{constructor(){this.controllers=new to(Rs,"datasets",!0),this.elements=new to(es,"elements"),this.plugins=new to(Object,"plugins"),this.scales=new to(ui,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,a){[...s].forEach(l=>{const o=a||this._getRegistryForType(l);a||o.isForType(l)||o===this.plugins&&l.id?this._exec(e,o,l):qe(l,c=>{const f=a||this._getRegistryForType(c);this._exec(e,f,c)})})}_exec(e,s,a){const l=Bd(e);Je(a["before"+l],[],a),s[e](a),Je(a["after"+l],[],a)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const a=this._typedRegistries[s];if(a.isForType(e))return a}return this.plugins}_get(e,s,a){const l=s.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return l}}var Tn=new SS;class NS{constructor(){this._init=[]}notify(e,s,a,l){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=l?this._descriptors(e).filter(l):this._descriptors(e),c=this._notify(o,e,s,a);return s==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,s,a,l){l=l||{};for(const o of e){const c=o.plugin,f=c[a],h=[s,l,o.options];if(Je(f,h,c)===!1&&l.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const a=e&&e.config,l=ve(a.options&&a.options.plugins,{}),o=MS(a);return l===!1&&!s?[]:kS(e,o,l,s)}_notifyStateChanges(e){const s=this._oldCache||[],a=this._cache,l=(o,c)=>o.filter(f=>!c.some(h=>f.plugin.id===h.plugin.id));this._notify(l(s,a),e,"stop"),this._notify(l(a,s),e,"start")}}function MS(n){const e={},s=[],a=Object.keys(Tn.plugins.items);for(let o=0;o<a.length;o++)s.push(Tn.getPlugin(a[o]));const l=n.plugins||[];for(let o=0;o<l.length;o++){const c=l[o];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function CS(n,e){return!e&&n===!1?null:n===!0?{}:n}function kS(n,{plugins:e,localIds:s},a,l){const o=[],c=n.getContext();for(const f of e){const h=f.id,m=CS(a[h],l);m!==null&&o.push({plugin:f,options:TS(n.config,{plugin:f,local:s[h]},m,c)})}return o}function TS(n,{plugin:e,local:s},a,l){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(a,o);return s&&e.defaults&&c.push(e.defaults),n.createResolver(c,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jd(n,e){const s=it.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function DS(n,e){let s=n;return n==="_index_"?s=e:n==="_value_"&&(s=e==="x"?"y":"x"),s}function AS(n,e){return n===e?"_index_":"_value_"}function tb(n){if(n==="x"||n==="y"||n==="r")return n}function ES(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sd(n,...e){if(tb(n))return n;for(const s of e){const a=s.axis||ES(s.position)||n.length>1&&tb(n[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function nb(n,e,s){if(s[e+"AxisID"]===n)return{axis:e}}function OS(n,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(a=>a.xAxisID===n||a.yAxisID===n);if(s.length)return nb(n,"x",s[0])||nb(n,"y",s[0])}return{}}function RS(n,e){const s=ri[n.type]||{scales:{}},a=e.scales||{},l=jd(n.type,e),o=Object.create(null);return Object.keys(a).forEach(c=>{const f=a[c];if(!Ae(f))return console.error(`Invalid scale configuration for scale: ${c}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=Sd(c,f,OS(c,n),it.scales[f.type]),m=AS(h,l),b=s.scales||{};o[c]=ml(Object.create(null),[{axis:h},f,b[h],b[m]])}),n.data.datasets.forEach(c=>{const f=c.type||n.type,h=c.indexAxis||jd(f,e),b=(ri[f]||{}).scales||{};Object.keys(b).forEach(x=>{const y=DS(x,h),v=c[y+"AxisID"]||y;o[v]=o[v]||Object.create(null),ml(o[v],[{axis:y},a[v],b[x]])})}),Object.keys(o).forEach(c=>{const f=o[c];ml(f,[it.scales[f.type],it.scale])}),o}function Qx(n){const e=n.options||(n.options={});e.plugins=ve(e.plugins,{}),e.scales=RS(n,e)}function Wx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function zS(n){return n=n||{},n.data=Wx(n.data),Qx(n),n}const sb=new Map,Kx=new Set;function no(n,e){let s=sb.get(n);return s||(s=e(),sb.set(n,s),Kx.add(s)),s}const ol=(n,e,s)=>{const a=As(e,s);a!==void 0&&n.add(a)};class LS{constructor(e){this._config=zS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Wx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Qx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return no(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return no(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return no(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,a=this.type;return no(`${a}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const a=this._scopeCache;let l=a.get(e);return(!l||s)&&(l=new Map,a.set(e,l)),l}getOptionScopes(e,s,a){const{options:l,type:o}=this,c=this._cachedScopes(e,a),f=c.get(s);if(f)return f;const h=new Set;s.forEach(b=>{e&&(h.add(e),b.forEach(x=>ol(h,e,x))),b.forEach(x=>ol(h,l,x)),b.forEach(x=>ol(h,ri[o]||{},x)),b.forEach(x=>ol(h,it,x)),b.forEach(x=>ol(h,wd,x))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),Kx.has(s)&&c.set(s,m),m}chartOptionScopes(){const{options:e,type:s}=this;return[e,ri[s]||{},it.datasets[s]||{},{type:s},it,wd]}resolveNamedOptions(e,s,a,l=[""]){const o={$shared:!0},{resolver:c,subPrefixes:f}=ib(this._resolverCache,e,l);let h=c;if(US(c,s)){o.$shared=!1,a=Es(a)?a():a;const m=this.createResolver(e,a,f);h=na(c,a,m)}for(const m of s)o[m]=h[m];return o}createResolver(e,s,a=[""],l){const{resolver:o}=ib(this._resolverCache,e,a);return Ae(s)?na(o,s,void 0,l):o}}function ib(n,e,s){let a=n.get(e);a||(a=new Map,n.set(e,a));const l=s.join();let o=a.get(l);return o||(o={resolver:Yd(e,s),subPrefixes:s.filter(f=>!f.toLowerCase().includes("hover"))},a.set(l,o)),o}const BS=n=>Ae(n)&&Object.getOwnPropertyNames(n).some(e=>Es(n[e]));function US(n,e){const{isScriptable:s,isIndexable:a}=Mx(n);for(const l of e){const o=s(l),c=a(l),f=(c||o)&&n[l];if(o&&(Es(f)||BS(f))||c&&st(f))return!0}return!1}var PS="4.5.0";const HS=["top","bottom","left","right","chartArea"];function ab(n,e){return n==="top"||n==="bottom"||HS.indexOf(n)===-1&&e==="x"}function lb(n,e){return function(s,a){return s[n]===a[n]?s[e]-a[e]:s[n]-a[n]}}function rb(n){const e=n.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Je(s&&s.onComplete,[n],e)}function VS(n){const e=n.chart,s=e.options.animation;Je(s&&s.onProgress,[n],e)}function Zx(n){return Gd()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ro={},ob=n=>{const e=Zx(n);return Object.values(ro).filter(s=>s.canvas===e).pop()};function qS(n,e,s){const a=Object.keys(n);for(const l of a){const o=+l;if(o>=e){const c=n[l];delete n[l],(s>0||o>e)&&(n[o+s]=c)}}}function YS(n,e,s,a){return!s||n.type==="mouseout"?null:a?e:n}let aa=class{static defaults=it;static instances=ro;static overrides=ri;static registry=Tn;static version=PS;static getChart=ob;static register(...e){Tn.add(...e),cb()}static unregister(...e){Tn.remove(...e),cb()}constructor(e,s){const a=this.config=new LS(s),l=Zx(e),o=ob(l);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||rS(l)),this.platform.updateConfig(a);const f=this.platform.acquireContext(l,c.aspectRatio),h=f&&f.canvas,m=h&&h.height,b=h&&h.width;if(this.id=Pw(),this.ctx=f,this.canvas=h,this.width=b,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=n_(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],ro[this.id]=this,!f||!h){console.error("Failed to create chart: can't acquire context from the given item");return}$n.listen(this,"complete",rb),$n.listen(this,"progress",VS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:a,height:l,_aspectRatio:o}=this;return De(e)?s&&o?o:l?a/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ag(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kg(this.canvas,this.ctx),this}stop(){return $n.stop(this),this}resize(e,s){$n.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const a=this.options,l=this.canvas,o=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(l,e,s,o),f=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Ag(this,f,!0)&&(this.notifyPlugins("resize",{size:c}),Je(a.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};qe(s,(a,l)=>{a.id=l})}buildOrUpdateScales(){const e=this.options,s=e.scales,a=this.scales,l=Object.keys(a).reduce((c,f)=>(c[f]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const f=s[c],h=Sd(c,f),m=h==="r",b=h==="x";return{options:f,dposition:m?"chartArea":b?"bottom":"left",dtype:m?"radialLinear":b?"category":"linear"}}))),qe(o,c=>{const f=c.options,h=f.id,m=Sd(h,f),b=ve(f.type,c.dtype);(f.position===void 0||ab(f.position,m)!==ab(c.dposition))&&(f.position=c.dposition),l[h]=!0;let x=null;if(h in a&&a[h].type===b)x=a[h];else{const y=Tn.getScale(b);x=new y({id:h,type:b,ctx:this.ctx,chart:this}),a[x.id]=x}x.init(f,e)}),qe(l,(c,f)=>{c||delete a[f]}),qe(a,c=>{zt.configure(this,c,c.options),zt.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,a=e.length;if(e.sort((l,o)=>l.index-o.index),a>s){for(let l=s;l<a;++l)this._destroyDatasetMeta(l);e.splice(s,a-s)}this._sortedMetasets=e.slice(0).sort(lb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((a,l)=>{s.filter(o=>o===a._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let a,l;for(this._removeUnreferencedMetasets(),a=0,l=s.length;a<l;a++){const o=s[a];let c=this.getDatasetMeta(a);const f=o.type||this.config.type;if(c.type&&c.type!==f&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=f,c.indexAxis=o.indexAxis||jd(f,this.options),c.order=o.order||0,c.index=a,c.label=""+o.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const h=Tn.getController(f),{datasetElementType:m,dataElementType:b}=it.datasets[f];Object.assign(h,{dataElementType:Tn.getElement(b),datasetElementType:m&&Tn.getElement(m)}),c.controller=new h(this,a),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){qe(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const a=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,b=this.data.datasets.length;m<b;m++){const{controller:x}=this.getDatasetMeta(m),y=!l&&o.indexOf(x)===-1;x.buildOrUpdateElements(y),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),l||qe(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lb("z","_idx"));const{_active:f,_lastEvent:h}=this;h?this._eventHandler(h,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){qe(this.scales,e=>{zt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!yg(s,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:a,start:l,count:o}of s){const c=a==="_removeElements"?-o:o;qS(e,l,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,a=o=>new Set(e.filter(c=>c[0]===o).map((c,f)=>f+","+c.splice(1).join(","))),l=a(0);for(let o=1;o<s;o++)if(!yg(l,a(o)))return;return Array.from(l).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,e);const s=this.chartArea,a=s.width<=0||s.height<=0;this._layers=[],qe(this.boxes,l=>{a&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,o)=>{l._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,a=this.data.datasets.length;s<a;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,a=this.data.datasets.length;s<a;++s)this._updateDataset(s,Es(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const a=this.getDatasetMeta(e),l={meta:a,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(a.controller._update(s),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($n.has(this)?this.attached&&!$n.running(this)&&$n.start(this):(this.draw(),rb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,a=[];let l,o;for(l=0,o=s.length;l<o;++l){const c=s[l];(!e||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,a={meta:e,index:e.index,cancelable:!0},l=Bx(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(l&&Mo(s,l),e.controller.draw(),l&&Co(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return In(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,a,l){const o=Hj.modes[s];return typeof o=="function"?o(this,e,a,l):[]}getDatasetMeta(e){const s=this.data.datasets[e],a=this._metasets;let l=a.filter(o=>o&&o._dataset===s).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},a.push(l)),l}getContext(){return this.$context||(this.$context=Os(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!s.hidden}setDatasetVisibility(e,s){const a=this.getDatasetMeta(e);a.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,a){const l=a?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,l);Sl(s)?(o.data[s].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),c.update(o,{visible:a}),this.update(f=>f.datasetIndex===e?l:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),$n.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kg(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete ro[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,a=(o,c)=>{s.addEventListener(this,o,c),e[o]=c},l=(o,c,f)=>{o.offsetX=c,o.offsetY=f,this._eventHandler(o)};qe(this.options.events,o=>a(o,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,a=(h,m)=>{s.addEventListener(this,h,m),e[h]=m},l=(h,m)=>{e[h]&&(s.removeEventListener(this,h,m),delete e[h])},o=(h,m)=>{this.canvas&&this.resize(h,m)};let c;const f=()=>{l("attach",f),this.attached=!0,this.resize(),a("resize",o),a("detach",c)};c=()=>{this.attached=!1,l("resize",o),this._stop(),this._resize(0,0),a("attach",f)},s.isAttached(this.canvas)?f():c()}unbindEvents(){qe(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},qe(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,a){const l=a?"set":"remove";let o,c,f,h;for(s==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+l+"DatasetHoverStyle"]()),f=0,h=e.length;f<h;++f){c=e[f];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[l+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],a=e.map(({datasetIndex:o,index:c})=>{const f=this.getDatasetMeta(o);if(!f)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:f.data[c],index:c}});!co(a,s)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,s))}notifyPlugins(e,s,a){return this._plugins.notify(this,e,s,a)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,a){const l=this.options.hover,o=(h,m)=>h.filter(b=>!m.some(x=>b.datasetIndex===x.datasetIndex&&b.index===x.index)),c=o(s,e),f=a?e:o(e,s);c.length&&this.updateHoverStyle(c,l.mode,!1),f.length&&l.mode&&this.updateHoverStyle(f,l.mode,!0)}_eventHandler(e,s){const a={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},l=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,l)===!1)return;const o=this._handleEvent(e,s,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,l),(o||a.changed)&&this.render(),this}_handleEvent(e,s,a){const{_active:l=[],options:o}=this,c=s,f=this._getActiveElements(e,l,a,c),h=Xw(e),m=YS(e,this._lastEvent,a,h);a&&(this._lastEvent=null,Je(o.onHover,[e,f,this],this),h&&Je(o.onClick,[e,f,this],this));const b=!co(f,l);return(b||s)&&(this._active=f,this._updateHoverStyles(f,l,s)),this._lastEvent=m,b}_getActiveElements(e,s,a,l){if(e.type==="mouseout")return[];if(!a)return s;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,l)}};function cb(){return qe(aa.instances,n=>n._plugins.invalidate())}function FS(n,e,s){const{startAngle:a,x:l,y:o,outerRadius:c,innerRadius:f,options:h}=e,{borderWidth:m,borderJoinStyle:b}=h,x=Math.min(m/c,Rt(a-s));if(n.beginPath(),n.arc(l,o,c-m/2,a+x/2,s-x/2),f>0){const y=Math.min(m/f,Rt(a-s));n.arc(l,o,f+m/2,s-y/2,a+y/2,!0)}else{const y=Math.min(m/2,c*Rt(a-s));if(b==="round")n.arc(l,o,y,s-Le/2,a+Le/2,!0);else if(b==="bevel"){const v=2*y*y,j=-v*Math.cos(s+Le/2)+l,_=-v*Math.sin(s+Le/2)+o,S=v*Math.cos(a+Le/2)+l,C=v*Math.sin(a+Le/2)+o;n.lineTo(j,_),n.lineTo(S,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function XS(n,e,s){const{startAngle:a,pixelMargin:l,x:o,y:c,outerRadius:f,innerRadius:h}=e;let m=l/f;n.beginPath(),n.arc(o,c,f,a-m,s+m),h>l?(m=l/h,n.arc(o,c,h,s+m,a-m,!0)):n.arc(o,c,l,s+ht,a-ht),n.closePath(),n.clip()}function GS(n){return qd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function $S(n,e,s,a){const l=GS(n.options.borderRadius),o=(s-e)/2,c=Math.min(o,a*e/2),f=h=>{const m=(s-Math.min(o,h))*a/2;return Nt(h,0,Math.min(o,m))};return{outerStart:f(l.outerStart),outerEnd:f(l.outerEnd),innerStart:Nt(l.innerStart,0,c),innerEnd:Nt(l.innerEnd,0,c)}}function Zi(n,e,s,a){return{x:s+n*Math.cos(e),y:a+n*Math.sin(e)}}function go(n,e,s,a,l,o){const{x:c,y:f,startAngle:h,pixelMargin:m,innerRadius:b}=e,x=Math.max(e.outerRadius+a+s-m,0),y=b>0?b+a+s+m:0;let v=0;const j=l-h;if(a){const te=b>0?b-a:0,B=x>0?x-a:0,X=(te+B)/2,ie=X!==0?j*X/(X+a):j;v=(j-ie)/2}const _=Math.max(.001,j*x-s/Le)/x,S=(j-_)/2,C=h+S+v,T=l-S-v,{outerStart:E,outerEnd:A,innerStart:D,innerEnd:L}=$S(e,y,x,T-C),R=x-E,Y=x-A,Z=C+E/R,ne=T-A/Y,G=y+D,se=y+L,me=C+D/G,pe=T-L/se;if(n.beginPath(),o){const te=(Z+ne)/2;if(n.arc(c,f,x,Z,te),n.arc(c,f,x,te,ne),A>0){const le=Zi(Y,ne,c,f);n.arc(le.x,le.y,A,ne,T+ht)}const B=Zi(se,T,c,f);if(n.lineTo(B.x,B.y),L>0){const le=Zi(se,pe,c,f);n.arc(le.x,le.y,L,T+ht,pe+Math.PI)}const X=(T-L/y+(C+D/y))/2;if(n.arc(c,f,y,T-L/y,X,!0),n.arc(c,f,y,X,C+D/y,!0),D>0){const le=Zi(G,me,c,f);n.arc(le.x,le.y,D,me+Math.PI,C-ht)}const ie=Zi(R,C,c,f);if(n.lineTo(ie.x,ie.y),E>0){const le=Zi(R,Z,c,f);n.arc(le.x,le.y,E,C-ht,Z)}}else{n.moveTo(c,f);const te=Math.cos(Z)*x+c,B=Math.sin(Z)*x+f;n.lineTo(te,B);const X=Math.cos(ne)*x+c,ie=Math.sin(ne)*x+f;n.lineTo(X,ie)}n.closePath()}function QS(n,e,s,a,l){const{fullCircles:o,startAngle:c,circumference:f}=e;let h=e.endAngle;if(o){go(n,e,s,a,h,l);for(let m=0;m<o;++m)n.fill();isNaN(f)||(h=c+(f%tt||tt))}return go(n,e,s,a,h,l),n.fill(),h}function WS(n,e,s,a,l){const{fullCircles:o,startAngle:c,circumference:f,options:h}=e,{borderWidth:m,borderJoinStyle:b,borderDash:x,borderDashOffset:y,borderRadius:v}=h,j=h.borderAlign==="inner";if(!m)return;n.setLineDash(x||[]),n.lineDashOffset=y,j?(n.lineWidth=m*2,n.lineJoin=b||"round"):(n.lineWidth=m,n.lineJoin=b||"bevel");let _=e.endAngle;if(o){go(n,e,s,a,_,l);for(let S=0;S<o;++S)n.stroke();isNaN(f)||(_=c+(f%tt||tt))}j&&XS(n,e,_),h.selfJoin&&_-c>=Le&&v===0&&b!=="miter"&&FS(n,e,_),o||(go(n,e,s,a,_,l),n.stroke())}class KS extends es{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,a){const l=this.getProps(["x","y"],a),{angle:o,distance:c}=gx(l,{x:e,y:s}),{startAngle:f,endAngle:h,innerRadius:m,outerRadius:b,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),y=(this.options.spacing+this.options.borderWidth)/2,v=ve(x,h-f),j=Nl(o,f,h)&&f!==h,_=v>=tt||j,S=Kn(c,m+y,b+y);return _&&S}getCenterPoint(e){const{x:s,y:a,startAngle:l,endAngle:o,innerRadius:c,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,b=(l+o)/2,x=(c+f+m+h)/2;return{x:s+Math.cos(b)*x,y:a+Math.sin(b)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:a}=this,l=(s.offset||0)/4,o=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>tt?Math.floor(a/tt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*l,Math.sin(f)*l);const h=1-Math.sin(Math.min(Le,a||0)),m=l*h;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,QS(e,this,m,o,c),WS(e,this,m,o,c),e.restore()}}function Ix(n,e,s=e){n.lineCap=ve(s.borderCapStyle,e.borderCapStyle),n.setLineDash(ve(s.borderDash,e.borderDash)),n.lineDashOffset=ve(s.borderDashOffset,e.borderDashOffset),n.lineJoin=ve(s.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ve(s.borderWidth,e.borderWidth),n.strokeStyle=ve(s.borderColor,e.borderColor)}function ZS(n,e,s){n.lineTo(s.x,s.y)}function IS(n){return n.stepped?m_:n.tension||n.cubicInterpolationMode==="monotone"?p_:ZS}function Jx(n,e,s={}){const a=n.length,{start:l=0,end:o=a-1}=s,{start:c,end:f}=e,h=Math.max(l,c),m=Math.min(o,f),b=l<c&&o<c||l>f&&o>f;return{count:a,start:h,loop:e.loop,ilen:m<h&&!b?a+m-h:m-h}}function JS(n,e,s,a){const{points:l,options:o}=e,{count:c,start:f,loop:h,ilen:m}=Jx(l,s,a),b=IS(o);let{move:x=!0,reverse:y}=a||{},v,j,_;for(v=0;v<=m;++v)j=l[(f+(y?m-v:v))%c],!j.skip&&(x?(n.moveTo(j.x,j.y),x=!1):b(n,_,j,y,o.stepped),_=j);return h&&(j=l[(f+(y?m:0))%c],b(n,_,j,y,o.stepped)),!!h}function eN(n,e,s,a){const l=e.points,{count:o,start:c,ilen:f}=Jx(l,s,a),{move:h=!0,reverse:m}=a||{};let b=0,x=0,y,v,j,_,S,C;const T=A=>(c+(m?f-A:A))%o,E=()=>{_!==S&&(n.lineTo(b,S),n.lineTo(b,_),n.lineTo(b,C))};for(h&&(v=l[T(0)],n.moveTo(v.x,v.y)),y=0;y<=f;++y){if(v=l[T(y)],v.skip)continue;const A=v.x,D=v.y,L=A|0;L===j?(D<_?_=D:D>S&&(S=D),b=(x*b+A)/++x):(E(),n.lineTo(A,D),j=L,x=0,_=S=D),C=D}E()}function Nd(n){const e=n.options,s=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?eN:JS}function tN(n){return n.stepped?$_:n.tension||n.cubicInterpolationMode==="monotone"?Q_:si}function nN(n,e,s,a){let l=e._path;l||(l=e._path=new Path2D,e.path(l,s,a)&&l.closePath()),Ix(n,e.options),n.stroke(l)}function sN(n,e,s,a){const{segments:l,options:o}=e,c=Nd(e);for(const f of l)Ix(n,o,f.style),n.beginPath(),c(n,e,f,{start:s,end:s+a-1})&&n.closePath(),n.stroke()}const iN=typeof Path2D=="function";function aN(n,e,s,a){iN&&!e.options.segment?nN(n,e,s,a):sN(n,e,s,a)}class El extends es{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const l=a.spanGaps?this._loop:this._fullLoop;P_(this._points,a,e,l,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ej(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,a=e.length;return a&&s[e[a-1].end]}interpolate(e,s){const a=this.options,l=e[s],o=this.points,c=Lx(this,{property:s,start:l,end:l});if(!c.length)return;const f=[],h=tN(a);let m,b;for(m=0,b=c.length;m<b;++m){const{start:x,end:y}=c[m],v=o[x],j=o[y];if(v===j){f.push(v);continue}const _=Math.abs((l-v[s])/(j[s]-v[s])),S=h(v,j,_,a.stepped);S[s]=e[s],f.push(S)}return f.length===1?f[0]:f}pathSegment(e,s,a){return Nd(this)(e,this,s,a)}path(e,s,a){const l=this.segments,o=Nd(this);let c=this._loop;s=s||0,a=a||this.points.length-s;for(const f of l)c&=o(e,this,f,{start:s,end:s+a-1});return!!c}draw(e,s,a,l){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),aN(e,this,a,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ub(n,e,s,a){const l=n.options,{[s]:o}=n.getProps([s],a);return Math.abs(e-o)<l.radius+l.hitRadius}class e0 extends es{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,a){const l=this.options,{x:o,y:c}=this.getProps(["x","y"],a);return Math.pow(e-o,2)+Math.pow(s-c,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,s){return ub(this,e,"x",s)}inYRange(e,s){return ub(this,e,"y",s)}getCenterPoint(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const a=s&&e.borderWidth||0;return(s+a)*2}draw(e,s){const a=this.options;this.skip||a.radius<.1||!In(this,s,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,_d(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function t0(n,e){const{x:s,y:a,base:l,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let f,h,m,b,x;return n.horizontal?(x=c/2,f=Math.min(s,l),h=Math.max(s,l),m=a-x,b=a+x):(x=o/2,f=s-x,h=s+x,m=Math.min(a,l),b=Math.max(a,l)),{left:f,top:m,right:h,bottom:b}}function Ts(n,e,s,a){return n?0:Nt(e,s,a)}function lN(n,e,s){const a=n.options.borderWidth,l=n.borderSkipped,o=Nx(a);return{t:Ts(l.top,o.top,0,s),r:Ts(l.right,o.right,0,e),b:Ts(l.bottom,o.bottom,0,s),l:Ts(l.left,o.left,0,e)}}function rN(n,e,s){const{enableBorderRadius:a}=n.getProps(["enableBorderRadius"]),l=n.options.borderRadius,o=ai(l),c=Math.min(e,s),f=n.borderSkipped,h=a||Ae(l);return{topLeft:Ts(!h||f.top||f.left,o.topLeft,0,c),topRight:Ts(!h||f.top||f.right,o.topRight,0,c),bottomLeft:Ts(!h||f.bottom||f.left,o.bottomLeft,0,c),bottomRight:Ts(!h||f.bottom||f.right,o.bottomRight,0,c)}}function oN(n){const e=t0(n),s=e.right-e.left,a=e.bottom-e.top,l=lN(n,s/2,a/2),o=rN(n,s/2,a/2);return{outer:{x:e.left,y:e.top,w:s,h:a,radius:o},inner:{x:e.left+l.l,y:e.top+l.t,w:s-l.l-l.r,h:a-l.t-l.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,o.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(l.b,l.r))}}}}function ld(n,e,s,a){const l=e===null,o=s===null,f=n&&!(l&&o)&&t0(n,a);return f&&(l||Kn(e,f.left,f.right))&&(o||Kn(s,f.top,f.bottom))}function cN(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function uN(n,e){n.rect(e.x,e.y,e.w,e.h)}function rd(n,e,s={}){const a=n.x!==s.x?-e:0,l=n.y!==s.y?-e:0,o=(n.x+n.w!==s.x+s.w?e:0)-a,c=(n.y+n.h!==s.y+s.h?e:0)-l;return{x:n.x+a,y:n.y+l,w:n.w+o,h:n.h+c,radius:n.radius}}class dN extends es{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:a,backgroundColor:l}}=this,{inner:o,outer:c}=oN(this),f=cN(c.radius)?Ml:uN;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),f(e,rd(c,s,o)),e.clip(),f(e,rd(o,-s,c)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),f(e,rd(o,s)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,s,a){return ld(this,e,s,a)}inXRange(e,s){return ld(this,e,null,s)}inYRange(e,s){return ld(this,null,e,s)}getCenterPoint(e){const{x:s,y:a,base:l,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(s+l)/2:s,y:o?a:(a+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var fN=Object.freeze({__proto__:null,ArcElement:KS,BarElement:dN,LineElement:El,PointElement:e0});const Md=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],db=Md.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function n0(n){return Md[n%Md.length]}function s0(n){return db[n%db.length]}function hN(n,e){return n.borderColor=n0(e),n.backgroundColor=s0(e),++e}function mN(n,e){return n.backgroundColor=n.data.map(()=>n0(e++)),e}function pN(n,e){return n.backgroundColor=n.data.map(()=>s0(e++)),e}function gN(n){let e=0;return(s,a)=>{const l=n.getDatasetMeta(a).controller;l instanceof Qd?e=mN(s,e):l instanceof qx?e=pN(s,e):l&&(e=hN(s,e))}}function fb(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function bN(n){return n&&(n.borderColor||n.backgroundColor)}function xN(){return it.borderColor!=="rgba(0,0,0,0.1)"||it.backgroundColor!=="rgba(0,0,0,0.1)"}var yN={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,s){if(!s.enabled)return;const{data:{datasets:a},options:l}=n.config,{elements:o}=l,c=fb(a)||bN(l)||o&&fb(o)||xN();if(!s.forceOverride&&c)return;const f=gN(n);a.forEach(f)}};function vN(n,e,s,a,l){const o=l.samples||a;if(o>=s)return n.slice(e,e+s);const c=[],f=(s-2)/(o-2);let h=0;const m=e+s-1;let b=e,x,y,v,j,_;for(c[h++]=n[b],x=0;x<o-2;x++){let S=0,C=0,T;const E=Math.floor((x+1)*f)+1+e,A=Math.min(Math.floor((x+2)*f)+1,s)+e,D=A-E;for(T=E;T<A;T++)S+=n[T].x,C+=n[T].y;S/=D,C/=D;const L=Math.floor(x*f)+1+e,R=Math.min(Math.floor((x+1)*f)+1,s)+e,{x:Y,y:Z}=n[b];for(v=j=-1,T=L;T<R;T++)j=.5*Math.abs((Y-S)*(n[T].y-Z)-(Y-n[T].x)*(C-Z)),j>v&&(v=j,y=n[T],_=T);c[h++]=y,b=_}return c[h++]=n[m],c}function wN(n,e,s,a){let l=0,o=0,c,f,h,m,b,x,y,v,j,_;const S=[],C=e+s-1,T=n[e].x,A=n[C].x-T;for(c=e;c<e+s;++c){f=n[c],h=(f.x-T)/A*a,m=f.y;const D=h|0;if(D===b)m<j?(j=m,x=c):m>_&&(_=m,y=c),l=(o*l+f.x)/++o;else{const L=c-1;if(!De(x)&&!De(y)){const R=Math.min(x,y),Y=Math.max(x,y);R!==v&&R!==L&&S.push({...n[R],x:l}),Y!==v&&Y!==L&&S.push({...n[Y],x:l})}c>0&&L!==v&&S.push(n[L]),S.push(f),b=D,o=0,j=_=m,x=y=v=c}}return S}function i0(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function hb(n){n.data.datasets.forEach(e=>{i0(e)})}function _N(n,e){const s=e.length;let a=0,l;const{iScale:o}=n,{min:c,max:f,minDefined:h,maxDefined:m}=o.getUserBounds();return h&&(a=Nt(Zn(e,o.axis,c).lo,0,s-1)),m?l=Nt(Zn(e,o.axis,f).hi+1,a,s)-a:l=s-a,{start:a,count:l}}var jN={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,s)=>{if(!s.enabled){hb(n);return}const a=n.width;n.data.datasets.forEach((l,o)=>{const{_data:c,indexAxis:f}=l,h=n.getDatasetMeta(o),m=c||l.data;if(dl([f,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const b=n.scales[h.xAxisID];if(b.type!=="linear"&&b.type!=="time"||n.options.parsing)return;let{start:x,count:y}=_N(h,m);const v=s.threshold||4*a;if(y<=v){i0(l);return}De(c)&&(l._data=m,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let j;switch(s.algorithm){case"lttb":j=vN(m,x,y,a,s);break;case"min-max":j=wN(m,x,y,a);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}l._decimated=j})},destroy(n){hb(n)}};function SN(n,e,s){const a=n.segments,l=n.points,o=e.points,c=[];for(const f of a){let{start:h,end:m}=f;m=Do(h,m,l);const b=Cd(s,l[h],l[m],f.loop);if(!e.segments){c.push({source:f,target:b,start:l[h],end:l[m]});continue}const x=Lx(e,b);for(const y of x){const v=Cd(s,o[y.start],o[y.end],y.loop),j=zx(f,l,v);for(const _ of j)c.push({source:_,target:y,start:{[s]:mb(b,v,"start",Math.max)},end:{[s]:mb(b,v,"end",Math.min)}})}}return c}function Cd(n,e,s,a){if(a)return;let l=e[n],o=s[n];return n==="angle"&&(l=Rt(l),o=Rt(o)),{property:n,start:l,end:o}}function NN(n,e){const{x:s=null,y:a=null}=n||{},l=e.points,o=[];return e.segments.forEach(({start:c,end:f})=>{f=Do(c,f,l);const h=l[c],m=l[f];a!==null?(o.push({x:h.x,y:a}),o.push({x:m.x,y:a})):s!==null&&(o.push({x:s,y:h.y}),o.push({x:s,y:m.y}))}),o}function Do(n,e,s){for(;e>n;e--){const a=s[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function mb(n,e,s,a){return n&&e?a(n[s],e[s]):n?n[s]:e?e[s]:0}function a0(n,e){let s=[],a=!1;return st(n)?(a=!0,s=n):s=NN(n,e),s.length?new El({points:s,options:{tension:0},_loop:a,_fullLoop:a}):null}function pb(n){return n&&n.fill!==!1}function MN(n,e,s){let l=n[e].fill;const o=[e];let c;if(!s)return l;for(;l!==!1&&o.indexOf(l)===-1;){if(!ct(l))return l;if(c=n[l],!c)return!1;if(c.visible)return l;o.push(l),l=c.fill}return!1}function CN(n,e,s){const a=AN(n);if(Ae(a))return isNaN(a.value)?!1:a;let l=parseFloat(a);return ct(l)&&Math.floor(l)===l?kN(a[0],e,l,s):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function kN(n,e,s,a){return(n==="-"||n==="+")&&(s=e+s),s===e||s<0||s>=a?!1:s}function TN(n,e){let s=null;return n==="start"?s=e.bottom:n==="end"?s=e.top:Ae(n)?s=e.getPixelForValue(n.value):e.getBasePixel&&(s=e.getBasePixel()),s}function DN(n,e,s){let a;return n==="start"?a=s:n==="end"?a=e.options.reverse?e.min:e.max:Ae(n)?a=n.value:a=e.getBaseValue(),a}function AN(n){const e=n.options,s=e.fill;let a=ve(s&&s.target,s);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function EN(n){const{scale:e,index:s,line:a}=n,l=[],o=a.segments,c=a.points,f=ON(e,s);f.push(a0({x:null,y:e.bottom},a));for(let h=0;h<o.length;h++){const m=o[h];for(let b=m.start;b<=m.end;b++)RN(l,c[b],f)}return new El({points:l,options:{}})}function ON(n,e){const s=[],a=n.getMatchingVisibleMetas("line");for(let l=0;l<a.length;l++){const o=a[l];if(o.index===e)break;o.hidden||s.unshift(o.dataset)}return s}function RN(n,e,s){const a=[];for(let l=0;l<s.length;l++){const o=s[l],{first:c,last:f,point:h}=zN(o,e,"x");if(!(!h||c&&f)){if(c)a.unshift(h);else if(n.push(h),!f)break}}n.push(...a)}function zN(n,e,s){const a=n.interpolate(e,s);if(!a)return{};const l=a[s],o=n.segments,c=n.points;let f=!1,h=!1;for(let m=0;m<o.length;m++){const b=o[m],x=c[b.start][s],y=c[b.end][s];if(Kn(l,x,y)){f=l===x,h=l===y;break}}return{first:f,last:h,point:a}}class l0{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,a){const{x:l,y:o,radius:c}=this;return s=s||{start:0,end:tt},e.arc(l,o,c,s.end,s.start,!0),!a.bounds}interpolate(e){const{x:s,y:a,radius:l}=this,o=e.angle;return{x:s+Math.cos(o)*l,y:a+Math.sin(o)*l,angle:o}}}function LN(n){const{chart:e,fill:s,line:a}=n;if(ct(s))return BN(e,s);if(s==="stack")return EN(n);if(s==="shape")return!0;const l=UN(n);return l instanceof l0?l:a0(l,a)}function BN(n,e){const s=n.getDatasetMeta(e);return s&&n.isDatasetVisible(e)?s.dataset:null}function UN(n){return(n.scale||{}).getPointPositionForValue?HN(n):PN(n)}function PN(n){const{scale:e={},fill:s}=n,a=TN(s,e);if(ct(a)){const l=e.isHorizontal();return{x:l?a:null,y:l?null:a}}return null}function HN(n){const{scale:e,fill:s}=n,a=e.options,l=e.getLabels().length,o=a.reverse?e.max:e.min,c=DN(s,e,o),f=[];if(a.grid.circular){const h=e.getPointPositionForValue(0,o);return new l0({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(c)})}for(let h=0;h<l;++h)f.push(e.getPointPositionForValue(h,c));return f}function od(n,e,s){const a=LN(e),{chart:l,index:o,line:c,scale:f,axis:h}=e,m=c.options,b=m.fill,x=m.backgroundColor,{above:y=x,below:v=x}=b||{},j=l.getDatasetMeta(o),_=Bx(l,j);a&&c.points.length&&(Mo(n,s),VN(n,{line:c,target:a,above:y,below:v,area:s,scale:f,axis:h,clip:_}),Co(n))}function VN(n,e){const{line:s,target:a,above:l,below:o,area:c,scale:f,clip:h}=e,m=s._loop?"angle":e.axis;n.save();let b=o;o!==l&&(m==="x"?(gb(n,a,c.top),cd(n,{line:s,target:a,color:l,scale:f,property:m,clip:h}),n.restore(),n.save(),gb(n,a,c.bottom)):m==="y"&&(bb(n,a,c.left),cd(n,{line:s,target:a,color:o,scale:f,property:m,clip:h}),n.restore(),n.save(),bb(n,a,c.right),b=l)),cd(n,{line:s,target:a,color:b,scale:f,property:m,clip:h}),n.restore()}function gb(n,e,s){const{segments:a,points:l}=e;let o=!0,c=!1;n.beginPath();for(const f of a){const{start:h,end:m}=f,b=l[h],x=l[Do(h,m,l)];o?(n.moveTo(b.x,b.y),o=!1):(n.lineTo(b.x,s),n.lineTo(b.x,b.y)),c=!!e.pathSegment(n,f,{move:c}),c?n.closePath():n.lineTo(x.x,s)}n.lineTo(e.first().x,s),n.closePath(),n.clip()}function bb(n,e,s){const{segments:a,points:l}=e;let o=!0,c=!1;n.beginPath();for(const f of a){const{start:h,end:m}=f,b=l[h],x=l[Do(h,m,l)];o?(n.moveTo(b.x,b.y),o=!1):(n.lineTo(s,b.y),n.lineTo(b.x,b.y)),c=!!e.pathSegment(n,f,{move:c}),c?n.closePath():n.lineTo(s,x.y)}n.lineTo(s,e.first().y),n.closePath(),n.clip()}function cd(n,e){const{line:s,target:a,property:l,color:o,scale:c,clip:f}=e,h=SN(s,a,l);for(const{source:m,target:b,start:x,end:y}of h){const{style:{backgroundColor:v=o}={}}=m,j=a!==!0;n.save(),n.fillStyle=v,qN(n,c,f,j&&Cd(l,x,y)),n.beginPath();const _=!!s.pathSegment(n,m);let S;if(j){_?n.closePath():xb(n,a,y,l);const C=!!a.pathSegment(n,b,{move:_,reverse:!0});S=_&&C,S||xb(n,a,x,l)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function qN(n,e,s,a){const l=e.chart.chartArea,{property:o,start:c,end:f}=a||{};if(o==="x"||o==="y"){let h,m,b,x;o==="x"?(h=c,m=l.top,b=f,x=l.bottom):(h=l.left,m=c,b=l.right,x=f),n.beginPath(),s&&(h=Math.max(h,s.left),b=Math.min(b,s.right),m=Math.max(m,s.top),x=Math.min(x,s.bottom)),n.rect(h,m,b-h,x-m),n.clip()}}function xb(n,e,s,a){const l=e.interpolate(s,a);l&&n.lineTo(l.x,l.y)}var YN={id:"filler",afterDatasetsUpdate(n,e,s){const a=(n.data.datasets||[]).length,l=[];let o,c,f,h;for(c=0;c<a;++c)o=n.getDatasetMeta(c),f=o.dataset,h=null,f&&f.options&&f instanceof El&&(h={visible:n.isDatasetVisible(c),index:c,fill:CN(f,c,a),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:f}),o.$filler=h,l.push(h);for(c=0;c<a;++c)h=l[c],!(!h||h.fill===!1)&&(h.fill=MN(l,c,s.propagate))},beforeDraw(n,e,s){const a=s.drawTime==="beforeDraw",l=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=l.length-1;c>=0;--c){const f=l[c].$filler;f&&(f.line.updateControlPoints(o,f.axis),a&&f.fill&&od(n.ctx,f,o))}},beforeDatasetsDraw(n,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const a=n.getSortedVisibleDatasetMetas();for(let l=a.length-1;l>=0;--l){const o=a[l].$filler;pb(o)&&od(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,s){const a=e.meta.$filler;!pb(a)||s.drawTime!=="beforeDatasetDraw"||od(n.ctx,a,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yb=(n,e)=>{let{boxHeight:s=e,boxWidth:a=e}=n;return n.usePointStyle&&(s=Math.min(s,e),a=n.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:s,itemHeight:Math.max(e,s)}},FN=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class vb extends es{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,a){this.maxWidth=e,this.maxHeight=s,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(a=>e.filter(a,this.chart.data))),e.sort&&(s=s.sort((a,l)=>e.sort(a,l,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,l=xt(a.font),o=l.size,c=this._computeTitleHeight(),{boxWidth:f,itemHeight:h}=yb(a,o);let m,b;s.font=l.string,this.isHorizontal()?(m=this.maxWidth,b=this._fitRows(c,o,f,h)+10):(b=this.maxHeight,m=this._fitCols(c,l,f,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(b,e.maxHeight||this.maxHeight)}_fitRows(e,s,a,l){const{ctx:o,maxWidth:c,options:{labels:{padding:f}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],b=l+f;let x=e;o.textAlign="left",o.textBaseline="middle";let y=-1,v=-b;return this.legendItems.forEach((j,_)=>{const S=a+s/2+o.measureText(j.text).width;(_===0||m[m.length-1]+S+2*f>c)&&(x+=b,m[m.length-(_>0?0:1)]=0,v+=b,y++),h[_]={left:0,top:v,row:y,width:S,height:l},m[m.length-1]+=S+f}),x}_fitCols(e,s,a,l){const{ctx:o,maxHeight:c,options:{labels:{padding:f}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],b=c-e;let x=f,y=0,v=0,j=0,_=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:T,itemHeight:E}=XN(a,s,o,S,l);C>0&&v+E+2*f>b&&(x+=y+f,m.push({width:y,height:v}),j+=y+f,_++,y=v=0),h[C]={left:j,top:v,col:_,width:T,height:E},y=Math.max(y,T),v+=E+f}),x+=y,m.push({width:y,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:a,labels:{padding:l},rtl:o}}=this,c=Ji(o,this.left,this.width);if(this.isHorizontal()){let f=0,h=Ot(a,this.left+l,this.right-this.lineWidths[f]);for(const m of s)f!==m.row&&(f=m.row,h=Ot(a,this.left+l,this.right-this.lineWidths[f])),m.top+=this.top+e+l,m.left=c.leftForLtr(c.x(h),m.width),h+=m.width+l}else{let f=0,h=Ot(a,this.top+e+l,this.bottom-this.columnSizes[f].height);for(const m of s)m.col!==f&&(f=m.col,h=Ot(a,this.top+e+l,this.bottom-this.columnSizes[f].height)),m.top=h,m.left+=this.left+l,m.left=c.leftForLtr(c.x(m.left),m.width),h+=m.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Mo(e,this),this._draw(),Co(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:a,ctx:l}=this,{align:o,labels:c}=e,f=it.color,h=Ji(e.rtl,this.left,this.width),m=xt(c.font),{padding:b}=c,x=m.size,y=x/2;let v;this.drawTitle(),l.textAlign=h.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=m.string;const{boxWidth:j,boxHeight:_,itemHeight:S}=yb(c,x),C=function(L,R,Y){if(isNaN(j)||j<=0||isNaN(_)||_<0)return;l.save();const Z=ve(Y.lineWidth,1);if(l.fillStyle=ve(Y.fillStyle,f),l.lineCap=ve(Y.lineCap,"butt"),l.lineDashOffset=ve(Y.lineDashOffset,0),l.lineJoin=ve(Y.lineJoin,"miter"),l.lineWidth=Z,l.strokeStyle=ve(Y.strokeStyle,f),l.setLineDash(ve(Y.lineDash,[])),c.usePointStyle){const ne={radius:_*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:Z},G=h.xPlus(L,j/2),se=R+y;Sx(l,ne,G,se,c.pointStyleWidth&&j)}else{const ne=R+Math.max((x-_)/2,0),G=h.leftForLtr(L,j),se=ai(Y.borderRadius);l.beginPath(),Object.values(se).some(me=>me!==0)?Ml(l,{x:G,y:ne,w:j,h:_,radius:se}):l.rect(G,ne,j,_),l.fill(),Z!==0&&l.stroke()}l.restore()},T=function(L,R,Y){oi(l,Y.text,L,R+S/2,m,{strikethrough:Y.hidden,textAlign:h.textAlign(Y.textAlign)})},E=this.isHorizontal(),A=this._computeTitleHeight();E?v={x:Ot(o,this.left+b,this.right-a[0]),y:this.top+b+A,line:0}:v={x:this.left+b,y:Ot(o,this.top+A+b,this.bottom-s[0].height),line:0},Ex(this.ctx,e.textDirection);const D=S+b;this.legendItems.forEach((L,R)=>{l.strokeStyle=L.fontColor,l.fillStyle=L.fontColor;const Y=l.measureText(L.text).width,Z=h.textAlign(L.textAlign||(L.textAlign=c.textAlign)),ne=j+y+Y;let G=v.x,se=v.y;h.setWidth(this.width),E?R>0&&G+ne+b>this.right&&(se=v.y+=D,v.line++,G=v.x=Ot(o,this.left+b,this.right-a[v.line])):R>0&&se+D>this.bottom&&(G=v.x=G+s[v.line].width+b,v.line++,se=v.y=Ot(o,this.top+A+b,this.bottom-s[v.line].height));const me=h.x(G);if(C(me,se,L),G=s_(Z,G+j+y,E?G+ne:this.right,e.rtl),T(h.x(G),se,L),E)v.x+=ne+b;else if(typeof L.text!="string"){const pe=m.lineHeight;v.y+=r0(L,pe)+b}else v.y+=D}),Ox(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,a=xt(s.font),l=Lt(s.padding);if(!s.display)return;const o=Ji(e.rtl,this.left,this.width),c=this.ctx,f=s.position,h=a.size/2,m=l.top+h;let b,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),b=this.top+m,x=Ot(e.align,x,this.right-y);else{const j=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);b=m+Ot(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const v=Ot(f,x,x+y);c.textAlign=o.textAlign(Hd(f)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=a.string,oi(c,s.text,v,b,a)}_computeTitleHeight(){const e=this.options.title,s=xt(e.font),a=Lt(e.padding);return e.display?s.lineHeight+a.height:0}_getLegendItemAt(e,s){let a,l,o;if(Kn(e,this.left,this.right)&&Kn(s,this.top,this.bottom)){for(o=this.legendHitBoxes,a=0;a<o.length;++a)if(l=o[a],Kn(e,l.left,l.left+l.width)&&Kn(s,l.top,l.top+l.height))return this.legendItems[a]}return null}handleEvent(e){const s=this.options;if(!QN(e.type,s))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,o=FN(l,a);l&&!o&&Je(s.onLeave,[e,l,this],this),this._hoveredItem=a,a&&!o&&Je(s.onHover,[e,a,this],this)}else a&&Je(s.onClick,[e,a,this],this)}}function XN(n,e,s,a,l){const o=GN(a,n,e,s),c=$N(l,a,e.lineHeight);return{itemWidth:o,itemHeight:c}}function GN(n,e,s,a){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((o,c)=>o.length>c.length?o:c)),e+s.size/2+a.measureText(l).width}function $N(n,e,s){let a=n;return typeof e.text!="string"&&(a=r0(e,s)),a}function r0(n,e){const s=n.text?n.text.length:0;return e*s}function QN(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var o0={id:"legend",_element:vb,start(n,e,s){const a=n.legend=new vb({ctx:n.ctx,options:s,chart:n});zt.configure(n,a,s),zt.addBox(n,a)},stop(n){zt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,s){const a=n.legend;zt.configure(n,a,s),a.options=s},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,s){const a=e.datasetIndex,l=s.chart;l.isDatasetVisible(a)?(l.hide(a),e.hidden=!0):(l.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:s,pointStyle:a,textAlign:l,color:o,useBorderRadius:c,borderRadius:f}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(s?0:void 0),b=Lt(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:m.borderColor,pointStyle:a||m.pointStyle,rotation:m.rotation,textAlign:l||m.textAlign,borderRadius:c&&(f||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Kd extends es{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const l=st(a.text)?a.text.length:1;this._padding=Lt(a.padding);const o=l*xt(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:a,bottom:l,right:o,options:c}=this,f=c.align;let h=0,m,b,x;return this.isHorizontal()?(b=Ot(f,a,o),x=s+e,m=o-a):(c.position==="left"?(b=a+e,x=Ot(f,l,s),h=Le*-.5):(b=o-e,x=Ot(f,s,l),h=Le*.5),m=l-s),{titleX:b,titleY:x,maxWidth:m,rotation:h}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const a=xt(s.font),o=a.lineHeight/2+this._padding.top,{titleX:c,titleY:f,maxWidth:h,rotation:m}=this._drawArgs(o);oi(e,s.text,0,0,a,{color:s.color,maxWidth:h,rotation:m,textAlign:Hd(s.align),textBaseline:"middle",translation:[c,f]})}}function WN(n,e){const s=new Kd({ctx:n.ctx,options:e,chart:n});zt.configure(n,s,e),zt.addBox(n,s),n.titleBlock=s}var KN={id:"title",_element:Kd,start(n,e,s){WN(n,s)},stop(n){const e=n.titleBlock;zt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,s){const a=n.titleBlock;zt.configure(n,a,s),a.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const so=new WeakMap;var ZN={id:"subtitle",start(n,e,s){const a=new Kd({ctx:n.ctx,options:s,chart:n});zt.configure(n,a,s),zt.addBox(n,a),so.set(n,a)},stop(n){zt.removeBox(n,so.get(n)),so.delete(n)},beforeUpdate(n,e,s){const a=so.get(n);zt.configure(n,a,s),a.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hl={average(n){if(!n.length)return!1;let e,s,a=new Set,l=0,o=0;for(e=0,s=n.length;e<s;++e){const f=n[e].element;if(f&&f.hasValue()){const h=f.tooltipPosition();a.add(h.x),l+=h.y,++o}}return o===0||a.size===0?!1:{x:[...a].reduce((f,h)=>f+h)/a.size,y:l/o}},nearest(n,e){if(!n.length)return!1;let s=e.x,a=e.y,l=Number.POSITIVE_INFINITY,o,c,f;for(o=0,c=n.length;o<c;++o){const h=n[o].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),b=vd(e,m);b<l&&(l=b,f=h)}}if(f){const h=f.tooltipPosition();s=h.x,a=h.y}return{x:s,y:a}}};function kn(n,e){return e&&(st(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Qn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function IN(n,e){const{element:s,datasetIndex:a,index:l}=e,o=n.getDatasetMeta(a).controller,{label:c,value:f}=o.getLabelAndValue(l);return{chart:n,label:c,parsed:o.getParsed(l),raw:n.data.datasets[a].data[l],formattedValue:f,dataset:o.getDataset(),dataIndex:l,datasetIndex:a,element:s}}function wb(n,e){const s=n.chart.ctx,{body:a,footer:l,title:o}=n,{boxWidth:c,boxHeight:f}=e,h=xt(e.bodyFont),m=xt(e.titleFont),b=xt(e.footerFont),x=o.length,y=l.length,v=a.length,j=Lt(e.padding);let _=j.height,S=0,C=a.reduce((A,D)=>A+D.before.length+D.lines.length+D.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,x&&(_+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),C){const A=e.displayColors?Math.max(f,h.lineHeight):h.lineHeight;_+=v*A+(C-v)*h.lineHeight+(C-1)*e.bodySpacing}y&&(_+=e.footerMarginTop+y*b.lineHeight+(y-1)*e.footerSpacing);let T=0;const E=function(A){S=Math.max(S,s.measureText(A).width+T)};return s.save(),s.font=m.string,qe(n.title,E),s.font=h.string,qe(n.beforeBody.concat(n.afterBody),E),T=e.displayColors?c+2+e.boxPadding:0,qe(a,A=>{qe(A.before,E),qe(A.lines,E),qe(A.after,E)}),T=0,s.font=b.string,qe(n.footer,E),s.restore(),S+=j.width,{width:S,height:_}}function JN(n,e){const{y:s,height:a}=e;return s<a/2?"top":s>n.height-a/2?"bottom":"center"}function e2(n,e,s,a){const{x:l,width:o}=a,c=s.caretSize+s.caretPadding;if(n==="left"&&l+o+c>e.width||n==="right"&&l-o-c<0)return!0}function t2(n,e,s,a){const{x:l,width:o}=s,{width:c,chartArea:{left:f,right:h}}=n;let m="center";return a==="center"?m=l<=(f+h)/2?"left":"right":l<=o/2?m="left":l>=c-o/2&&(m="right"),e2(m,n,e,s)&&(m="center"),m}function _b(n,e,s){const a=s.yAlign||e.yAlign||JN(n,s);return{xAlign:s.xAlign||e.xAlign||t2(n,e,s,a),yAlign:a}}function n2(n,e){let{x:s,width:a}=n;return e==="right"?s-=a:e==="center"&&(s-=a/2),s}function s2(n,e,s){let{y:a,height:l}=n;return e==="top"?a+=s:e==="bottom"?a-=l+s:a-=l/2,a}function jb(n,e,s,a){const{caretSize:l,caretPadding:o,cornerRadius:c}=n,{xAlign:f,yAlign:h}=s,m=l+o,{topLeft:b,topRight:x,bottomLeft:y,bottomRight:v}=ai(c);let j=n2(e,f);const _=s2(e,h,m);return h==="center"?f==="left"?j+=m:f==="right"&&(j-=m):f==="left"?j-=Math.max(b,y)+l:f==="right"&&(j+=Math.max(x,v)+l),{x:Nt(j,0,a.width-e.width),y:Nt(_,0,a.height-e.height)}}function io(n,e,s){const a=Lt(s.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-a.right:n.x+a.left}function Sb(n){return kn([],Qn(n))}function i2(n,e,s){return Os(n,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Nb(n,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?n.override(s):n}const c0={beforeTitle:Gn,title(n){if(n.length>0){const e=n[0],s=e.chart.data.labels,a=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return s[e.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const s=n.formattedValue;return De(s)||(e+=s),e},labelColor(n){const s=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const s=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function Gt(n,e,s,a){const l=n[e].call(s,a);return typeof l>"u"?c0[e].call(s,a):l}class Mb extends es{static positioners=hl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,a=this.options.setContext(this.getContext()),l=a.enabled&&s.options.animation&&a.animations,o=new Ux(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=i2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:a}=s,l=Gt(a,"beforeTitle",this,e),o=Gt(a,"title",this,e),c=Gt(a,"afterTitle",this,e);let f=[];return f=kn(f,Qn(l)),f=kn(f,Qn(o)),f=kn(f,Qn(c)),f}getBeforeBody(e,s){return Sb(Gt(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:a}=s,l=[];return qe(e,o=>{const c={before:[],lines:[],after:[]},f=Nb(a,o);kn(c.before,Qn(Gt(f,"beforeLabel",this,o))),kn(c.lines,Gt(f,"label",this,o)),kn(c.after,Qn(Gt(f,"afterLabel",this,o))),l.push(c)}),l}getAfterBody(e,s){return Sb(Gt(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:a}=s,l=Gt(a,"beforeFooter",this,e),o=Gt(a,"footer",this,e),c=Gt(a,"afterFooter",this,e);let f=[];return f=kn(f,Qn(l)),f=kn(f,Qn(o)),f=kn(f,Qn(c)),f}_createItems(e){const s=this._active,a=this.chart.data,l=[],o=[],c=[];let f=[],h,m;for(h=0,m=s.length;h<m;++h)f.push(IN(this.chart,s[h]));return e.filter&&(f=f.filter((b,x,y)=>e.filter(b,x,y,a))),e.itemSort&&(f=f.sort((b,x)=>e.itemSort(b,x,a))),qe(f,b=>{const x=Nb(e.callbacks,b);l.push(Gt(x,"labelColor",this,b)),o.push(Gt(x,"labelPointStyle",this,b)),c.push(Gt(x,"labelTextColor",this,b))}),this.labelColors=l,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=f,f}update(e,s){const a=this.options.setContext(this.getContext()),l=this._active;let o,c=[];if(!l.length)this.opacity!==0&&(o={opacity:0});else{const f=hl[a.position].call(this,l,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const h=this._size=wb(this,a),m=Object.assign({},f,h),b=_b(this.chart,a,m),x=jb(a,m,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:f.x,caretY:f.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,a,l){const o=this.getCaretPosition(e,a,l);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(e,s,a){const{xAlign:l,yAlign:o}=this,{caretSize:c,cornerRadius:f}=a,{topLeft:h,topRight:m,bottomLeft:b,bottomRight:x}=ai(f),{x:y,y:v}=e,{width:j,height:_}=s;let S,C,T,E,A,D;return o==="center"?(A=v+_/2,l==="left"?(S=y,C=S-c,E=A+c,D=A-c):(S=y+j,C=S+c,E=A-c,D=A+c),T=S):(l==="left"?C=y+Math.max(h,b)+c:l==="right"?C=y+j-Math.max(m,x)-c:C=this.caretX,o==="top"?(E=v,A=E-c,S=C-c,T=C+c):(E=v+_,A=E+c,S=C+c,T=C-c),D=E),{x1:S,x2:C,x3:T,y1:E,y2:A,y3:D}}drawTitle(e,s,a){const l=this.title,o=l.length;let c,f,h;if(o){const m=Ji(a.rtl,this.x,this.width);for(e.x=io(this,a.titleAlign,a),s.textAlign=m.textAlign(a.titleAlign),s.textBaseline="middle",c=xt(a.titleFont),f=a.titleSpacing,s.fillStyle=a.titleColor,s.font=c.string,h=0;h<o;++h)s.fillText(l[h],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+f,h+1===o&&(e.y+=a.titleMarginBottom-f)}}_drawColorBox(e,s,a,l,o){const c=this.labelColors[a],f=this.labelPointStyles[a],{boxHeight:h,boxWidth:m}=o,b=xt(o.bodyFont),x=io(this,"left",o),y=l.x(x),v=h<b.lineHeight?(b.lineHeight-h)/2:0,j=s.y+v;if(o.usePointStyle){const _={radius:Math.min(m,h)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},S=l.leftForLtr(y,m)+m/2,C=j+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,_d(e,_,S,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,_d(e,_,S,C)}else{e.lineWidth=Ae(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const _=l.leftForLtr(y,m),S=l.leftForLtr(l.xPlus(y,1),m-2),C=ai(c.borderRadius);Object.values(C).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ml(e,{x:_,y:j,w:m,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Ml(e,{x:S,y:j+1,w:m-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(_,j,m,h),e.strokeRect(_,j,m,h),e.fillStyle=c.backgroundColor,e.fillRect(S,j+1,m-2,h-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,s,a){const{body:l}=this,{bodySpacing:o,bodyAlign:c,displayColors:f,boxHeight:h,boxWidth:m,boxPadding:b}=a,x=xt(a.bodyFont);let y=x.lineHeight,v=0;const j=Ji(a.rtl,this.x,this.width),_=function(Y){s.fillText(Y,j.x(e.x+v),e.y+y/2),e.y+=y+o},S=j.textAlign(c);let C,T,E,A,D,L,R;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=io(this,S,a),s.fillStyle=a.bodyColor,qe(this.beforeBody,_),v=f&&S!=="right"?c==="center"?m/2+b:m+2+b:0,A=0,L=l.length;A<L;++A){for(C=l[A],T=this.labelTextColors[A],s.fillStyle=T,qe(C.before,_),E=C.lines,f&&E.length&&(this._drawColorBox(s,e,A,j,a),y=Math.max(x.lineHeight,h)),D=0,R=E.length;D<R;++D)_(E[D]),y=x.lineHeight;qe(C.after,_)}v=0,y=x.lineHeight,qe(this.afterBody,_),e.y-=o}drawFooter(e,s,a){const l=this.footer,o=l.length;let c,f;if(o){const h=Ji(a.rtl,this.x,this.width);for(e.x=io(this,a.footerAlign,a),e.y+=a.footerMarginTop,s.textAlign=h.textAlign(a.footerAlign),s.textBaseline="middle",c=xt(a.footerFont),s.fillStyle=a.footerColor,s.font=c.string,f=0;f<o;++f)s.fillText(l[f],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+a.footerSpacing}}drawBackground(e,s,a,l){const{xAlign:o,yAlign:c}=this,{x:f,y:h}=e,{width:m,height:b}=a,{topLeft:x,topRight:y,bottomLeft:v,bottomRight:j}=ai(l.cornerRadius);s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=l.borderWidth,s.beginPath(),s.moveTo(f+x,h),c==="top"&&this.drawCaret(e,s,a,l),s.lineTo(f+m-y,h),s.quadraticCurveTo(f+m,h,f+m,h+y),c==="center"&&o==="right"&&this.drawCaret(e,s,a,l),s.lineTo(f+m,h+b-j),s.quadraticCurveTo(f+m,h+b,f+m-j,h+b),c==="bottom"&&this.drawCaret(e,s,a,l),s.lineTo(f+v,h+b),s.quadraticCurveTo(f,h+b,f,h+b-v),c==="center"&&o==="left"&&this.drawCaret(e,s,a,l),s.lineTo(f,h+x),s.quadraticCurveTo(f,h,f+x,h),s.closePath(),s.fill(),l.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,a=this.$animations,l=a&&a.x,o=a&&a.y;if(l||o){const c=hl[e.position].call(this,this._active,this._eventPosition);if(!c)return;const f=this._size=wb(this,e),h=Object.assign({},c,this._size),m=_b(s,e,h),b=jb(e,h,m,s);(l._to!==b.x||o._to!==b.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=f.width,this.height=f.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(s);const l={width:this.width,height:this.height},o={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=Lt(s.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&f&&(e.save(),e.globalAlpha=a,this.drawBackground(o,e,l,s),Ex(e,s.textDirection),o.y+=c.top,this.drawTitle(o,e,s),this.drawBody(o,e,s),this.drawFooter(o,e,s),Ox(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const a=this._active,l=e.map(({datasetIndex:f,index:h})=>{const m=this.chart.getDatasetMeta(f);if(!m)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:m.data[h],index:h}}),o=!co(a,l),c=this._positionChanged(l,s);(o||c)&&(this._active=l,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,a=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,o=this._active||[],c=this._getActiveElements(e,o,s,a),f=this._positionChanged(c,e),h=s||!co(c,o)||f;return h&&(this._active=c,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),h}_getActiveElements(e,s,a,l){const o=this.options;if(e.type==="mouseout")return[];if(!l)return s.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,a);return o.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:a,caretY:l,options:o}=this,c=hl[o.position].call(this,e,s);return c!==!1&&(a!==c.x||l!==c.y)}}var u0={id:"tooltip",_element:Mb,positioners:hl,afterInit(n,e,s){s&&(n.tooltip=new Mb({chart:n,options:s}))},beforeUpdate(n,e,s){n.tooltip&&n.tooltip.initialize(s)},reset(n,e,s){n.tooltip&&n.tooltip.initialize(s)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",s)}},afterEvent(n,e){if(n.tooltip){const s=e.replay;n.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:c0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},a2=Object.freeze({__proto__:null,Colors:yN,Decimation:jN,Filler:YN,Legend:o0,SubTitle:ZN,Title:KN,Tooltip:u0});const l2=(n,e,s,a)=>(typeof e=="string"?(s=n.push(e)-1,a.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function r2(n,e,s,a){const l=n.indexOf(e);if(l===-1)return l2(n,e,s,a);const o=n.lastIndexOf(e);return l!==o?s:l}const o2=(n,e)=>n===null?null:Nt(Math.round(n),0,e);function Cb(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class d0 extends ui{static id="category";static defaults={ticks:{callback:Cb}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const a=this.getLabels();for(const{index:l,label:o}of s)a[l]===o&&a.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(De(e))return null;const a=this.getLabels();return s=isFinite(s)&&a[s]===e?s:r2(a,e,ve(s,e),this._addedLabels),o2(s,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),s||(l=this.getLabels().length-1)),this.min=a,this.max=l}buildTicks(){const e=this.min,s=this.max,a=this.options.offset,l=[];let o=this.getLabels();o=e===0&&s===o.length-1?o:o.slice(e,s+1),this._valueRange=Math.max(o.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=e;c<=s;c++)l.push({value:c});return l}getLabelForValue(e){return Cb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function c2(n,e){const s=[],{bounds:l,step:o,min:c,max:f,precision:h,count:m,maxTicks:b,maxDigits:x,includeBounds:y}=n,v=o||1,j=b-1,{min:_,max:S}=e,C=!De(c),T=!De(f),E=!De(m),A=(S-_)/(x+1);let D=wg((S-_)/j/v)*v,L,R,Y,Z;if(D<1e-14&&!C&&!T)return[{value:_},{value:S}];Z=Math.ceil(S/D)-Math.floor(_/D),Z>j&&(D=wg(Z*D/j/v)*v),De(h)||(L=Math.pow(10,h),D=Math.ceil(D*L)/L),l==="ticks"?(R=Math.floor(_/D)*D,Y=Math.ceil(S/D)*D):(R=_,Y=S),C&&T&&o&&Kw((f-c)/o,D/1e3)?(Z=Math.round(Math.min((f-c)/D,b)),D=(f-c)/Z,R=c,Y=f):E?(R=C?c:R,Y=T?f:Y,Z=m-1,D=(Y-R)/Z):(Z=(Y-R)/D,pl(Z,Math.round(Z),D/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const ne=Math.max(_g(D),_g(R));L=Math.pow(10,De(h)?ne:h),R=Math.round(R*L)/L,Y=Math.round(Y*L)/L;let G=0;for(C&&(y&&R!==c?(s.push({value:c}),R<c&&G++,pl(Math.round((R+G*D)*L)/L,c,kb(c,A,n))&&G++):R<c&&G++);G<Z;++G){const se=Math.round((R+G*D)*L)/L;if(T&&se>f)break;s.push({value:se})}return T&&y&&Y!==f?s.length&&pl(s[s.length-1].value,f,kb(f,A,n))?s[s.length-1].value=f:s.push({value:f}):(!T||Y===f)&&s.push({value:Y}),s}function kb(n,e,{horizontal:s,minRotation:a}){const l=yn(a),o=(s?Math.sin(l):Math.cos(l))||.001,c=.75*e*(""+n).length;return Math.min(e/o,c)}class bo extends ui{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:l,max:o}=this;const c=h=>l=s?l:h,f=h=>o=a?o:h;if(e){const h=Dn(l),m=Dn(o);h<0&&m<0?f(0):h>0&&m>0&&c(0)}if(l===o){let h=o===0?1:Math.abs(o*.05);f(o+h),e||c(l-h)}this.min=l,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:a}=e,l;return a?(l=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),s=s||11),s&&(l=Math.min(s,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const l={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=c2(l,o);return e.bounds==="ticks"&&px(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const l=(a-s)/Math.max(e.length-1,1)/2;s-=l,a+=l}this._startValue=s,this._endValue=a,this._valueRange=a-s}getLabelForValue(e){return Al(e,this.chart.options.locale,this.options.ticks.format)}}class f0 extends bo{static id="linear";static defaults={ticks:{callback:No.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ct(e)?e:0,this.max=ct(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,a=yn(this.options.ticks.minRotation),l=(e?Math.sin(a):Math.cos(a))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const kl=n=>Math.floor(ks(n)),ti=(n,e)=>Math.pow(10,kl(n)+e);function Tb(n){return n/Math.pow(10,kl(n))===1}function Db(n,e,s){const a=Math.pow(10,s),l=Math.floor(n/a);return Math.ceil(e/a)-l}function u2(n,e){const s=e-n;let a=kl(s);for(;Db(n,e,a)>10;)a++;for(;Db(n,e,a)<10;)a--;return Math.min(a,kl(n))}function d2(n,{min:e,max:s}){e=tn(n.min,e);const a=[],l=kl(e);let o=u2(e,s),c=o<0?Math.pow(10,Math.abs(o)):1;const f=Math.pow(10,o),h=l>o?Math.pow(10,l):0,m=Math.round((e-h)*c)/c,b=Math.floor((e-h)/f/10)*f*10;let x=Math.floor((m-b)/Math.pow(10,o)),y=tn(n.min,Math.round((h+b+x*Math.pow(10,o))*c)/c);for(;y<s;)a.push({value:y,major:Tb(y),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(o++,x=2,c=o>=0?1:c),y=Math.round((h+b+x*Math.pow(10,o))*c)/c;const v=tn(n.max,y);return a.push({value:v,major:Tb(v),significand:x}),a}class f2 extends ui{static id="logarithmic";static defaults={ticks:{callback:No.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const a=bo.prototype.parse.apply(this,[e,s]);if(a===0){this._zero=!0;return}return ct(a)&&a>0?a:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ct(e)?Math.max(0,e):null,this.max=ct(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ct(this._userMin)&&(this.min=e===ti(this.min,0)?ti(this.min,-1):ti(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let a=this.min,l=this.max;const o=f=>a=e?a:f,c=f=>l=s?l:f;a===l&&(a<=0?(o(1),c(10)):(o(ti(a,-1)),c(ti(l,1)))),a<=0&&o(ti(l,-1)),l<=0&&c(ti(a,1)),this.min=a,this.max=l}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},a=d2(s,this);return e.bounds==="ticks"&&px(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(e){return e===void 0?"0":Al(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ks(e),this._valueRange=ks(this.max)-ks(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ks(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}function kd(n){const e=n.ticks;if(e.display&&n.display){const s=Lt(e.backdropPadding);return ve(e.font&&e.font.size,it.font.size)+s.height}return 0}function h2(n,e,s){return s=st(s)?s:[s],{w:h_(n,e.string,s),h:s.length*e.lineHeight}}function Ab(n,e,s,a,l){return n===a||n===l?{start:e-s/2,end:e+s/2}:n<a||n>l?{start:e-s,end:e}:{start:e,end:e+s}}function m2(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},s=Object.assign({},e),a=[],l=[],o=n._pointLabels.length,c=n.options.pointLabels,f=c.centerPointLabels?Le/o:0;for(let h=0;h<o;h++){const m=c.setContext(n.getPointLabelContext(h));l[h]=m.padding;const b=n.getPointPosition(h,n.drawingArea+l[h],f),x=xt(m.font),y=h2(n.ctx,x,n._pointLabels[h]);a[h]=y;const v=Rt(n.getIndexAngle(h)+f),j=Math.round(Ud(v)),_=Ab(j,b.x,y.w,0,180),S=Ab(j,b.y,y.h,90,270);p2(s,e,v,_,S)}n.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),n._pointLabelItems=x2(n,a,l)}function p2(n,e,s,a,l){const o=Math.abs(Math.sin(s)),c=Math.abs(Math.cos(s));let f=0,h=0;a.start<e.l?(f=(e.l-a.start)/o,n.l=Math.min(n.l,e.l-f)):a.end>e.r&&(f=(a.end-e.r)/o,n.r=Math.max(n.r,e.r+f)),l.start<e.t?(h=(e.t-l.start)/c,n.t=Math.min(n.t,e.t-h)):l.end>e.b&&(h=(l.end-e.b)/c,n.b=Math.max(n.b,e.b+h))}function g2(n,e,s){const a=n.drawingArea,{extra:l,additionalAngle:o,padding:c,size:f}=s,h=n.getPointPosition(e,a+l+c,o),m=Math.round(Ud(Rt(h.angle+ht))),b=w2(h.y,f.h,m),x=y2(m),y=v2(h.x,f.w,x);return{visible:!0,x:h.x,y:b,textAlign:x,left:y,top:b,right:y+f.w,bottom:b+f.h}}function b2(n,e){if(!e)return!0;const{left:s,top:a,right:l,bottom:o}=n;return!(In({x:s,y:a},e)||In({x:s,y:o},e)||In({x:l,y:a},e)||In({x:l,y:o},e))}function x2(n,e,s){const a=[],l=n._pointLabels.length,o=n.options,{centerPointLabels:c,display:f}=o.pointLabels,h={extra:kd(o)/2,additionalAngle:c?Le/l:0};let m;for(let b=0;b<l;b++){h.padding=s[b],h.size=e[b];const x=g2(n,b,h);a.push(x),f==="auto"&&(x.visible=b2(x,m),x.visible&&(m=x))}return a}function y2(n){return n===0||n===180?"center":n<180?"left":"right"}function v2(n,e,s){return s==="right"?n-=e:s==="center"&&(n-=e/2),n}function w2(n,e,s){return s===90||s===270?n-=e/2:(s>270||s<90)&&(n-=e),n}function _2(n,e,s){const{left:a,top:l,right:o,bottom:c}=s,{backdropColor:f}=e;if(!De(f)){const h=ai(e.borderRadius),m=Lt(e.backdropPadding);n.fillStyle=f;const b=a-m.left,x=l-m.top,y=o-a+m.width,v=c-l+m.height;Object.values(h).some(j=>j!==0)?(n.beginPath(),Ml(n,{x:b,y:x,w:y,h:v,radius:h}),n.fill()):n.fillRect(b,x,y,v)}}function j2(n,e){const{ctx:s,options:{pointLabels:a}}=n;for(let l=e-1;l>=0;l--){const o=n._pointLabelItems[l];if(!o.visible)continue;const c=a.setContext(n.getPointLabelContext(l));_2(s,c,o);const f=xt(c.font),{x:h,y:m,textAlign:b}=o;oi(s,n._pointLabels[l],h,m+f.lineHeight/2,f,{color:c.color,textAlign:b,textBaseline:"middle"})}}function h0(n,e,s,a){const{ctx:l}=n;if(s)l.arc(n.xCenter,n.yCenter,e,0,tt);else{let o=n.getPointPosition(0,e);l.moveTo(o.x,o.y);for(let c=1;c<a;c++)o=n.getPointPosition(c,e),l.lineTo(o.x,o.y)}}function S2(n,e,s,a,l){const o=n.ctx,c=e.circular,{color:f,lineWidth:h}=e;!c&&!a||!f||!h||s<0||(o.save(),o.strokeStyle=f,o.lineWidth=h,o.setLineDash(l.dash||[]),o.lineDashOffset=l.dashOffset,o.beginPath(),h0(n,s,c,a),o.closePath(),o.stroke(),o.restore())}function N2(n,e,s){return Os(n,{label:s,index:e,type:"pointLabel"})}class M2 extends bo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:No.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Lt(kd(this.options)/2),s=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(s,a)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=ct(e)&&!isNaN(e)?e:0,this.max=ct(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/kd(this.options))}generateTickLabels(e){bo.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,a)=>{const l=Je(this.options.pointLabels.callback,[s,a],this);return l||l===0?l:""}).filter((s,a)=>this.chart.getDataVisibility(a))}fit(){const e=this.options;e.display&&e.pointLabels.display?m2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,a,l){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((a-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,a,l))}getIndexAngle(e){const s=tt/(this._pointLabels.length||1),a=this.options.startAngle||0;return Rt(e*s+yn(a))}getDistanceFromCenterForValue(e){if(De(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(De(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const a=s[e];return N2(this.getContext(),e,a)}}getPointPosition(e,s,a=0){const l=this.getIndexAngle(e)-ht+a;return{x:Math.cos(l)*s+this.xCenter,y:Math.sin(l)*s+this.yCenter,angle:l}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:a,right:l,bottom:o}=this._pointLabelItems[e];return{left:s,top:a,right:l,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const a=this.ctx;a.save(),a.beginPath(),h0(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:a,grid:l,border:o}=s,c=this._pointLabels.length;let f,h,m;if(s.pointLabels.display&&j2(this,c),l.display&&this.ticks.forEach((b,x)=>{if(x!==0||x===0&&this.min<0){h=this.getDistanceFromCenterForValue(b.value);const y=this.getContext(x),v=l.setContext(y),j=o.setContext(y);S2(this,v,h,c,j)}}),a.display){for(e.save(),f=c-1;f>=0;f--){const b=a.setContext(this.getPointLabelContext(f)),{color:x,lineWidth:y}=b;!y||!x||(e.lineWidth=y,e.strokeStyle=x,e.setLineDash(b.borderDash),e.lineDashOffset=b.borderDashOffset,h=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),m=this.getPointPosition(f,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,a=s.ticks;if(!a.display)return;const l=this.getIndexAngle(0);let o,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(l),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((f,h)=>{if(h===0&&this.min>=0&&!s.reverse)return;const m=a.setContext(this.getContext(h)),b=xt(m.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),m.showLabelBackdrop){e.font=b.string,c=e.measureText(f.label).width,e.fillStyle=m.backdropColor;const x=Lt(m.backdropPadding);e.fillRect(-c/2-x.left,-o-b.size/2-x.top,c+x.width,b.size+x.height)}oi(e,f.label,0,-o,b,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const Ao={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(Ao);function Eb(n,e){return n-e}function Ob(n,e){if(De(e))return null;const s=n._adapter,{parser:a,round:l,isoWeekday:o}=n._parseOpts;let c=e;return typeof a=="function"&&(c=a(c)),ct(c)||(c=typeof a=="string"?s.parse(c,a):s.parse(c)),c===null?null:(l&&(c=l==="week"&&(ta(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,l)),+c)}function Rb(n,e,s,a){const l=$t.length;for(let o=$t.indexOf(n);o<l-1;++o){const c=Ao[$t[o]],f=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(f*c.size))<=a)return $t[o]}return $t[l-1]}function C2(n,e,s,a,l){for(let o=$t.length-1;o>=$t.indexOf(s);o--){const c=$t[o];if(Ao[c].common&&n._adapter.diff(l,a,c)>=e-1)return c}return $t[s?$t.indexOf(s):0]}function k2(n){for(let e=$t.indexOf(n)+1,s=$t.length;e<s;++e)if(Ao[$t[e]].common)return $t[e]}function zb(n,e,s){if(!s)n[e]=!0;else if(s.length){const{lo:a,hi:l}=Pd(s,e),o=s[a]>=e?s[a]:s[l];n[o]=!0}}function T2(n,e,s,a){const l=n._adapter,o=+l.startOf(e[0].value,a),c=e[e.length-1].value;let f,h;for(f=o;f<=c;f=+l.add(f,1,a))h=s[f],h>=0&&(e[h].major=!0);return e}function Lb(n,e,s){const a=[],l={},o=e.length;let c,f;for(c=0;c<o;++c)f=e[c],l[f]=c,a.push({value:f,major:!1});return o===0||!s?a:T2(n,a,l,s)}class Td extends ui{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const a=e.time||(e.time={}),l=this._adapter=new zj._date(e.adapters.date);l.init(s),ml(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Ob(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,a=e.time.unit||"day";let{min:l,max:o,minDefined:c,maxDefined:f}=this.getUserBounds();function h(m){!c&&!isNaN(m.min)&&(l=Math.min(l,m.min)),!f&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!f)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),l=ct(l)&&!isNaN(l)?l:+s.startOf(Date.now(),a),o=ct(o)&&!isNaN(o)?o:+s.endOf(Date.now(),a)+1,this.min=Math.min(l,o-1),this.max=Math.max(l+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],a=e[e.length-1]),{min:s,max:a}}buildTicks(){const e=this.options,s=e.time,a=e.ticks,l=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const o=this.min,c=this.max,f=e_(l,o,c);return this._unit=s.unit||(a.autoSkip?Rb(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):C2(this,f.length,s.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:k2(this._unit),this.initOffsets(l),e.reverse&&f.reverse(),Lb(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,a=0,l,o;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?s=1-l:s=(this.getDecimalForValue(e[1])-l)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?a=o:a=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=Nt(s,0,c),a=Nt(a,0,c),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,s=this.min,a=this.max,l=this.options,o=l.time,c=o.unit||Rb(o.minUnit,s,a,this._getLabelCapacity(s)),f=ve(l.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,m=ta(h)||h===!0,b={};let x=s,y,v;if(m&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,m?"day":c),e.diff(a,s,c)>1e5*f)throw new Error(s+" and "+a+" are too far apart with stepSize of "+f+" "+c);const j=l.ticks.source==="data"&&this.getDataTimestamps();for(y=x,v=0;y<a;y=+e.add(y,f,c),v++)zb(b,y,j);return(y===a||l.bounds==="ticks"||v===1)&&zb(b,y,j),Object.keys(b).sort(Eb).map(_=>+_)}getLabelForValue(e){const s=this._adapter,a=this.options.time;return a.tooltipFormat?s.format(e,a.tooltipFormat):s.format(e,a.displayFormats.datetime)}format(e,s){const l=this.options.time.displayFormats,o=this._unit,c=s||l[o];return this._adapter.format(e,c)}_tickFormatFunction(e,s,a,l){const o=this.options,c=o.ticks.callback;if(c)return Je(c,[e,s,a],this);const f=o.time.displayFormats,h=this._unit,m=this._majorUnit,b=h&&f[h],x=m&&f[m],y=a[s],v=m&&x&&y&&y.major;return this._adapter.format(e,l||(v?x:b))}generateTickLabels(e){let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s],l.label=this._tickFormatFunction(l.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+a)*s.factor)}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,a=this.ctx.measureText(e).width,l=yn(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(l),c=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:a*o+f*c,h:a*c+f*o}}_getLabelCapacity(e){const s=this.options.time,a=s.displayFormats,l=a[s.unit]||a.millisecond,o=this._tickFormatFunction(e,0,Lb(this,[e],this._majorUnit),l),c=this._getLabelSize(o),f=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return f>0?f:1}getDataTimestamps(){let e=this._cache.data||[],s,a;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(s=0,a=l.length;s<a;++s)e=e.concat(l[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,a;if(e.length)return e;const l=this.getLabels();for(s=0,a=l.length;s<a;++s)e.push(Ob(this,l[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xx(e.sort(Eb))}}function ao(n,e,s){let a=0,l=n.length-1,o,c,f,h;s?(e>=n[a].pos&&e<=n[l].pos&&({lo:a,hi:l}=Zn(n,"pos",e)),{pos:o,time:f}=n[a],{pos:c,time:h}=n[l]):(e>=n[a].time&&e<=n[l].time&&({lo:a,hi:l}=Zn(n,"time",e)),{time:o,pos:f}=n[a],{time:c,pos:h}=n[l]);const m=c-o;return m?f+(h-f)*(e-o)/m:f}class D2 extends Td{static id="timeseries";static defaults=Td.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=ao(s,this.min),this._tableRange=ao(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:a}=this,l=[],o=[];let c,f,h,m,b;for(c=0,f=e.length;c<f;++c)m=e[c],m>=s&&m<=a&&l.push(m);if(l.length<2)return[{time:s,pos:0},{time:a,pos:1}];for(c=0,f=l.length;c<f;++c)b=l[c+1],h=l[c-1],m=l[c],Math.round((b+h)/2)!==m&&o.push({time:m,pos:c/(f-1)});return o}_generate(){const e=this.min,s=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(s)||a.length===1)&&a.push(s),a.sort((l,o)=>l-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),a=this.getLabelTimestamps();return s.length&&a.length?e=this.normalize(s.concat(a)):e=s.length?s:a,e=this._cache.all=e,e}getDecimalForValue(e){return(ao(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return ao(this._table,a*this._tableRange+this._minPos,!0)}}var A2=Object.freeze({__proto__:null,CategoryScale:d0,LinearScale:f0,LogarithmicScale:f2,RadialLinearScale:M2,TimeScale:Td,TimeSeriesScale:D2});const E2=[Rj,fN,a2,A2];aa.register(...E2);const Bb=["Back Squat","Front Squat","Overhead Squat","Deadlift","Clean","Jerk","Clean & Jerk","Snatch","Bench Press","Push Press","Thruster"],Ub=["Fran","Murph","Cindy","Helen","Annie","Diane","Grace","Isabel","Angie","Kelly","Jackie","Karen"];function Pb(){N.useEffect(()=>{const G=document.createElement("link");return G.rel="stylesheet",G.href="/static/styles.css",document.head.appendChild(G),()=>{document.head.removeChild(G)}},[]);const[n,e]=N.useState("cf-tracking"),[s,a]=N.useState(!1),[l,o]=N.useState("lift"),[c,f]=N.useState(""),[h,m]=N.useState(""),[b,x]=N.useState(""),[y,v]=N.useState("");N.useEffect(()=>{v(new Date().toISOString().split("T")[0])},[]);const[j,_]=N.useState([]),[S,C]=N.useState(""),[T,E]=N.useState("");N.useEffect(()=>{n==="cf-comparison"&&fetch("/get_user_communities",{credentials:"include"}).then(G=>G.json()).then(G=>{G?.success&&Array.isArray(G.communities)&&_(G.communities)}).catch(()=>{})},[n]);const A=!!S&&!!T,D=N.useRef(null),L=N.useRef(null),[R,Y]=N.useState("");async function Z(){if(!A)return;const G=T.startsWith("wod:")?"wod":"lift",se=T.replace(/^(lift:|wod:)/,""),me=`/cf_compare_item_in_box?community_id=${encodeURIComponent(S)}&item_type=${encodeURIComponent(G)}&item_name=${encodeURIComponent(se)}`,te=await(await fetch(me,{credentials:"include"})).json();if(te?.success){Y(te.summary||"");const B=te.data;D.current&&(D.current.destroy(),D.current=null);const X=L.current?.getContext("2d");if(!X)return;D.current=new aa(X,{type:"bar",data:{labels:B.labels,datasets:[{label:`You (${B.unit})`,data:B.userValues,backgroundColor:"rgba(77, 182, 172, 0.6)",borderColor:"#4db6ac",borderWidth:1},{label:`Avg (${B.unit})`,data:B.avgValues,backgroundColor:"rgba(176, 184, 185, 0.5)",borderColor:"#9fb0b5",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}},plugins:{legend:{position:"bottom"}}}})}}async function ne(G){G.preventDefault();const se=new URLSearchParams({type:l,name:c,weight:h,reps:b,score:b,date:y}),pe=await(await fetch("/cf_add_entry",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:se})).json();pe?.success?(a(!1),m(""),x("")):alert(pe?.error||"Error adding entry")}return d.jsxs("div",{className:"workout-container",children:[d.jsx("div",{className:"workout-header",children:d.jsxs("div",{className:"header-content",children:[d.jsxs("button",{className:"back-btn",onClick:()=>history.back(),children:[d.jsx("i",{className:"fas fa-arrow-left"})," Back"]}),d.jsx("h1",{children:"Crossfit Tracking"})]})}),d.jsxs("div",{className:"tab-navigation",children:[d.jsxs("button",{className:`tab-btn ${n==="cf-tracking"?"active":""}`,"data-tab":"cf-tracking",onClick:()=>e("cf-tracking"),children:[d.jsx("i",{className:"fas fa-chart-line"}),"Performance Tracking"]}),d.jsxs("button",{className:`tab-btn ${n==="cf-management"?"active":""}`,"data-tab":"cf-management",onClick:()=>e("cf-management"),children:[d.jsx("i",{className:"fas fa-dumbbell"}),"Workout Management"]}),d.jsxs("button",{className:`tab-btn ${n==="cf-comparison"?"active":""}`,"data-tab":"cf-comparison",onClick:()=>e("cf-comparison"),children:[d.jsx("i",{className:"fas fa-chart-bar"}),"You vs Your Box"]})]}),n==="cf-tracking"&&d.jsx("div",{id:"cf-tracking",className:"tab-content active",children:d.jsxs("div",{className:"performance-tracking-container",children:[d.jsxs("div",{className:"header-section",children:[d.jsx("h3",{children:"Your Crossfit Overview"}),d.jsxs("button",{className:"add-btn",onClick:()=>a(!0),children:[d.jsx("i",{className:"fas fa-plus"})," Add Entry"]})]}),d.jsxs("div",{className:"analytics-section",children:[d.jsxs("div",{className:"analytics-header",children:[d.jsx("h4",{children:"Progress Analytics"}),d.jsxs("div",{className:"analytics-controls",children:[d.jsxs("select",{id:"cf-exercise-select",className:"analytics-select",defaultValue:"",children:[d.jsx("option",{value:"",children:"Select Lift or WOD"}),d.jsx("optgroup",{label:"Lifts",children:Bb.map(G=>d.jsx("option",{value:`lift:${G}`,children:G},G))}),d.jsx("optgroup",{label:"WODs",children:Ub.map(G=>d.jsx("option",{value:`wod:${G}`,children:G},G))})]}),d.jsxs("select",{id:"cf-time-range",className:"analytics-select",defaultValue:"30",children:[d.jsx("option",{value:"30",children:"Last 30 days"}),d.jsx("option",{value:"90",children:"Last 90 days"}),d.jsx("option",{value:"180",children:"Last 6 months"}),d.jsx("option",{value:"365",children:"Last year"}),d.jsx("option",{value:"all",children:"All time"})]})]})]}),d.jsx("div",{className:"chart-container",children:d.jsx("canvas",{id:"cfChart"})})]}),d.jsx("div",{className:"exercises-section",children:d.jsx("div",{id:"cf-view",className:"muscle-groups-view"})})]})}),n==="cf-management"&&d.jsx("div",{id:"cf-management",className:"tab-content active",children:d.jsxs("div",{className:"exercise-management-container",children:[d.jsxs("div",{className:"header-section",children:[d.jsx("h3",{children:"Manage Lifts and WODs"}),d.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[d.jsxs("button",{className:"add-btn",onClick:()=>a(!0),children:[d.jsx("i",{className:"fas fa-plus"})," Add Entry"]}),d.jsxs("button",{className:"add-btn",title:"Hide/Show all",children:[d.jsx("i",{className:"fas fa-eye-slash"})," Toggle"]})]})]}),d.jsx("div",{className:"exercises-list-section",children:d.jsx("div",{id:"cf-management-list",className:"exercises-list"})})]})}),n==="cf-comparison"&&d.jsx("div",{id:"cf-comparison",className:"tab-content active",children:d.jsxs("div",{className:"workouts-container",children:[d.jsx("div",{className:"header-section",children:d.jsx("h3",{children:"You vs Your Box"})}),d.jsxs("div",{className:"analytics-section",children:[d.jsxs("div",{className:"analytics-header",children:[d.jsx("h4",{children:"Select Community and Item"}),d.jsxs("div",{className:"analytics-controls",children:[d.jsxs("select",{id:"cf-community-select",className:"analytics-select",value:S,onChange:G=>C(G.target.value),children:[d.jsx("option",{value:"",children:"Select Community"}),j.map(G=>d.jsx("option",{value:String(G.id),children:G.name},G.id))]}),d.jsxs("select",{id:"cf-item-type",className:"analytics-select",disabled:!0,children:[d.jsx("option",{value:"lift",children:"Lift"}),d.jsx("option",{value:"wod",children:"WOD"})]}),d.jsxs("select",{id:"cf-item-select",className:"analytics-select",value:T,onChange:G=>E(G.target.value),disabled:!S,children:[d.jsx("option",{value:"",children:"Select Lift or WOD"}),d.jsx("optgroup",{label:"Lifts",children:Bb.map(G=>d.jsx("option",{value:`lift:${G}`,children:G},G))}),d.jsx("optgroup",{label:"WODs",children:Ub.map(G=>d.jsx("option",{value:`wod:${G}`,children:G},G))})]}),d.jsx("button",{className:"share-btn",id:"cf-load-compare-btn",title:"Load Comparison",disabled:!A,onClick:Z,children:d.jsx("i",{className:"fas fa-sync"})})]})]}),d.jsx("div",{className:"chart-container",id:"cf-compare-chart-container",style:{minHeight:260,display:"block"},children:d.jsx("canvas",{id:"cfCompareChart",ref:L})}),d.jsx("div",{id:"cf-compare-summary",style:{color:"#b0b8b9",fontSize:13,marginTop:8},children:R})]})]})}),s&&d.jsx("div",{id:"cf-add-modal",className:"modal",onClick:G=>G.currentTarget===G.target&&a(!1),children:d.jsxs("div",{className:"modal-content",style:{maxWidth:480},children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h3",{children:"Add Crossfit Entry"}),d.jsx("button",{className:"close-btn",onClick:()=>a(!1),children:d.jsx("i",{className:"fas fa-times"})})]}),d.jsx("div",{className:"modal-body",children:d.jsxs("form",{id:"cf-add-form",className:"exercise-form",onSubmit:ne,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cf-type",children:"Type"}),d.jsxs("select",{id:"cf-type",value:l,onChange:G=>o(G.target.value),required:!0,children:[d.jsx("option",{value:"lift",children:"Lift"}),d.jsx("option",{value:"wod",children:"WOD"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cf-name",children:"Name"}),d.jsx("input",{type:"text",id:"cf-name",placeholder:"e.g., Fran / Clean & Jerk",value:c,onChange:G=>f(G.target.value),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cf-weight",children:"Weight (kg) (for lifts)"}),d.jsx("input",{type:"number",id:"cf-weight",min:"0",step:"0.1",value:h,onChange:G=>m(G.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cf-reps",children:"Reps (for lifts) or Time/Score (for WODs)"}),d.jsx("input",{type:"text",id:"cf-reps",placeholder:"e.g., 5x3, or 5:12",value:b,onChange:G=>x(G.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"cf-date",children:"Date"}),d.jsx("input",{type:"date",id:"cf-date",value:y,onChange:G=>v(G.target.value),required:!0})]}),d.jsxs("div",{className:"form-actions",style:{marginTop:8,display:"flex",gap:8,justifyContent:"flex-end"},children:[d.jsx("button",{type:"button",className:"submit-btn",onClick:()=>a(!1),style:{background:"transparent",border:"1px solid #333"},children:"Cancel"}),d.jsxs("button",{type:"submit",className:"submit-btn",children:[d.jsx("i",{className:"fas fa-save"})," Save"]})]})]})})]})})]})}function xo({src:n,alt:e,className:s="",onClick:a,style:l}){const[o,c]=N.useState(!0),[f,h]=N.useState(!1),m=()=>{c(!1)},b=()=>{c(!1),h(!0)};return d.jsxs("div",{className:`relative ${s}`,style:l,onClick:a,children:[o&&d.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-md flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white/60 rounded-full animate-spin"}),d.jsx("div",{className:"text-xs text-white/50",children:"Loading..."})]})}),f&&d.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-md flex items-center justify-center border border-white/10",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("i",{className:"fa-solid fa-image text-white/30 text-2xl"}),d.jsx("div",{className:"text-xs text-white/40",children:"Failed to load"})]})}),d.jsx("img",{src:n,alt:e,className:`transition-opacity duration-300 ${o?"opacity-0":"opacity-100"} ${s}`,style:l,onLoad:m,onError:b,loading:"lazy"})]})}function O2(n){function e(y){if(/^\d{10,13}$/.test(y.trim())){const C=Number(y),T=new Date(C>1e12?C:C*1e3);return isNaN(T.getTime())?null:T}let v=new Date(y);if(!isNaN(v.getTime())||(v=new Date(y.replace(" ","T")),!isNaN(v.getTime())))return v;const j=y.match(/^(\d{1,2})\.(\d{1,2})\.(\d{2}) (\d{1,2}):(\d{2})$/);if(j){const C=Number(j[1]),T=Number(j[2]),E=Number(j[3]),A=Number(j[4]),D=Number(j[5]),L=2e3+E,R=new Date(L,C-1,T,A,D);return isNaN(R.getTime())?null:R}const _=y.match(/^(\d{1,2})\/(\d{1,2})\/(\d{2}) (\d{1,2}):(\d{2}) (AM|PM)$/i);if(_){const C=Number(_[1]),T=Number(_[2]),E=Number(_[3]);let A=Number(_[4]);const D=Number(_[5]),L=_[6].toUpperCase();L==="PM"&&A<12&&(A+=12),L==="AM"&&A===12&&(A=0);const R=2e3+E,Y=new Date(R,C-1,T,A,D);return isNaN(Y.getTime())?null:Y}const S=y.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/);if(S){const C=Number(S[1]),T=Number(S[2]),E=Number(S[3]),A=Number(S[4]),D=Number(S[5]),L=S[6]?Number(S[6]):0,R=new Date(C,T-1,E,A,D,L);return isNaN(R.getTime())?null:R}return null}const s=e(n);if(!s)return n;let l=new Date().getTime()-s.getTime();l<0&&(l=0);const o=60*1e3,c=60*o,f=24*c;if(l<c)return`${Math.floor(l/o)}m`;if(l<f)return`${Math.floor(l/c)}h`;const h=Math.floor(l/f);if(h<10)return`${h}d`;const m=String(s.getMonth()+1).padStart(2,"0"),b=String(s.getDate()).padStart(2,"0"),x=String(s.getFullYear()%100).padStart(2,"0");return`${m}/${b}/${x}`}function R2(){let{community_id:n}=Jn();if(!n)try{n=window.location.pathname.split("/").filter(Boolean).pop()}catch{}const e=ut(),[s,a]=N.useState(null),[l,o]=N.useState(!0),[c,f]=N.useState(null),[h,m]=N.useState(!1),[b,x]=N.useState(!1),[y,v]=N.useState([]),[j,_]=N.useState(null),[S,C]=N.useState(!1),T=N.useRef(null),{setTitle:E}=Ht();N.useEffect(()=>{s?.community?.name&&E(s.community.name)},[E,s?.community?.name]),N.useEffect(()=>{let R=document.getElementById("legacy-styles");R||(R=document.createElement("link"),R.id="legacy-styles",R.rel="stylesheet",R.href="/static/styles.css",document.head.appendChild(R))},[]),N.useEffect(()=>{if(n)try{localStorage.setItem("last_community_id",String(n))}catch{}},[n]),N.useEffect(()=>{let R=!0;return o(!0),fetch(`/api/community_feed/${n}`,{credentials:"include"}).then(Y=>Y.json().catch(()=>({success:!1,error:"Invalid response"}))).then(Y=>{if(R)if(Y?.success)a(Y);else{f(Y?.error||"Error");const Z=navigator.userAgent||"";(/Mobi|Android|iPhone|iPad/i.test(Z)||window.innerWidth<768)&&n&&(window.location.href=`/community_feed/${n}`)}}).catch(()=>{if(R){f("Error loading feed");const Y=navigator.userAgent||"";(/Mobi|Android|iPhone|iPad/i.test(Y)||window.innerWidth<768)&&n&&(window.location.href=`/community_feed/${n}`)}}).finally(()=>R&&o(!1)),()=>{R=!1}},[n]),N.useEffect(()=>{async function R(){try{const Z=await(await fetch(`/get_university_ads?community_id=${n}`,{credentials:"include"})).json();Z?.success&&Z.ads?.length?_(Z.ads[0]):_(null)}catch{_(null)}}R()},[n]),N.useEffect(()=>{let R=!0;async function Y(){try{const ne=await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json();if(!R)return;if(ne?.success){const G=`ann_last_seen_${n}`,se=localStorage.getItem(G),me=se?Date.parse(se):0,pe=(ne.announcements||[]).some(te=>Date.parse(te.created_at)>me);m(pe)}}catch{}}return Y(),()=>{R=!1}},[n]);async function A(){try{const Y=await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json();if(Y?.success){v(Y.announcements||[]),x(!0);try{const Z=`ann_last_seen_${n}`;localStorage.setItem(Z,new Date().toISOString()),m(!1)}catch{}}}catch{}}async function D(R,Y){a(Z=>{if(!Z)return Z;const ne=(Z.posts||[]).map(G=>{if(G.id!==R)return G;const se=G.user_reaction,me=se===Y?null:Y,pe={...G.reactions||{}};return se&&(pe[se]=Math.max(0,(pe[se]||0)-1)),me&&(pe[me]=(pe[me]||0)+1),{...G,user_reaction:me,reactions:pe}});return{...Z,posts:ne}});try{const Z=new URLSearchParams({post_id:String(R),reaction:Y}),G=await(await fetch("/add_reaction",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Z})).json().catch(()=>null);if(!G?.success)return;a(se=>{if(!se)return se;const me=(se.posts||[]).map(pe=>pe.id===R?{...pe,reactions:{...pe.reactions,...G.counts},user_reaction:G.user_reaction}:pe);return{...se,posts:me}})}catch{}}const L=N.useMemo(()=>{if(!s?.posts)return[];const R=[];return s.posts.forEach((Y,Z)=>{Z===3&&R.push({type:"ad"}),R.push({type:"post",post:Y})}),R.length===0&&R.push({type:"ad"}),R},[s]);return l?d.jsx("div",{className:"p-4 text-[#9fb0b5]",children:"Loading"}):c?d.jsx("div",{className:"p-4 text-red-400",children:c||"Failed to load feed."}):s?d.jsxs("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-black text-white",children:[d.jsx("div",{ref:T,className:"h-full max-w-2xl mx-auto overflow-y-auto no-scrollbar pt-3 pb-20 px-3",style:{WebkitOverflowScrolling:"touch"},children:d.jsxs("div",{className:"space-y-3",children:[s.community?.background_path?d.jsxs("div",{className:"community-header-image overflow-hidden rounded-xl border border-white/10 mb-3 relative",children:[d.jsx("img",{src:s.community.background_path.startsWith("http")?s.community.background_path:s.community.background_path.includes("community_backgrounds/")?`/static/${s.community.background_path}`:`/static/community_backgrounds/${s.community.background_path.split("/").slice(-1)[0]}`,alt:s.community?.name+" Header",className:"block w-full h-auto header-image transition-transform duration-300 hover:scale-[1.015]",onError:R=>{R.currentTarget.style.display="none"},style:{opacity:1,transition:"opacity 0.3s ease-in-out"},onLoad:R=>{const Y=R.currentTarget.parentElement?.querySelector(".loading-overlay");Y&&(Y.style.display="none")}}),d.jsx("div",{className:"loading-overlay absolute inset-0 bg-white/5 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white/60 rounded-full animate-spin"}),d.jsx("div",{className:"text-xs text-white/50",children:"Loading header..."})]})})]}):null,L.map((R,Y)=>R.type==="ad"?d.jsx(z2,{communityId:String(n),ad:j},`ad-${Y}`):d.jsx(L2,{post:R.post,currentUser:s.username,isAdmin:!!s.is_community_admin,onOpen:()=>e(`/post/${R.post.id}`),onToggleReaction:D},R.post.id))]})}),b&&d.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur flex items-center justify-center",onClick:R=>R.currentTarget===R.target&&x(!1),children:d.jsxs("div",{className:"w-[92%] max-w-[560px] rounded-2xl border border-white/10 bg-black p-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"font-semibold",children:"Announcements"}),d.jsx("button",{className:"px-2 py-1 rounded-full border border-white/10",onClick:()=>x(!1),children:""})]}),d.jsx("div",{className:"space-y-3 max-h-[420px] overflow-y-auto",children:y.length===0?d.jsx("div",{className:"text-sm text-[#9fb0b5]",children:"No announcements."}):y.map(R=>d.jsxs("div",{className:"rounded-xl border border-white/10 p-3 bg-white/[0.03]",children:[d.jsxs("div",{className:"text-xs text-[#9fb0b5] mb-1",children:[R.created_by,"  ",R.created_at]}),d.jsx("div",{className:"whitespace-pre-wrap text-sm",children:R.content})]},R.id))})]})}),d.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 w-[94%] max-w-[1200px] rounded-2xl border border-white/10 bg-black/80 backdrop-blur shadow-lg",children:d.jsxs("div",{className:"h-14 px-6 flex items-center justify-between text-[#cfd8dc]",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Home",onClick:()=>T.current?.scrollTo({top:0,behavior:"smooth"}),children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Members",onClick:()=>e(`/community/${n}/members`),children:d.jsx("i",{className:"fa-solid fa-users"})}),d.jsx("button",{className:"w-10 h-10 rounded-md bg-[#4db6ac] text-black hover:brightness-110 grid place-items-center","aria-label":"New Post",onClick:()=>e(`/compose?community_id=${n}`),children:d.jsx("i",{className:"fa-solid fa-plus"})}),d.jsx("button",{className:"relative p-2 rounded-full hover:bg-white/5","aria-label":"Announcements",onClick:()=>{A()},children:d.jsxs("span",{className:"relative inline-block",children:[d.jsx("i",{className:"fa-solid fa-bullhorn",style:h?{color:"#4db6ac"}:void 0}),h?d.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-[#4db6ac] rounded-full"}):null]})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"More",onClick:()=>C(!0),children:d.jsx("i",{className:"fa-solid fa-ellipsis"})})]})}),S&&d.jsx("div",{className:"fixed inset-0 z-[95] bg-black/30 flex items-end justify-end",onClick:R=>R.currentTarget===R.target&&C(!1),children:d.jsxs("div",{className:"w-[75%] max-w-sm mr-2 mb-2 bg-black/80 backdrop-blur border border-white/10 rounded-2xl p-2 space-y-2 transition-transform duration-200 ease-out translate-y-0",children:[d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),e(`/community/${n}/polls_react`)},children:"Polls"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),e(`/community/${n}/calendar_react`)},children:"Calendar"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),e(`/community/${n}/resources_react`)},children:"Forum"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),e(`/community/${n}/useful_links_react`)},children:"Useful Links"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),e(`/community/${n}/members`)},children:"Members"}),d.jsx(B2,{communityId:String(n),onClose:()=>C(!1)}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),window.location.href="/issues"},children:"Report Issue"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{C(!1),window.location.href="/anonymous_feedback"},children:"Anonymous feedback"})]})})]}):d.jsx("div",{className:"p-4 text-[#9fb0b5]",children:"No posts yet."})}function z2({communityId:n,ad:e}){if(!e)return null;const s=async()=>{try{await fetch("/track_ad_click",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({ad_id:e.id})})}catch{}e.link_url&&window.open(e.link_url,"_blank")};return d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/[0.04] p-3 shadow-sm shadow-black/20",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded bg-white/10 overflow-hidden flex items-center justify-center",children:e.image_url?d.jsx(xo,{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"}):d.jsx("i",{className:"fa-solid fa-store"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-xs text-[#9fb0b5]",children:"Sponsored  University Store"}),d.jsx("div",{className:"font-medium truncate",children:e.title||"Store"}),d.jsx("div",{className:"text-sm text-[#9fb0b5] truncate",children:e.description||"Explore official merch and accessories."})]}),d.jsx("button",{className:"px-3 py-2 rounded-full bg-[#4db6ac] text-white border border-[#4db6ac] hover:brightness-110",onClick:s,children:"Shop"})]}),e.image_url?d.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-white/10",children:d.jsx(xo,{src:e.image_url,alt:e.title,className:"w-full h-auto cursor-pointer",onClick:s})}):null]})}function L2({post:n,currentUser:e,isAdmin:s,onOpen:a,onToggleReaction:l}){const o=N.useRef(null),[c,f]=N.useState(!1),[h,m]=N.useState(n.content);async function b(){const x=new URLSearchParams({post_id:String(n.id),content:h}),v=await(await fetch("/edit_post",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:x})).json().catch(()=>null);if(v?.success){f(!1);try{window.location.reload()}catch{}}else alert(v?.error||"Failed to update post")}return d.jsxs("div",{ref:o,className:"rounded-2xl border border-white/10 bg-white/[0.035] shadow-sm shadow-black/20",onClick:a,children:[d.jsxs("div",{className:"px-3 py-2 border-b border-white/10 flex items-center gap-2",children:[d.jsx(nn,{username:n.username,url:n.profile_picture||void 0,size:32}),d.jsx("div",{className:"font-medium tracking-[-0.01em]",children:n.username}),d.jsx("div",{className:"text-xs text-[#9fb0b5] ml-auto tabular-nums",children:O2(n.timestamp)}),(n.username===e||s||e==="admin")&&d.jsx("button",{className:"ml-2 px-2 py-1 rounded-full text-[#6c757d] hover:text-[#4db6ac]",title:"Delete",onClick:async x=>{if(x.stopPropagation(),!confirm("Delete this post?"))return;const v=new FormData;v.append("post_id",String(n.id)),await fetch("/delete_post",{method:"POST",credentials:"include",body:v}),location.reload()},children:d.jsx("i",{className:"fa-regular fa-trash-can",style:{color:"inherit"}})}),(n.username===e||s||e==="admin")&&d.jsx("button",{className:"ml-2 px-2 py-1 rounded-full text-[#6c757d] hover:text-[#4db6ac]",title:"Edit",onClick:x=>{x.stopPropagation(),f(!0)},children:d.jsx("i",{className:"fa-regular fa-pen-to-square"})})]}),d.jsxs("div",{className:"px-3 py-2 space-y-2",children:[c?d.jsxs("div",{className:"space-y-2",onClick:x=>x.stopPropagation(),children:[d.jsx("textarea",{className:"w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none min-h-[100px]",value:h,onChange:x=>m(x.target.value)}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{className:"px-3 py-1.5 rounded-md border border-white/10 hover:bg-white/5 text-sm",onClick:()=>{m(n.content),f(!1)},children:"Cancel"}),d.jsx("button",{className:"px-3 py-1.5 rounded-md bg-[#4db6ac] text-black text-sm hover:brightness-110",onClick:b,children:"Save"})]})]}):d.jsx("div",{className:"whitespace-pre-wrap text-[14px] leading-relaxed tracking-[0]",children:n.content}),n.image_path?d.jsx(xo,{src:(()=>{const x=n.image_path;return x?x.startsWith("http")||x.startsWith("/uploads")||x.startsWith("/static")?x:x.startsWith("uploads")?`/${x}`:`/uploads/${x}`:""})(),alt:"Post image",className:"block mx-auto max-w-full max-h-[360px] rounded border border-white/10"}):null,d.jsxs("div",{className:"flex items-center gap-2 text-xs",onClick:x=>x.stopPropagation(),children:[d.jsx(ud,{icon:"fa-regular fa-heart",count:n.reactions?.heart||0,active:n.user_reaction==="heart",onClick:()=>l(n.id,"heart")}),d.jsx(ud,{icon:"fa-regular fa-thumbs-up",count:n.reactions?.["thumbs-up"]||0,active:n.user_reaction==="thumbs-up",onClick:()=>l(n.id,"thumbs-up")}),d.jsx(ud,{icon:"fa-regular fa-thumbs-down",count:n.reactions?.["thumbs-down"]||0,active:n.user_reaction==="thumbs-down",onClick:()=>l(n.id,"thumbs-down")}),d.jsxs("button",{className:"ml-auto px-2.5 py-1 rounded-full text-[#cfd8dc]",onClick:x=>{x.stopPropagation(),a()},children:[d.jsx("i",{className:"fa-regular fa-comment"}),d.jsx("span",{className:"ml-1",children:n.replies?.length||0})]})]})]})]})}function ud({icon:n,count:e,active:s,onClick:a}){const[l,o]=N.useState(!1),c=s?{color:"#4db6ac",WebkitTextStroke:"1px #4db6ac"}:{color:"#6c757d"},f=()=>{o(!0);try{a()}finally{setTimeout(()=>o(!1),140)}};return d.jsxs("button",{className:"px-2 py-1 rounded transition-colors",onClick:f,children:[d.jsx("i",{className:`${n} ${l?"scale-125":"scale-100"} transition-transform duration-150`,style:c}),d.jsx("span",{className:"ml-1",style:{color:s?"#cfe9e7":"#9fb0b5"},children:e})]})}function B2({communityId:n,onClose:e}){const s=ut(),[a,l]=N.useState(!1);return N.useEffect(()=>{let o=!0;async function c(){try{const f=new URLSearchParams({community_id:String(n)}),m=await(await fetch("/get_community_members",{method:"POST",credentials:"include",body:f})).json();if(!o)return;const b=m?.current_user_role;l(!!(b==="app_admin"||b==="owner"))}catch{l(!1)}}return c(),()=>{o=!1}},[n]),a?d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{e(),s(`/community/${n}/edit`)},children:"Manage Community"}):null}function U2(){const{community_id:n}=Jn(),e=ut(),{setTitle:s}=Ht(),[a,l]=N.useState([]),[o,c]=N.useState(!0),[f,h]=N.useState([]),[m,b]=N.useState(!1),[x,y]=N.useState({}),[v,j]=N.useState("calendar"),[_,S]=N.useState(!1),[C,T]=N.useState(null),[E,A]=N.useState(null),[D,L]=N.useState(null),R=N.useRef(null),Y=N.useRef(null),[Z,ne]=N.useState(!1),[G,se]=N.useState(!1);N.useEffect(()=>{s("Calendar")},[s]),N.useEffect(()=>{let k=!0;async function P(){try{const J=await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json();if(!k)return;if(J?.success){const ae=`ann_last_seen_${n}`,de=localStorage.getItem(ae),re=de?Date.parse(de):0,at=(J.announcements||[]).some(Oe=>Date.parse(Oe.created_at)>re);se(at)}}catch{}}return P(),()=>{k=!1}},[n]);async function me(){try{if((await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json())?.success){try{const $=`ann_last_seen_${n}`;localStorage.setItem($,new Date().toISOString()),se(!1)}catch{}alert("No UI here: announcements viewed.")}}catch{}}async function pe(){try{const P=await(await fetch("/get_calendar_events",{credentials:"include"})).json();if(P?.success&&Array.isArray(P.events)){const $=P.events.filter(J=>`${J.community_id||""}`==`${n}`);l($)}}catch{}}N.useEffect(()=>{let k=!0;return c(!0),pe().finally(()=>k&&c(!1)),(async()=>{try{const $=await(await fetch(`/community/${n}/members/list`,{credentials:"include"})).json();$?.success&&Array.isArray($.members)&&h($.members)}catch{}})(),()=>{k=!1}},[n]);const te=N.useMemo(()=>{const k=new Map;return a.forEach(P=>{const $=P.date;k.has($)||k.set($,[]),k.get($).push(P)}),Array.from(k.entries()).sort(([P],[$])=>P.localeCompare($))},[a]);async function B(k){const P=new URLSearchParams;["title","date","end_date","start_time","end_time","description"].forEach(ae=>{const de=k.get(ae)||"";de&&P.append(ae,de)}),n&&P.append("community_id",String(n)),P.append("invite_all",m?"true":"false"),m||Object.keys(x).filter(ae=>x[ae]).forEach(ae=>P.append("invited_members[]",ae));const J=await(await fetch("/add_calendar_event",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:P})).json().catch(()=>null);if(J?.success){await pe(),T("Event created"),j("calendar");try{R.current?.reset(),b(!1),y({}),S(!1)}catch{}setTimeout(()=>T(null),2e3)}else alert(J?.message||"Failed to create event")}async function X(k,P){try{(await(await fetch(`/event/${k}/rsvp`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({response:P})})).json().catch(()=>null))?.success&&await pe()}catch{}}async function ie(k){A(k),L(null);try{const P=new URLSearchParams({event_id:String(k.id)}),J=await(await fetch(`/get_event_rsvp_details?${P.toString()}`,{credentials:"include"})).json();J?.success&&L(J.attendees)}catch{}}async function le(k){if(confirm("Delete this event?"))try{const P=new URLSearchParams({event_id:String(k.id)}),J=await(await fetch("/delete_calendar_event",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:P})).json().catch(()=>null);J?.success?(await pe(),A(null),L(null)):alert(J?.message||"Could not delete")}catch{}}return d.jsxs("div",{className:"h-screen overflow-hidden bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full flex items-center gap-2 px-2",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5",onClick:()=>e(`/community_feed_react/${n}`),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsxs("div",{className:"flex-1 h-full flex",children:[d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${v==="calendar"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>j("calendar"),children:[d.jsx("div",{className:"pt-2",children:"Calendar"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${v==="calendar"?"bg-[#4db6ac]":"bg-transparent"}`})]}),d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${v==="create"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>j("create"),children:[d.jsx("div",{className:"pt-2",children:"Create Event"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${v==="create"?"bg-[#4db6ac]":"bg-transparent"}`})]})]})]})}),d.jsxs("div",{ref:Y,className:"max-w-2xl mx-auto pt-[70px] h-[calc(100vh-70px)] pb-20 px-3 overflow-y-auto no-scrollbar",children:[C&&d.jsx("div",{className:"mb-3 text-sm px-3 py-2 rounded-md bg-teal-700/15 text-teal-300 border border-teal-700/30",children:C}),v==="create"?d.jsxs("form",{ref:R,className:"rounded-2xl border border-white/10 p-3 bg-white/[0.035] space-y-3",onSubmit:k=>{k.preventDefault(),B(new FormData(k.currentTarget))},children:[d.jsx("div",{className:"text-sm font-medium",children:"Create Event"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("label",{className:"col-span-2 text-xs text-[#9fb0b5]",children:["Title",d.jsx("input",{name:"title",placeholder:"Title",className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none",required:!0})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Start date",d.jsx("input",{name:"date",type:"date",className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none",required:!0})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["End date",d.jsx("input",{name:"end_date",type:"date",className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none"})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Start time",d.jsx("input",{name:"start_time",type:"time",className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none"})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["End time",d.jsx("input",{name:"end_time",type:"time",className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none"})]}),d.jsxs("label",{className:"col-span-2 text-xs text-[#9fb0b5]",children:["Description",d.jsx("input",{name:"description",placeholder:"Description",className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",className:`px-2 py-1 rounded-md border text-xs hover:bg-white/5 ${m?"border-teal-500 text-teal-300 bg-teal-700/15":"border-white/10"}`,onClick:()=>{b(k=>!k),m||S(!1)},children:"Invite all members"}),d.jsx("button",{type:"button",className:"px-2 py-1 rounded-md border border-white/10 text-xs hover:bg-white/5",onClick:()=>S(k=>!k),children:"Select members"})]}),!m&&_&&d.jsx("div",{className:"max-h-48 overflow-y-auto border border-white/10 rounded-md p-2 space-y-1",children:f.length===0?d.jsx("div",{className:"text-sm text-[#9fb0b5]",children:"No members"}):f.map(k=>d.jsxs("label",{className:"flex items-center justify-between gap-2 py-1 px-2 rounded hover:bg-white/5",children:[d.jsx("span",{className:"text-sm",children:k.username}),d.jsx("input",{type:"checkbox",className:"accent-[#4db6ac] w-4 h-4",checked:!!x[k.username],onChange:P=>y($=>({...$,[k.username]:P.target.checked}))})]},k.username))}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-3 py-1.5 rounded-md bg-[#4db6ac] text-black text-sm hover:brightness-110",children:"Add"})})]}):d.jsx("div",{className:"space-y-3",children:o?d.jsx("div",{className:"text-[#9fb0b5]",children:"Loading events"}):te.length===0?d.jsx("div",{className:"text-[#9fb0b5]",children:"No events yet."}):te.map(([k,P])=>d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035] overflow-hidden",children:[d.jsx("div",{className:"px-3 py-2 bg-white/5 text-xs text-[#9fb0b5]",children:k}),d.jsx("div",{className:"divide-y divide-white/10",children:P.map($=>d.jsxs("div",{className:"px-3 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"font-medium flex-1",children:$.title}),d.jsx("div",{className:"text-xs text-[#9fb0b5]",children:[$.start_time,$.end_time].filter(Boolean).join(" - ")})]}),$.description?d.jsx("div",{className:"text-sm text-[#cfd8dc] mt-1",children:$.description}):null,d.jsxs("div",{className:"text-xs text-[#9fb0b5] mt-2 flex items-center gap-2 flex-wrap",children:[d.jsx("span",{children:"RSVP:"}),d.jsxs("button",{className:`px-2 py-1 rounded-full border ${$.user_rsvp==="going"?"border-teal-500 text-teal-300 bg-teal-700/15":"border-white/10"}`,onClick:()=>X($.id,"going"),children:["Going ",$.rsvp_counts?.going||0]}),d.jsxs("button",{className:`px-2 py-1 rounded-full border ${$.user_rsvp==="maybe"?"border-teal-500 text-teal-300 bg-teal-700/15":"border-white/10"}`,onClick:()=>X($.id,"maybe"),children:["Maybe ",$.rsvp_counts?.maybe||0]}),d.jsxs("button",{className:`px-2 py-1 rounded-full border ${$.user_rsvp==="not_going"?"border-teal-500 text-teal-300 bg-teal-700/15":"border-white/10"}`,onClick:()=>X($.id,"not_going"),children:["Not going ",$.rsvp_counts?.not_going||0]}),typeof $.rsvp_counts?.no_response=="number"&&d.jsxs("span",{className:"px-2 py-1 rounded-full border border-white/10",children:["No response ",$.rsvp_counts.no_response]}),d.jsx("button",{title:"Invite details",className:"ml-auto px-2 py-1 rounded-md border border-white/10 hover:bg-white/5",onClick:()=>ie($),children:d.jsx("i",{className:"fa-regular fa-circle-question"})}),d.jsx("button",{title:"Delete event",className:"px-2 py-1 rounded-md border border-red-400 text-red-300 hover:bg-red-500/10",onClick:()=>le($),children:d.jsx("i",{className:"fa-regular fa-trash-can"})})]})]},$.id))})]},k))})]}),d.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 w-[94%] max-w-[1200px] rounded-2xl border border-white/10 bg-black/80 backdrop-blur shadow-lg",children:d.jsxs("div",{className:"h-14 px-6 flex items-center justify-between text-[#cfd8dc]",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Home",onClick:()=>Y.current?.scrollTo({top:0,behavior:"smooth"}),children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg:white/5","aria-label":"Members",onClick:()=>e(`/community/${n}/members`),children:d.jsx("i",{className:"fa-solid fa-users"})}),d.jsx("button",{className:"w-10 h-10 rounded-md bg-[#4db6ac] text-black hover:brightness-110 grid place-items-center","aria-label":"New Post",onClick:()=>e(`/compose?community_id=${n}`),children:d.jsx("i",{className:"fa-solid fa-plus"})}),d.jsx("button",{className:"relative p-2 rounded-full hover:bg-white/5","aria-label":"Announcements",onClick:()=>{me()},children:d.jsxs("span",{className:"relative inline-block",children:[d.jsx("i",{className:"fa-solid fa-bullhorn",style:G?{color:"#4db6ac"}:void 0}),G?d.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-[#4db6ac] rounded-full"}):null]})}),d.jsx("button",{className:"p-2 rounded-full hover:bg:white/5","aria-label":"More",onClick:()=>ne(!0),children:d.jsx("i",{className:"fa-solid fa-ellipsis"})})]})}),Z&&d.jsx("div",{className:"fixed inset-0 z-[95] bg-black/30 flex items-end justify-end",onClick:k=>k.currentTarget===k.target&&ne(!1),children:d.jsxs("div",{className:"w-[75%] max-w-sm mr-2 mb-2 bg-black/80 backdrop-blur border border-white/10 rounded-2xl p-2 space-y-2 transition-transform duration-200 ease-out translate-y-0",children:[d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{ne(!1),e(`/community/${n}/polls_react`)},children:"Polls"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{ne(!1),e(`/community/${n}/calendar_react`)},children:"Calendar"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{ne(!1),window.location.href=`/community/${n}/resources`},children:"Forum"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{ne(!1),window.location.href=`/community/${n}/resources`},children:"Useful Links"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{ne(!1),window.location.href="/issues"},children:"Report Issue"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{ne(!1),window.location.href="/anonymous_feedback"},children:"Anonymous feedback"})]})}),E&&d.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur flex items-end justify-center",onClick:k=>k.currentTarget===k.target&&A(null),children:d.jsxs("div",{className:"w-[96%] max-w-[560px] mb-4 rounded-2xl border border-white/10 bg-black p-3",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"font-semibold text-white",children:E.title}),d.jsxs("div",{className:"text-xs text-[#9fb0b5]",children:[E.date,E.end_date?`  ${E.end_date}`:"",E.start_time?`  ${E.start_time}`:"",E.end_time?` - ${E.end_time}`:""]}),E.description?d.jsx("div",{className:"text-sm text-[#cfd8dc] mt-1",children:E.description}):null]}),d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-sm text-[#9fb0b5]",children:"Invite details"}),d.jsx("button",{className:"px-2 py-1 rounded-full border border-white/10",onClick:()=>A(null),children:""})]}),D?d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-teal-300 mb-1",children:["Going (",D.going.length,")"]}),d.jsx("ul",{className:"space-y-1",children:D.going.map((k,P)=>d.jsx("li",{children:k.username},`g-${P}`))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-[#cfd8dc] mb-1",children:["Maybe (",D.maybe.length,")"]}),d.jsx("ul",{className:"space-y-1",children:D.maybe.map((k,P)=>d.jsx("li",{children:k.username},`m-${P}`))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-red-300 mb-1",children:["Not going (",D.not_going.length,")"]}),d.jsx("ul",{className:"space-y-1",children:D.not_going.map((k,P)=>d.jsx("li",{children:k.username},`n-${P}`))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-[#9fb0b5] mb-1",children:["No response (",D.no_response.length,")"]}),d.jsx("ul",{className:"space-y-1",children:D.no_response.map((k,P)=>d.jsx("li",{children:k.username},`r-${P}`))})]})]}):d.jsx("div",{className:"text-[#9fb0b5] text-sm",children:"Loading"})]})})]})}function P2(){const{community_id:n}=Jn(),e=ut(),{setTitle:s}=Ht(),[a,l]=N.useState("active"),[o,c]=N.useState([]),[f,h]=N.useState(!0),[m,b]=N.useState(null),[x,y]=N.useState(""),[v,j]=N.useState(["",""]),[_,S]=N.useState(!0),[C,T]=N.useState(""),E=N.useRef(null),A=N.useRef(null),[D,L]=N.useState(!1),[R,Y]=N.useState(!1);N.useEffect(()=>{s("Polls")},[s]);async function Z(){h(!0);try{const B=await(await fetch(`/get_active_polls?community_id=${n}`,{credentials:"include"})).json();B?.success&&c((B.polls||[]).map(X=>({id:X.id,question:X.question,options:X.options||[],single_vote:X.single_vote,total_votes:X.total_votes,user_vote:X.user_vote})))}finally{h(!1)}}N.useEffect(()=>{Z()},[n]),N.useEffect(()=>{let te=!0;async function B(){try{const ie=await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json();if(!te)return;if(ie?.success){const le=`ann_last_seen_${n}`,k=localStorage.getItem(le),P=k?Date.parse(k):0,$=(ie.announcements||[]).some(J=>Date.parse(J.created_at)>P);Y($)}}catch{}}return B(),()=>{te=!1}},[n]);async function ne(){try{if((await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json())?.success){try{const X=`ann_last_seen_${n}`;localStorage.setItem(X,new Date().toISOString()),Y(!1)}catch{}alert("No UI here: announcements viewed.")}}catch{}}async function G(){const te=new URLSearchParams;te.append("question",x.trim()),v.filter(ie=>ie.trim()).forEach(ie=>te.append("options[]",ie.trim())),n&&te.append("community_id",String(n)),te.append("single_vote",String(_)),C&&te.append("expires_at",C);const X=await(await fetch("/create_poll",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:te})).json().catch(()=>null);X?.success?(b("Poll created"),y(""),j(["",""]),S(!0),T(""),l("active"),setTimeout(()=>b(null),2e3),Z()):alert(X?.error||"Failed to create poll")}function se(te,B,X){c(ie=>ie.map(le=>{if(le.id!==te)return le;const k={...le,options:le.options.map(P=>({...P}))};if(le.single_vote){const P=le.user_vote||null;if(P&&P!==B){const J=k.options.find(ae=>ae.id===P);J&&J.votes>0&&(J.votes-=1)}const $=k.options.find(J=>J.id===B);$&&($.votes+=1),k.user_vote=B}else{const P=k.options.find($=>$.id===B);P&&(X?P.votes>0&&(P.votes-=1):P.votes+=1)}return k}))}async function me(te,B){const X=o.find(P=>P.id===te),ie=X&&!X.single_vote&&!!X.options.find(P=>P.id===B);se(te,B,!!ie),(await(await fetch("/vote_poll",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({poll_id:te,option_id:B,toggle_vote:!!(!X?.single_vote&&X?.options?.some(P=>P.id===B))})})).json().catch(()=>null))?.success||Z()}async function pe(te){(await(await fetch("/close_poll",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({poll_id:String(te)})})).json().catch(()=>null))?.success&&Z()}return d.jsxs("div",{className:"h-screen overflow-hidden bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full flex items-center gap-2 px-2",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5",onClick:()=>e(`/community_feed_react/${n}`),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsxs("div",{className:"flex-1 h-full flex",children:[d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${a==="active"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>l("active"),children:[d.jsx("div",{className:"pt-2",children:"Active Polls"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${a==="active"?"bg-[#4db6ac]":"bg-transparent"}`})]}),d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${a==="create"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>l("create"),children:[d.jsx("div",{className:"pt-2",children:"Create Poll"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${a==="create"?"bg-[#4db6ac]":"bg-transparent"}`})]})]})]})}),d.jsxs("div",{ref:A,className:"max-w-2xl mx-auto pt-[70px] h-[calc(100vh-70px)] pb-20 px-3 overflow-y-auto no-scrollbar",children:[m&&d.jsx("div",{className:"mb-3 text-sm px-3 py-2 rounded-md bg-teal-700/15 text-teal-300 border border-teal-700/30",children:m}),a==="create"?d.jsxs("form",{ref:E,className:"rounded-2xl border border-white/10 p-3 bg-white/[0.035] space-y-3",onSubmit:te=>{te.preventDefault(),G()},children:[d.jsx("div",{className:"text-sm font-medium",children:"Create Poll"}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Question",d.jsx("input",{value:x,onChange:te=>y(te.target.value),className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none",placeholder:"What should we do?"})]}),d.jsxs("div",{className:"space-y-2",children:[v.map((te,B)=>d.jsx("input",{value:te,onChange:X=>j(ie=>ie.map((le,k)=>k===B?X.target.value:le)),className:"w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none",placeholder:`Option ${B+1}`},B)),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",className:"px-2 py-1 rounded-md border border-white/10 text-xs hover:bg-white/5",onClick:()=>j(te=>[...te,""]),children:"Add option"}),d.jsx("button",{type:"button",className:"px-2 py-1 rounded-md border border-white/10 text-xs hover:bg-white/5",onClick:()=>j(te=>te.length>2?te.slice(0,-1):te),children:"Remove option"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{type:"button",className:`px-2 py-1 rounded-md border text-sm whitespace-nowrap hover:bg:white/5 ${_?"border-teal-500 text-teal-300 bg-teal-700/15":"border-white/10"}`,onClick:()=>S(te=>!te),children:"Single vote only"}),d.jsxs("label",{className:"text-sm text-[#9fb0b5] whitespace-nowrap",children:["Expiry date",d.jsx("input",{type:"datetime-local",value:C,onChange:te=>T(te.target.value),className:"mt-1 w-60 rounded-md bg-black border border-white/10 px-3 py-2 text-sm focus:border-teal-400/70 outline-none"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-3 py-1.5 rounded-md bg-[#4db6ac] text-black text-sm hover:brightness-110",children:"Create"})})]}):d.jsx("div",{className:"space-y-3",children:f?d.jsx("div",{className:"text-[#9fb0b5]",children:"Loading"}):o.length===0?d.jsx("div",{className:"text-[#9fb0b5]",children:"No active polls."}):o.map(te=>d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035] overflow-hidden",children:[d.jsxs("div",{className:"px-3 py-2 flex items-center gap-2 border-b border-white/10",children:[d.jsx("div",{className:"font-medium flex-1",children:te.question}),d.jsx("button",{title:"Close poll",className:"px-2 py-1 rounded-md border border-red-400 text-red-300 hover:bg-red-500/10",onClick:()=>pe(te.id),children:d.jsx("i",{className:"fa-regular fa-trash-can"})})]}),d.jsx("div",{className:"px-3 py-2 space-y-2",children:te.options?.map(B=>d.jsxs("button",{className:"w-full text-left px-3 py-2 rounded border border-white/10 hover:bg-white/5 flex items-center justify-between",onClick:()=>me(te.id,B.id),children:[d.jsx("span",{children:B.option_text}),d.jsx("span",{className:"text-xs text-[#9fb0b5]",children:B.votes})]},B.id))})]},te.id))})]}),d.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 w-[94%] max-w-[1200px] rounded-2xl border border-white/10 bg-black/80 backdrop-blur shadow-lg",children:d.jsxs("div",{className:"h-14 px-6 flex items-center justify-between text-[#cfd8dc]",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Home",onClick:()=>A.current?.scrollTo({top:0,behavior:"smooth"}),children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Members",onClick:()=>e(`/community/${n}/members`),children:d.jsx("i",{className:"fa-solid fa-users"})}),d.jsx("button",{className:"w-10 h-10 rounded-md bg-[#4db6ac] text-black hover:brightness-110 grid place-items-center","aria-label":"New Post",onClick:()=>e(`/compose?community_id=${n}`),children:d.jsx("i",{className:"fa-solid fa-plus"})}),d.jsx("button",{className:"relative p-2 rounded-full hover:bg-white/5","aria-label":"Announcements",onClick:()=>{ne()},children:d.jsxs("span",{className:"relative inline-block",children:[d.jsx("i",{className:"fa-solid fa-bullhorn",style:R?{color:"#4db6ac"}:void 0}),R?d.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-[#4db6ac] rounded-full"}):null]})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"More",onClick:()=>L(!0),children:d.jsx("i",{className:"fa-solid fa-ellipsis"})})]})}),D&&d.jsx("div",{className:"fixed inset-0 z-[95] bg-black/30 flex items:end justify-end",onClick:te=>te.currentTarget===te.target&&L(!1),children:d.jsxs("div",{className:"w-[75%] max-w-sm mr-2 mb-2 bg:black/80 backdrop-blur border border-white/10 rounded-2xl p-2 space-y-2 transition-transform duration-200 ease-out translate-y-0",children:[d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{L(!1),e(`/community/${n}/polls_react`)},children:"Polls"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg-white/5",onClick:()=>{L(!1),e(`/community/${n}/calendar_react`)},children:"Calendar"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{L(!1),window.location.href=`/community/${n}/resources`},children:"Forum"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{L(!1),window.location.href=`/community/${n}/resources`},children:"Useful Links"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{L(!1),window.location.href="/issues"},children:"Report Issue"}),d.jsx("button",{className:"w-full text-right px-4 py-3 rounded-xl hover:bg:white/5",onClick:()=>{L(!1),window.location.href="/anonymous_feedback"},children:"Anonymous feedback"})]})})]})}function H2(){const{community_id:n}=Jn(),e=ut(),{setTitle:s}=Ht(),[a,l]=N.useState([]),[o,c]=N.useState(!0),[f,h]=N.useState(!1),[m,b]=N.useState(!1),x=N.useRef(null),y=N.useRef(null),v=N.useRef(null),j=N.useRef(null),_=N.useRef(null);N.useEffect(()=>{s("Forum")},[s]),N.useEffect(()=>{let A=!0;async function D(){try{const R=await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json();if(!A)return;if(R?.success){const Y=`ann_last_seen_${n}`,Z=localStorage.getItem(Y),ne=Z?Date.parse(Z):0,G=(R.announcements||[]).some(se=>Date.parse(se.created_at)>ne);b(G)}}catch{}}return D(),()=>{A=!1}},[n]);function S(A){return A?A.startsWith("http")||A.startsWith("/static")?A:`/static/${A}`:null}async function C(){c(!0);try{l([])}finally{c(!1)}}N.useEffect(()=>{C()},[n]);async function T(){const A=y.current?.value.trim()||"",D=v.current?.value.trim()||"",L=j.current?.value||"General",R=_.current?.value||"";if(!A||!D){alert("Title and content are required");return}const Z=await(await fetch(`/community/${n}/resources/create`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:A,content:D,category:L,attachment_url:R})})).json().catch(()=>null);Z?.success?(h(!1),y.current&&(y.current.value=""),v.current&&(v.current.value=""),_.current&&(_.current.value=""),C()):alert(Z?.message||"Failed to create")}async function E(){try{if((await(await fetch(`/get_community_announcements?community_id=${n}`,{credentials:"include"})).json())?.success){try{const L=`ann_last_seen_${n}`;localStorage.setItem(L,new Date().toISOString()),b(!1)}catch{}alert("No UI here: announcements viewed.")}}catch{}}return d.jsxs("div",{className:"h-screen overflow-hidden bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full flex items-center gap-2 px-2",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5",onClick:()=>e(`/community_feed_react/${n}`),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsx("div",{className:"flex-1 font-medium",children:"Forum"})]})}),d.jsxs("div",{ref:x,className:"max-w-2xl mx-auto pt-[70px] h-[calc(100vh-70px)] pb-20 px-3 overflow-y-auto no-scrollbar",children:[d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035]",children:[d.jsxs("div",{className:"px-3 py-2 flex items-center justify-between border-b border-white/10",children:[d.jsx("div",{className:"text-sm font-semibold",children:"Create a Post"}),d.jsx("button",{className:"px-2 py-1 rounded-full bg-[#4db6ac] text-black text-xs hover:brightness-110",onClick:()=>h(A=>!A),children:f?"Close":"New Post"})]}),f&&d.jsxs("div",{className:"p-3 space-y-2",children:[d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Title",d.jsx("input",{ref:y,className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none"})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Category",d.jsxs("select",{ref:j,className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-sm focus:border-teal-400/70 outline-none",children:[d.jsx("option",{children:"General"}),d.jsx("option",{children:"Study Materials"}),d.jsx("option",{children:"Notes"}),d.jsx("option",{children:"Tips & Tricks"}),d.jsx("option",{children:"Questions"}),d.jsx("option",{children:"Announcements"})]})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Content",d.jsx("textarea",{ref:v,className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-[16px] focus:border-teal-400/70 outline-none min-h-[100px]"})]}),d.jsxs("label",{className:"text-xs text-[#9fb0b5]",children:["Attachment URL (optional)",d.jsx("input",{ref:_,className:"mt-1 w-full rounded-md bg-black border border-white/10 px-3 py-2 text-sm focus:border-teal-400/70 outline-none",placeholder:"https://..."})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-3 py-1.5 rounded-md bg-[#4db6ac] text-black text-sm hover:brightness-110",onClick:T,children:"Post"})})]})]}),d.jsx("div",{className:"mt-3 space-y-3",children:o?d.jsx("div",{className:"text-[#9fb0b5]",children:"Loading"}):a.length===0?d.jsx("div",{className:"text-[#9fb0b5]",children:"No posts yet. Be the first to share!"}):a.map(A=>d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035]",children:[d.jsxs("div",{className:"px-3 py-2 border-b border-white/10 flex items-center gap-2",children:[d.jsx(nn,{username:A.username,url:S(A.profile_picture)||void 0,size:32}),d.jsx("div",{className:"font-medium",children:A.title}),d.jsx("div",{className:"text-xs text-[#9fb0b5] ml-auto",children:new Date(A.created_at).toLocaleDateString()})]}),d.jsx("div",{className:"px-3 py-2 text-sm",children:A.content}),A.attachment_url?d.jsx("div",{className:"px-3 pb-3",children:d.jsx("a",{className:"text-teal-300 hover:underline",href:A.attachment_url,target:"_blank",rel:"noreferrer",children:"View Attachment"})}):null]},A.id))})]}),d.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 w-[94%] max-w-[1200px] rounded-2xl border border-white/10 bg-black/80 backdrop-blur shadow-lg",children:d.jsxs("div",{className:"h-14 px-6 flex items-center justify-between text-[#cfd8dc]",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Home",onClick:()=>x.current?.scrollTo({top:0,behavior:"smooth"}),children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Members",onClick:()=>e(`/community/${n}/members`),children:d.jsx("i",{className:"fa-solid fa-users"})}),d.jsx("button",{className:"w-10 h-10 rounded-md bg-[#4db6ac] text-black hover:brightness-110 grid place-items-center","aria-label":"New Post",onClick:()=>e(`/compose?community_id=${n}`),children:d.jsx("i",{className:"fa-solid fa-plus"})}),d.jsx("button",{className:"relative p-2 rounded-full hover:bg-white/5","aria-label":"Announcements",onClick:()=>{E()},children:d.jsxs("span",{className:"relative inline-block",children:[d.jsx("i",{className:"fa-solid fa-bullhorn",style:m?{color:"#4db6ac"}:void 0}),m?d.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-[#4db6ac] rounded-full"}):null]})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"More",onClick:()=>e(`/community_feed_react/${n}`),children:d.jsx("i",{className:"fa-solid fa-ellipsis"})})]})})]})}function V2(){const{community_id:n}=Jn(),{setTitle:e}=Ht(),s=ut(),[a,l]=N.useState([]),[o,c]=N.useState(!0),[f,h]=N.useState("list"),m=N.useRef(null),b=N.useRef(null),x=N.useRef(null);N.useEffect(()=>{e("Useful Links")},[e]);async function y(){c(!0);try{const _=n?`?community_id=${n}`:"",C=await(await fetch(`/get_links${_}`,{credentials:"include"})).json();C?.success&&l(C.links||[])}finally{c(!1)}}N.useEffect(()=>{y()},[n]);async function v(){const _=b.current?.value.trim()||"",S=x.current?.value.trim()||"";if(!_||!S){alert("URL and description are required");return}const C=new URLSearchParams({url:_,description:S});n&&C.append("community_id",String(n));const E=await(await fetch("/add_link",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:C})).json().catch(()=>null);E?.success?(b.current&&(b.current.value=""),x.current&&(x.current.value=""),y()):alert(E?.error||E?.message||"Failed to add link")}async function j(_){const S=new URLSearchParams({link_id:String(_)}),T=await(await fetch("/delete_link",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:S})).json().catch(()=>null);T?.success?l(E=>E.filter(A=>A.id!==_)):alert(T?.error||T?.message||"Failed to delete")}return d.jsxs("div",{className:"h-screen overflow-hidden bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full flex items-center gap-2 px-2",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5",onClick:()=>s(`/community_feed_react/${n||""}`),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsxs("div",{className:"flex-1 h-full flex",children:[d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${f==="list"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>h("list"),children:[d.jsx("div",{className:"pt-2",children:"Useful Links"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${f==="list"?"bg-[#4db6ac]":"bg-transparent"}`})]}),d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${f==="add"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>h("add"),children:[d.jsx("div",{className:"pt-2",children:"Add new Link"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${f==="add"?"bg-[#4db6ac]":"bg-transparent"}`})]})]})]})}),d.jsx("div",{ref:m,className:"max-w-2xl mx-auto pt-[70px] h-[calc(100vh-70px)] pb-20 px-3 overflow-y-auto no-scrollbar",children:f==="add"?d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035] p-3",children:[d.jsx("div",{className:"text-sm font-semibold mb-2",children:"Add a Link"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("input",{ref:b,className:"flex-1 rounded-md bg-black border border-white/10 px-3 py-2 text-sm focus:border-teal-400/70 outline-none",placeholder:"https://..."}),d.jsx("input",{ref:x,className:"flex-1 rounded-md bg-black border border-white/10 px-3 py-2 text-sm focus:border-teal-400/70 outline-none",placeholder:"Description"}),d.jsx("button",{className:"px-3 py-2 rounded-md bg-[#4db6ac] text-black text-sm hover:brightness-110",onClick:v,children:"Add"})]})]}):d.jsx("div",{className:"space-y-2",children:o?d.jsx("div",{className:"text-[#9fb0b5]",children:"Loading"}):a.length===0?d.jsx("div",{className:"text-[#9fb0b5]",children:"No links yet."}):a.map(_=>d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035] p-3",children:[d.jsx("div",{className:"text-teal-300 truncate",children:d.jsx("a",{className:"hover:underline",href:_.url,target:"_blank",rel:"noreferrer",children:_.url})}),d.jsx("div",{className:"text-sm text-[#cfd8dc] truncate",children:_.description}),d.jsx("div",{className:"mt-2 flex justify-end",children:_.can_delete?d.jsx("button",{className:"px-2 py-1 rounded-md border border-white/10 hover:bg-white/5 text-xs",onClick:()=>j(_.id),children:"Delete"}):null})]},_.id))})}),d.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 w-[94%] max-w-[1200px] rounded-2xl border border-white/10 bg-black/80 backdrop-blur shadow-lg",children:d.jsxs("div",{className:"h-14 px-6 flex items-center justify-between text-[#cfd8dc]",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Home",onClick:()=>m.current?.scrollTo({top:0,behavior:"smooth"}),children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5","aria-label":"Members",onClick:()=>s(`/community/${n}/members`),children:d.jsx("i",{className:"fa-solid fa-users"})}),d.jsx("button",{className:"w-10 h-10 rounded-md bg-[#4db6ac] text-black hover:brightness-110 grid place-items-center","aria-label":"New Post",onClick:()=>s(`/compose?community_id=${n}`),children:d.jsx("i",{className:"fa-solid fa-plus"})}),d.jsx("button",{className:"p-2 rounded-full hover:bg:white/5","aria-label":"More",onClick:()=>s(`/community_feed_react/${n||""}`),children:d.jsx("i",{className:"fa-solid fa-ellipsis"})})]})})]})}function m0(n){function e(y){if(/^\d{10,13}$/.test(y.trim())){const C=Number(y),T=new Date(C>1e12?C:C*1e3);return isNaN(T.getTime())?null:T}let v=new Date(y);if(!isNaN(v.getTime())||(v=new Date(y.replace(" ","T")),!isNaN(v.getTime())))return v;const j=y.match(/^(\d{1,2})\.(\d{1,2})\.(\d{2}) (\d{1,2}):(\d{2})$/);if(j){const C=Number(j[1]),T=Number(j[2]),E=Number(j[3]),A=Number(j[4]),D=Number(j[5]),L=new Date(2e3+E,C-1,T,A,D);return isNaN(L.getTime())?null:L}const _=y.match(/^(\d{1,2})\/(\d{1,2})\/(\d{2}) (\d{1,2}):(\d{2}) (AM|PM)$/i);if(_){const C=Number(_[1]),T=Number(_[2]),E=Number(_[3]);let A=Number(_[4]);const D=Number(_[5]),L=_[6].toUpperCase();L==="PM"&&A<12&&(A+=12),L==="AM"&&A===12&&(A=0);const R=new Date(2e3+E,C-1,T,A,D);return isNaN(R.getTime())?null:R}const S=y.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/);if(S){const C=Number(S[1]),T=Number(S[2]),E=Number(S[3]),A=Number(S[4]),D=Number(S[5]),L=S[6]?Number(S[6]):0,R=new Date(C,T-1,E,A,D,L);return isNaN(R.getTime())?null:R}return null}const s=e(n);if(!s)return n;const l=Math.max(0,new Date().getTime()-s.getTime()),o=60*1e3,c=60*o,f=24*c;if(l<c)return`${Math.floor(l/o)}m`;if(l<f)return`${Math.floor(l/c)}h`;const h=Math.floor(l/f);if(h<10)return`${h}d`;const m=String(s.getMonth()+1).padStart(2,"0"),b=String(s.getDate()).padStart(2,"0"),x=String(s.getFullYear()%100).padStart(2,"0");return`${m}/${b}/${x}`}function p0(n){const e=[],s=/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g;let a=0,l;for(;l=s.exec(n);){l.index>a&&e.push(...dd(n.slice(a,l.index)));const m=l[1],b=l[2];e.push(d.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"text-[#4db6ac] underline-offset-2 hover:underline break-words break-all",children:m},`md-${l.index}`)),a=s.lastIndex}const o=n.slice(a),c=/(https?:\/\/[^\s]+|www\.[^\s]+)/g;let f=0,h;for(;h=c.exec(o);){h.index>f&&e.push(...dd(o.slice(f,h.index)));const m=h[0],b=m.startsWith("http")?m:`https://${m}`;e.push(d.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"text-[#4db6ac] underline-offset-2 hover:underline break-words break-all",children:m},`u-${a+h.index}`)),f=c.lastIndex}return f<o.length&&e.push(...dd(o.slice(f))),d.jsx(d.Fragment,{children:e})}function dd(n){const e=n.split(/\n/),s=[];return e.forEach((a,l)=>{l>0&&s.push(d.jsx("br",{},`br-${l}-${a.length}-${Math.random()}`)),a&&s.push(a)}),s}function q2(){const{post_id:n}=Jn(),e=ut(),[s,a]=N.useState(null),[l,o]=N.useState(!0),[c,f]=N.useState(null),[h,m]=N.useState(""),[b,x]=N.useState(null),[y,v]=N.useState(!1);N.useEffect(()=>{let T=!0;async function E(){try{const D=await(await fetch(`/get_post?post_id=${n}`,{credentials:"include"})).json();if(!T)return;D?.success?a(D.post):f(D?.error||"Error")}catch{T&&f("Error loading post")}finally{T&&o(!1)}}return E(),()=>{T=!1}},[n]);async function j(T){if(!s)return;a(L=>{if(!L)return L;const R=L.user_reaction,Y=R===T?null:T,Z={...L.reactions||{}};return R&&(Z[R]=Math.max(0,(Z[R]||0)-1)),Y&&(Z[Y]=(Z[Y]||0)+1),{...L,user_reaction:Y,reactions:Z}});const E=new URLSearchParams({post_id:String(s.id),reaction:T}),D=await(await fetch("/add_reaction",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:E})).json().catch(()=>null);D?.success&&a(L=>L&&{...L,reactions:{...L.reactions,...D.counts},user_reaction:D.user_reaction})}async function _(T,E){const A=new URLSearchParams({reply_id:String(T),reaction:E}),L=await(await fetch("/add_reply_reaction",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:A})).json().catch(()=>null);L?.success&&a(R=>{if(!R)return R;function Y(Z){return Z.map(ne=>ne.id===T?{...ne,reactions:{...ne.reactions,...L.counts},user_reaction:L.user_reaction}:{...ne,children:ne.children?Y(ne.children):ne.children})}return{...R,replies:Y(R.replies)}})}async function S(T){if(!s||!h&&!b)return;const E=new FormData;E.append("post_id",String(s.id)),E.append("content",h),b&&E.append("image",b);const D=await(await fetch("/post_reply",{method:"POST",credentials:"include",body:E})).json().catch(()=>null);D?.success&&D.reply&&(a(L=>L&&{...L,replies:[D.reply,...L.replies]}),m(""),x(null))}async function C(T,E){if(!s||!E)return;const A=new FormData;A.append("post_id",String(s.id)),A.append("content",E),A.append("parent_reply_id",String(T));const L=await(await fetch("/post_reply",{method:"POST",credentials:"include",body:A})).json().catch(()=>null);L?.success&&L.reply&&a(R=>{if(!R)return R;function Y(Z){return Z.map(ne=>{if(ne.id===T){const G=ne.children?[L.reply,...ne.children]:[L.reply];return{...ne,children:G}}return{...ne,children:ne.children?Y(ne.children):ne.children}})}return{...R,replies:Y(R.replies)}})}return l?d.jsx("div",{className:"p-4 text-[#9fb0b5]",children:"Loading"}):c||!s?d.jsx("div",{className:"p-4 text-red-400",children:c||"Error"}):d.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[d.jsxs("div",{className:"fixed left-0 right-0 top-0 h-12 border-b border-white/10 bg-black/70 backdrop-blur flex items-center px-3 z-40",children:[d.jsx("button",{className:"px-3 py-2 rounded-full text-[#cfd8dc] hover:text-[#4db6ac]",onClick:()=>e(-1),children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsx("div",{className:"ml-2 font-semibold",children:"Post"})]}),d.jsxs("div",{className:"max-w-2xl mx-auto pt-14 px-3",children:[d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035] shadow-sm shadow-black/20",children:[d.jsxs("div",{className:"px-3 py-2 border-b border-white/10 flex items-center gap-2",children:[d.jsx(nn,{username:s.username,url:s.profile_picture||void 0,size:32}),d.jsx("div",{className:"font-medium",children:s.username}),d.jsx("div",{className:"text-xs text-[#9fb0b5] ml-auto",children:m0(s.timestamp)})]}),d.jsxs("div",{className:"px-3 py-2 space-y-2",children:[d.jsx("div",{className:"whitespace-pre-wrap text-[14px] break-words break-all",children:p0(s.content)}),s.image_path?d.jsx("img",{src:s.image_path.startsWith("/uploads")||s.image_path.startsWith("/static")?s.image_path:`/uploads/${s.image_path}`,alt:"",className:"block mx-auto max-w-full max-h-[360px] rounded border border-white/10"}):null,d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx(ea,{icon:"fa-regular fa-heart",count:s.reactions?.heart||0,active:s.user_reaction==="heart",onClick:()=>j("heart")}),d.jsx(ea,{icon:"fa-regular fa-thumbs-up",count:s.reactions?.["thumbs-up"]||0,active:s.user_reaction==="thumbs-up",onClick:()=>j("thumbs-up")}),d.jsx(ea,{icon:"fa-regular fa-thumbs-down",count:s.reactions?.["thumbs-down"]||0,active:s.user_reaction==="thumbs-down",onClick:()=>j("thumbs-down")})]})]})]}),d.jsx("div",{className:"mt-3 rounded-2xl border border-white/10",children:s.replies.map(T=>d.jsx(g0,{reply:T,onToggle:(E,A)=>_(E,A),onInlineReply:(E,A)=>C(E,A)},T.id))})]}),d.jsx("div",{className:"fixed left-0 right-0 bottom-0 z-50 bg-black/85 border-t border-white/10 backdrop-blur",children:d.jsxs("div",{className:"px-3 py-2 flex flex-col gap-1.5",children:[d.jsx("textarea",{className:"w-full resize-none max-h-36 min-h-[30px] px-3 py-1.5 rounded-2xl bg-black border border-[#4db6ac] text-[16px] focus:outline-none focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Write a reply",value:h,onChange:T=>m(T.target.value),onFocus:()=>v(!0),onBlur:()=>{!h&&!b&&v(!1)}}),y||h||b?d.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[d.jsxs("label",{className:"px-2.5 py-1.5 rounded-full border border-white/10 text-xs text-[#9fb0b5] hover:border-[#2a3f41] cursor-pointer",children:[d.jsx("i",{className:"fa-regular fa-image",style:{color:"#4db6ac"}}),d.jsx("input",{type:"file",accept:"image/*",onChange:T=>x(T.target.files?.[0]||null),style:{display:"none"}})]}),/(https?:\/\/[^\s]+|www\.[^\s]+)/.test(h)?d.jsx("button",{className:"px-2.5 py-1.5 rounded-full border border-white/10 text-xs text-[#9fb0b5] hover:border-[#2a3f41] break-words",onClick:()=>{const T=h.match(/(https?:\/\/[^\s]+|www\.[^\s]+)/);if(!T)return;const E=T[0],L=`[${window.prompt("Link text",E)||E}](${E})`;m(h.replace(E,L))},children:"Link name"}):null,d.jsx("button",{className:"px-2.5 py-1.5 rounded-full bg-[#4db6ac] text-white border border-[#4db6ac] hover:brightness-110",onClick:()=>S(),"aria-label":"Send reply",children:d.jsx("i",{className:"fa-solid fa-paper-plane"})})]}):null]})})]})}function ea({icon:n,count:e,active:s,onClick:a}){const[l,o]=N.useState(!1),c=s?{color:"#4db6ac",WebkitTextStroke:"1px #4db6ac"}:{color:"#6c757d"},f=()=>{o(!0);try{a()}finally{setTimeout(()=>o(!1),140)}};return d.jsxs("button",{className:"px-2 py-1 rounded transition-colors",onClick:f,children:[d.jsx("i",{className:`${n} ${l?"scale-125":"scale-100"} transition-transform duration-150`,style:c}),d.jsx("span",{className:"ml-1",style:{color:s?"#cfe9e7":"#9fb0b5"},children:e})]})}function g0({reply:n,depth:e=0,onToggle:s,onInlineReply:a}){const[l,o]=N.useState(!1),[c,f]=N.useState(""),h=28;return d.jsxs("div",{className:"border-b border-white/10 py-2",children:[d.jsxs("div",{className:"relative flex items-start gap-2 px-3",children:[d.jsxs("div",{className:"relative w-10 flex-shrink-0",children:[e>0?d.jsx("div",{className:"absolute",style:{left:"50%",transform:"translateX(-0.5px)",top:0,height:`calc(50% - ${h/2}px)`,width:"1px",background:"rgba(255,255,255,0.15)",borderRadius:"9999px"}}):null,n.children&&n.children.length?d.jsx("div",{className:"absolute",style:{left:"50%",transform:"translateX(-0.5px)",top:`calc(50% + ${h/2}px)`,bottom:0,width:"1px",background:"rgba(255,255,255,0.15)",borderRadius:"9999px"}}):null,d.jsx(nn,{username:n.username,url:n.profile_picture||void 0,size:28})]}),d.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"font-medium",children:n.username}),d.jsx("div",{className:"text-[11px] text-[#9fb0b5] ml-auto",children:m0(n.timestamp)})]}),d.jsx("div",{className:"text-[#dfe6e9] whitespace-pre-wrap mt-0.5 break-words break-all",children:p0(n.content)}),d.jsxs("div",{className:"mt-1 flex items-center gap-2 text-[11px]",children:[d.jsx(ea,{icon:"fa-regular fa-heart",count:n.reactions?.heart||0,active:n.user_reaction==="heart",onClick:()=>s(n.id,"heart")}),d.jsx(ea,{icon:"fa-regular fa-thumbs-up",count:n.reactions?.["thumbs-up"]||0,active:n.user_reaction==="thumbs-up",onClick:()=>s(n.id,"thumbs-up")}),d.jsx(ea,{icon:"fa-regular fa-thumbs-down",count:n.reactions?.["thumbs-down"]||0,active:n.user_reaction==="thumbs-down",onClick:()=>s(n.id,"thumbs-down")}),d.jsx("button",{className:"ml-2 px-2 py-1 rounded-full text-[#9fb0b5] hover:text-[#4db6ac]",onClick:()=>o(m=>!m),children:"Reply"})]}),l?d.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.jsx("input",{className:"flex-1 px-3 py-1.5 rounded-full bg-black border border-[#4db6ac] text-[16px] focus:outline-none focus:ring-1 focus:ring-[#4db6ac]",value:c,onChange:m=>f(m.target.value),placeholder:`Reply to @${n.username}`}),d.jsx("button",{className:"px-2.5 py-1.5 rounded-full bg-[#4db6ac] text-white border border-[#4db6ac] hover:brightness-110",onClick:()=>{c&&(a(n.id,c),f(""),o(!1))},"aria-label":"Send reply",children:d.jsx("i",{className:"fa-solid fa-paper-plane"})})]}):null]})]}),n.children&&n.children.length?n.children.map(m=>d.jsx(g0,{reply:m,depth:Math.min(e+1,3),onToggle:s,onInlineReply:a},m.id)):null]})}function Y2(){const[n]=V1(),e=ut(),s=n.get("community_id")||"",[a,l]=N.useState(""),[o,c]=N.useState(null);async function f(){if(!a&&!o)return;const h=new FormData;h.append("content",a),s&&h.append("community_id",s),o&&h.append("image",o),await fetch("/post_status",{method:"POST",credentials:"include",body:h}),e(s?`/community_feed_react/${s}`:-1)}return d.jsxs("div",{className:"min-h-screen bg-black text-white pb-20",children:[d.jsxs("div",{className:"fixed left-0 right-0 top-0 h-12 border-b border-white/10 bg-black/70 backdrop-blur flex items-center px-3 z-40",children:[d.jsx("button",{className:"px-3 py-2 rounded-full text-[#cfd8dc] hover:text-[#4db6ac]",onClick:()=>e(-1),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsx("div",{className:"ml-2 font-semibold",children:"Create Post"})]}),d.jsxs("div",{className:"max-w-2xl mx-auto pt-14 px-3",children:[d.jsx("textarea",{className:"w-full min-h-[180px] p-3 rounded-xl bg-black border border-white/10 text-sm focus:outline-none focus:ring-1 focus:ring-[#4db6ac]",placeholder:"What's happening?",value:a,onChange:h=>l(h.target.value)}),o?d.jsx("div",{className:"mt-3 rounded-xl overflow-hidden border border-white/10",children:d.jsx("img",{src:URL.createObjectURL(o),alt:"preview",className:"w-full h-auto"})}):null]}),d.jsx("div",{className:"fixed left-0 right-0 bottom-0 h-16 border-t border-white/10 bg-black/85 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full px-4 flex items-center justify-between",children:[d.jsxs("label",{className:"px-3 py-2 rounded-full hover:bg-white/5 cursor-pointer","aria-label":"Add image",children:[d.jsx("i",{className:"fa-regular fa-image",style:{color:"#4db6ac"}}),d.jsx("input",{type:"file",accept:"image/*",onChange:h=>c(h.target.files?.[0]||null),style:{display:"none"}})]}),d.jsx("button",{className:"px-4 py-2 rounded-full bg-[#4db6ac] text-black",onClick:f,children:"Post"})]})})]})}function F2(){const{community_id:n}=Jn(),e=ut(),[s,a]=N.useState([]),[l,o]=N.useState(""),[c,f]=N.useState(!0),[h,m]=N.useState(null),[b,x]=N.useState(!1),[y,v]=N.useState("");N.useEffect(()=>{let _=!0;async function S(){f(!0);try{try{const E=new URLSearchParams({community_id:String(n)}),D=await(await fetch("/get_community_members",{method:"POST",credentials:"include",body:E})).json();if(_&&D){const L=D.current_user_role||"member";v(D.creator_username||""),x(!!(L==="app_admin"||L==="owner"||L==="admin"))}}catch{}const T=await(await fetch(`/community/${n}/members/list`,{credentials:"include"})).json();if(!_)return;T?.success?(a(T.members||[]),T.community_code&&o(T.community_code),m(null)):m(T?.message||T?.error||"Error loading members")}catch{_&&m("Error loading members")}finally{_&&f(!1)}}return S(),()=>{_=!1}},[n]);async function j(_){if(!confirm(`Remove @${_} from this community?`))return;const C=new URLSearchParams({community_id:String(n),username:_}),E=await(await fetch("/remove_community_member",{method:"POST",credentials:"include",body:C})).json().catch(()=>null);if(E?.success)try{const D=await(await fetch(`/community/${n}/members/list`,{credentials:"include"})).json();D?.success&&a(D.members||[])}catch{}else alert(E?.error||"Unable to remove member")}return d.jsxs("div",{className:"min-h-screen bg-black text-white",children:[d.jsxs("div",{className:"fixed left-0 right-0 top-14 h-12 border-b border-white/10 bg-black/70 backdrop-blur flex items-center px-3 z-40",children:[d.jsx("button",{className:"px-3 py-2 rounded-full text-[#cfd8dc] hover:text-[#4db6ac]",onClick:()=>e(`/community_feed_react/${n}`),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsx("div",{className:"ml-auto text-xs text-[#9fb0b5]",children:l?d.jsxs("span",{children:["Community Code: ",d.jsx("span",{className:"font-mono text-white",children:l})]}):null})]}),d.jsx("div",{className:"max-w-2xl mx-auto pt-28 px-3 pb-6",children:c?d.jsx("div",{className:"text-[#9fb0b5]",children:"Loading"}):h?d.jsx("div",{className:"text-red-400",children:h}):d.jsx("div",{className:"space-y-2",children:s.length===0?d.jsx("div",{className:"text-[#9fb0b5]",children:"No members."}):s.map((_,S)=>d.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-xl bg-white/[0.03]",children:[d.jsx(nn,{username:_.username,url:_.profile_picture||void 0,size:36}),d.jsx("div",{className:"font-medium",children:_.username}),b&&_.username!==y?d.jsx("button",{className:"ml-auto p-2 rounded-full hover:bg-white/5",title:"Remove member",onClick:()=>j(_.username),children:d.jsx("i",{className:"fa-regular fa-trash-can",style:{color:"#d9534f"}})}):null]},S))})})]})}function X2(){const{community_id:n}=Jn(),e=ut(),[s,a]=N.useState(""),[l,o]=N.useState("public"),[c,f]=N.useState(null),[h,m]=N.useState(!0),[b,x]=N.useState(null),[y,v]=N.useState(!1),[j,_]=N.useState(!1),S=N.useRef(null);N.useEffect(()=>{let E=!0;async function A(){try{const D=new URLSearchParams({community_id:String(n)}),R=await(await fetch("/get_community_members",{method:"POST",credentials:"include",body:D})).json();if(!E)return;const Y=R?.current_user_role,Z=Y==="owner"||Y==="app_admin",ne=Y==="owner";if(v(!!Z),_(!!ne),!Z){x("You do not have permission to manage this community."),m(!1);return}const se=await(await fetch(`/api/community_feed/${n}`,{credentials:"include"})).json().catch(()=>null);se?.success&&se.community&&(a(se.community.name||""),o(se.community.type||"public")),m(!1)}catch{E&&(x("Failed to load community"),m(!1))}}return A(),()=>{E=!1}},[n]);async function C(E){if(E.preventDefault(),!y)return;const A=new FormData;A.append("community_id",String(n)),A.append("name",s.trim()),A.append("type",l),c&&A.append("background_file",c);const L=await(await fetch("/update_community",{method:"POST",credentials:"include",body:A})).json().catch(()=>null);L?.success?e(`/community_feed_react/${n}`):alert(L?.error||"Failed to update community")}async function T(){if(j&&window.confirm("Are you sure you want to delete this community? This action cannot be undone."))try{const E=new URLSearchParams({community_id:String(n)}),D=await(await fetch("/delete_community",{method:"POST",credentials:"include",body:E})).json().catch(()=>null);D?.success?(alert("Community deleted successfully"),e("/communities_react")):alert(D?.error||"Failed to delete community")}catch{alert("Failed to delete community")}}return h?d.jsx("div",{className:"p-4 text-[#9fb0b5]",children:"Loading"}):b?d.jsx("div",{className:"p-4 text-red-400",children:b}):y?d.jsxs("div",{className:"min-h-screen bg-black text-white",children:[d.jsxs("div",{className:"fixed left-0 right-0 top-0 h-12 border-b border-white/10 bg-black/70 backdrop-blur flex items-center px-3 z-40",children:[d.jsx("button",{className:"px-3 py-2 rounded-full text-[#cfd8dc] hover:text-[#4db6ac]",onClick:()=>e(-1),children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsx("div",{className:"ml-2 font-semibold",children:"Manage Community"})]}),d.jsxs("div",{className:"max-w-2xl mx-auto pt-14 px-3 pb-24",children:[d.jsxs("form",{ref:S,onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-[#9fb0b5] mb-1",children:"Community name"}),d.jsx("input",{className:"w-full rounded-md bg-black border border-white/15 px-3 py-2 text-[16px] focus:border-[#4db6ac] outline-none",value:s,onChange:E=>a(E.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-[#9fb0b5] mb-1",children:"Community type"}),d.jsxs("select",{className:"w-full rounded-md bg-black border border-white/15 px-3 py-2 text-[16px] focus:border-[#4db6ac] outline-none",value:l,onChange:E=>o(E.target.value),children:[d.jsx("option",{value:"public",children:"Public"}),d.jsx("option",{value:"private",children:"Private"}),d.jsx("option",{value:"closed",children:"Closed"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-[#9fb0b5] mb-1",children:"Community image"}),d.jsx("input",{type:"file",accept:"image/*",onChange:E=>f(E.target.files?.[0]||null),className:"block w-full text-sm"})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",className:"px-3 py-2 rounded-md border border-white/10 hover:bg-white/5",onClick:()=>e(-1),children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-3 py-2 rounded-md bg-[#4db6ac] text-black hover:brightness-110",children:"Save Changes"})]})]}),j&&d.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:d.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Danger Zone"}),d.jsx("p",{className:"text-sm text-[#9fb0b5] mb-4",children:"Deleting this community will permanently remove all posts, messages, and member data. This action cannot be undone."}),d.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md font-medium transition-colors",children:"Delete Community"})]})})]})]}):d.jsx("div",{className:"p-4 text-[#9fb0b5]",children:"No access."})}function G2(){const n=ut(),{setTitle:e}=Ht(),[s,a]=N.useState(null),[l,o]=N.useState([]),[c,f]=N.useState(!0),[h,m]=N.useState(null),[b,x]=N.useState(null);return N.useEffect(()=>{if(!document.getElementById("legacy-styles")){const v=document.createElement("link");v.id="legacy-styles",v.rel="stylesheet",v.href="/static/styles.css",document.head.appendChild(v)}},[]),N.useEffect(()=>{let y=!0;async function v(){f(!0);try{try{const C=await(await fetch("/api/home_timeline",{credentials:"include"})).json();y&&C?.success&&a({username:C.username,current_user_profile_picture:C.current_user_profile_picture})}catch{}const _=await(await fetch("/api/user_communities_hierarchical",{credentials:"include"})).json();if(!y)return;_?.success?(o(_.communities||[]),m(null)):m(_?.error||"Error loading communities")}catch{y&&m("Error loading communities")}finally{y&&f(!1)}}return v(),()=>{y=!1}},[]),N.useEffect(()=>{e("Community Management")},[e]),d.jsxs("div",{className:"h-screen overflow-hidden bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full flex",children:[d.jsxs("button",{type:"button",className:"flex-1 text-center text-sm font-medium text-[#9fb0b5] hover:text-white/90",onClick:()=>n("/home"),children:[d.jsx("div",{className:"pt-2",children:"Home Timeline"}),d.jsx("div",{className:"h-0.5 bg-transparent rounded-full w-16 mx-auto mt-1"})]}),d.jsxs("button",{type:"button",className:"flex-1 text-center text-sm font-medium text-white/95",children:[d.jsx("div",{className:"pt-2",children:"Community Management"}),d.jsx("div",{className:"h-0.5 bg-[#4db6ac] rounded-full w-16 mx-auto mt-1"})]})]})}),d.jsx("div",{className:"max-w-2xl mx-auto pt-[70px] h-[calc(100vh-70px)] pb-6 px-3 overflow-y-auto no-scrollbar",children:c?d.jsx("div",{className:"text-[#9fb0b5]",children:"Loading"}):h?d.jsx("div",{className:"text-red-400",children:h}):d.jsxs("div",{className:"space-y-3",children:[d.jsx($2,{onJoined:()=>{window.location.reload()}}),l.length===0?d.jsx("div",{className:"text-[#9fb0b5]",children:"You are not a member of any communities."}):l.map(y=>d.jsxs("div",{className:"space-y-2",children:[d.jsx(Hb,{community:y,isSwipedOpen:b===y.id,onSwipe:v=>x(v?y.id:null),onEnter:()=>{const v=navigator.userAgent||"";/Mobi|Android|iPhone|iPad/i.test(v)||window.innerWidth<768?n(`/community_feed_react/${y.id}`):window.location.href=`/community_feed/${y.id}`},onLeave:async()=>{const v=new URLSearchParams({community_id:String(y.id)}),_=await(await fetch("/leave_community",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v})).json().catch(()=>null);_?.success?window.location.reload():alert(_?.error||"Error leaving community")}}),y.children&&y.children.length>0&&d.jsx("div",{className:"ml-6 space-y-2",children:y.children.map(v=>d.jsx(Hb,{community:v,isSwipedOpen:b===v.id,onSwipe:j=>x(j?v.id:null),onEnter:()=>{const j=navigator.userAgent||"";/Mobi|Android|iPhone|iPad/i.test(j)||window.innerWidth<768?n(`/community_feed_react/${v.id}`):window.location.href=`/community_feed/${v.id}`},onLeave:async()=>{const j=new URLSearchParams({community_id:String(v.id)}),S=await(await fetch("/leave_community",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:j})).json().catch(()=>null);S?.success?window.location.reload():alert(S?.error||"Error leaving community")},isChild:!0},v.id))})]},y.id))]})})]})}function Hb({community:n,isSwipedOpen:e,onSwipe:s,onEnter:a,onLeave:l,isChild:o=!1}){const[c,f]=N.useState(0),[h,m]=N.useState(!1),b=N.useRef(0),x=S=>{b.current=S.touches[0].clientX,m(!0),f(e?-80:0)},y=S=>{if(!h)return;const T=S.touches[0].clientX-b.current,E=Math.min(0,T+(e?-80:0));f(E)},v=()=>{if(!h)return;m(!1);const S=c<-40;s(S),f(0)},j=()=>{e?s(!1):Math.abs(c)<10&&a()},_=async S=>{if(S.stopPropagation(),window.confirm(`Are you sure you want to leave ${n.name}?`))try{await l()}catch(C){console.error("Error leaving community:",C),alert("Failed to leave community. Please try again.")}};return d.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl transition-all duration-200 bg-black ${e||c<-10?"border-2 border-[#4db6ac]":"border border-white/10"}`,children:[d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:d.jsx("button",{className:"h-full w-20 bg-red-500/20 text-red-400 flex items-center justify-center hover:bg-red-500/30 transition-all duration-200 rounded-r-2xl",onClick:_,style:{opacity:e||c<-20?1:0,transform:`translateX(${e?"0":"100%"})`,transition:h?"none":"all 0.2s ease-out"},children:d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsx("i",{className:"fa-solid fa-user-minus text-sm"}),d.jsx("span",{className:"text-xs font-medium",children:"Leave"})]})})}),d.jsxs("div",{className:`w-full px-3 py-3 hover:bg-white/[0.03] flex items-center justify-between cursor-pointer bg-black ${o?"pl-4":""}`,style:{transform:`translateX(${h?c:e?-80:0}px)`,transition:h?"none":"transform 0.2s ease-out"},onTouchStart:x,onTouchMove:y,onTouchEnd:v,onTouchCancel:v,onClick:j,children:[d.jsxs("div",{className:"flex-1 flex items-center",children:[o&&d.jsx("div",{className:"w-4 h-4 mr-2 flex items-center justify-center",children:d.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4db6ac]"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-white",children:n.name}),d.jsx("div",{className:"text-xs text-[#9fb0b5]",children:n.type||"Community"})]})]}),d.jsx("div",{className:"text-[#4db6ac]",children:d.jsx("i",{className:"fa-solid fa-chevron-right"})})]})]})}function $2({onJoined:n}){const[e,s]=N.useState(""),a=async()=>{if(!e.trim())return;const l=new URLSearchParams({community_code:e.trim()}),c=await(await fetch("/join_community",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})).json().catch(()=>null);c?.success?n():alert(c?.error||"Invalid code")};return d.jsx("div",{className:"w-full flex items-center justify-center",children:d.jsxs("div",{className:"w-[80%] max-w-md flex items-center gap-2",children:[d.jsx("input",{value:e,onChange:l=>s(l.target.value),placeholder:"Enter join code",className:"flex-1 px-3 py-2 bg-black border border-[#666] text-white placeholder-[#888] focus:outline-none rounded-md"}),d.jsx("button",{"aria-label":"Join",title:"Join",onClick:a,className:"w-10 h-10 rounded-full hover:bg-white/5 text-white flex items-center justify-center",children:d.jsx("i",{className:"fa-solid fa-user-plus",style:{color:"#22d3c7"}})})]})})}function Q2(n){function e(y){if(/^\d{10,13}$/.test(y.trim())){const C=Number(y),T=new Date(C>1e12?C:C*1e3);return isNaN(T.getTime())?null:T}let v=new Date(y);if(!isNaN(v.getTime())||(v=new Date(y.replace(" ","T")),!isNaN(v.getTime())))return v;const j=y.match(/^(\d{1,2})\.(\d{1,2})\.(\d{2}) (\d{1,2}):(\d{2})$/);if(j){const C=Number(j[1]),T=Number(j[2]),E=Number(j[3]),A=Number(j[4]),D=Number(j[5]),L=2e3+E,R=new Date(L,C-1,T,A,D);return isNaN(R.getTime())?null:R}const _=y.match(/^(\d{1,2})\/(\d{1,2})\/(\d{2}) (\d{1,2}):(\d{2}) (AM|PM)$/i);if(_){const C=Number(_[1]),T=Number(_[2]),E=Number(_[3]);let A=Number(_[4]);const D=Number(_[5]),L=_[6].toUpperCase();L==="PM"&&A<12&&(A+=12),L==="AM"&&A===12&&(A=0);const R=2e3+E,Y=new Date(R,C-1,T,A,D);return isNaN(Y.getTime())?null:Y}const S=y.match(/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})(?::(\d{2}))?$/);if(S){const C=Number(S[1]),T=Number(S[2]),E=Number(S[3]),A=Number(S[4]),D=Number(S[5]),L=S[6]?Number(S[6]):0,R=new Date(C,T-1,E,A,D,L);return isNaN(R.getTime())?null:R}return null}const s=e(n);if(!s)return n;let l=new Date().getTime()-s.getTime();l<0&&(l=0);const o=60*1e3,c=60*o,f=24*c;if(l<c)return`${Math.floor(l/o)}m`;if(l<f)return`${Math.floor(l/c)}h`;const h=Math.floor(l/f);if(h<10)return`${h}d`;const m=String(s.getMonth()+1).padStart(2,"0"),b=String(s.getDate()).padStart(2,"0"),x=String(s.getFullYear()%100).padStart(2,"0");return`${m}/${b}/${x}`}function W2(){const n=ut(),[e,s]=N.useState(null),[a,l]=N.useState(!0),[o,c]=N.useState(null);N.useEffect(()=>{let m=document.getElementById("legacy-styles");m||(m=document.createElement("link"),m.id="legacy-styles",m.rel="stylesheet",m.href="/static/styles.css",document.head.appendChild(m))},[]),N.useEffect(()=>{let m=!0;async function b(){l(!0);try{const y=await(await fetch("/api/home_timeline",{credentials:"include"})).json();if(!m)return;y?.success?s(y):c(y?.error||"Error")}catch{m&&c("Error loading")}finally{m&&l(!1)}}return b(),()=>{m=!1}},[]);const f=N.useMemo(()=>e?.posts||[],[e]),{setTitle:h}=Ht();return N.useEffect(()=>{h("Home")},[h]),d.jsxs("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-2xl mx-auto h-full flex",children:[d.jsxs("button",{type:"button",className:"flex-1 text-center text-sm font-medium text-white/95",children:[d.jsx("div",{className:"pt-2",children:"Home timeline"}),d.jsx("div",{className:"h-0.5 bg-[#4db6ac] rounded-full w-16 mx-auto mt-1"})]}),d.jsxs("button",{type:"button",className:"flex-1 text-center text-sm font-medium text-[#9fb0b5] hover:text-white/90",onClick:()=>n("/communities"),children:[d.jsx("div",{className:"pt-2",children:"Communities"}),d.jsx("div",{className:"h-0.5 bg-transparent rounded-full w-16 mx-auto mt-1"})]})]})}),d.jsx("div",{className:"h-full max-w-2xl mx-auto overflow-y-auto px-3 pb-24",style:{WebkitOverflowScrolling:"touch",paddingTop:"40px"},children:a?d.jsx("div",{className:"p-3 text-[#9fb0b5]",children:"Loading"}):o?d.jsx("div",{className:"p-3 text-red-400",children:o}):f.length===0?d.jsx("div",{className:"p-3 text-[#9fb0b5]",children:"No recent posts in the last 48h."}):d.jsx("div",{className:"space-y-3",children:f.map(m=>d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.035] shadow-sm shadow-black/20 cursor-pointer",onClick:()=>n(`/post/${m.id}`),children:[d.jsxs("div",{className:"px-3 py-2 border-b border-white/10 flex items-center gap-2",onClick:b=>b.stopPropagation(),children:[d.jsx(nn,{username:m.username,url:m.profile_picture||void 0,size:32}),d.jsx("div",{className:"min-w-0 flex-1",children:d.jsxs("div",{className:"flex items-baseline gap-2 min-w-0",children:[d.jsx("div",{className:"font-medium tracking-[-0.01em] truncate",children:m.username}),m.community_name?d.jsxs("div",{className:"text-xs text-[#9fb0b5] truncate",children:["in ",m.community_name]}):null]})}),d.jsx("div",{className:"text-xs text-[#9fb0b5] ml-auto tabular-nums",children:Q2(m.display_timestamp||m.timestamp)})]}),d.jsxs("div",{className:"px-3 py-2 space-y-2",children:[d.jsx("div",{className:"whitespace-pre-wrap text-[14px] leading-relaxed",children:m.content}),m.image_path?d.jsx("img",{src:m.image_path.startsWith("/uploads")||m.image_path.startsWith("/static")?m.image_path:`/uploads/${m.image_path}`,alt:"",className:"block mx-auto max-w-full max-h-[360px] rounded border border-white/10"}):null,d.jsx("div",{className:"flex items-center gap-3 text-xs",children:d.jsxs("button",{className:"ml-auto px-2.5 py-1 rounded-full text-[#cfd8dc]",onClick:b=>{b.stopPropagation(),n(`/post/${m.id}`)},children:[d.jsx("i",{className:"fa-regular fa-comment"}),d.jsx("span",{className:"ml-1",children:m.replies_count||0})]})})]})]},m.id))})})]})}const b0="label";function Vb(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function K2(n,e){const s=n.options;s&&e&&Object.assign(s,e)}function x0(n,e){n.labels=e}function y0(n,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b0;const a=[];n.datasets=e.map(l=>{const o=n.datasets.find(c=>c[s]===l[s]);return!o||!l.data||a.includes(o)?{...l}:(a.push(o),Object.assign(o,l),o)})}function Z2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b0;const s={labels:[],datasets:[]};return x0(s,n.labels),y0(s,n.datasets,e),s}function I2(n,e){const{height:s=150,width:a=300,redraw:l=!1,datasetIdKey:o,type:c,data:f,options:h,plugins:m=[],fallbackContent:b,updateMode:x,...y}=n,v=N.useRef(null),j=N.useRef(null),_=()=>{v.current&&(j.current=new aa(v.current,{type:c,data:Z2(f,o),options:h&&{...h},plugins:m}),Vb(e,j.current))},S=()=>{Vb(e,null),j.current&&(j.current.destroy(),j.current=null)};return N.useEffect(()=>{!l&&j.current&&h&&K2(j.current,h)},[l,h]),N.useEffect(()=>{!l&&j.current&&x0(j.current.config.data,f.labels)},[l,f.labels]),N.useEffect(()=>{!l&&j.current&&f.datasets&&y0(j.current.config.data,f.datasets,o)},[l,f.datasets]),N.useEffect(()=>{j.current&&(l?(S(),setTimeout(_)):j.current.update(x))},[l,h,f.labels,f.datasets,x]),N.useEffect(()=>{j.current&&(S(),setTimeout(_))},[c]),N.useEffect(()=>(_(),()=>S()),[]),yo.createElement("canvas",{ref:v,role:"img",height:s,width:a,...y},b)}const J2=N.forwardRef(I2);function eM(n,e){return aa.register(e),N.forwardRef((s,a)=>yo.createElement(J2,{...s,ref:a,type:n}))}const tM=eM("line",Vx);aa.register(d0,f0,u0,o0,e0,El);function nM(){const{setTitle:n}=Ht();N.useEffect(()=>{n("Your Workouts")},[n]);const[e,s]=N.useState("performance"),[a,l]=N.useState(!1),[o,c]=N.useState(""),[f,h]=N.useState(""),[m,b]=N.useState(""),[x,y]=N.useState(""),[v,j]=N.useState(()=>new Date().toISOString().slice(0,10)),[_,S]=N.useState([]),[C,T]=N.useState([]),[E,A]=N.useState([]),[D,L]=N.useState([]),[R,Y]=N.useState(""),[Z,ne]=N.useState("30"),[G,se]=N.useState(""),[me,pe]=N.useState(""),[te,B]=N.useState([]),[X,ie]=N.useState({}),[le,k]=N.useState(!1),[P,$]=N.useState(""),[J,ae]=N.useState(""),[de,re]=N.useState([]),[at,Oe]=N.useState(""),[Bt,ts]=N.useState(""),[sn,ns]=N.useState(()=>new Date().toISOString().slice(0,10)),[ee,we]=N.useState(!1),[je,xe]=N.useState(""),[ye,Be]=N.useState(()=>new Date().toISOString().slice(0,10));N.useEffect(()=>{fetch("/get_workout_exercises",{credentials:"include"}).then(Q=>Q.json()).then(Q=>{Q?.success&&Array.isArray(Q.exercises)&&S(Q.exercises)}).catch(()=>{}),fetch("/get_workouts",{credentials:"include"}).then(Q=>Q.json()).then(Q=>{Q?.success&&Array.isArray(Q.workouts)&&T(Q.workouts)}).catch(()=>{}),fetch("/get_user_communities",{credentials:"include"}).then(Q=>Q.json()).then(Q=>{Q?.success&&Array.isArray(Q.communities)&&A(Q.communities)}).catch(()=>{}),fetch("/get_user_exercises",{credentials:"include"}).then(Q=>Q.json()).then(Q=>{Q?.success&&Array.isArray(Q.exercises)&&L(Q.exercises)}).catch(()=>{})},[]),N.useEffect(()=>{e==="exercise"&&ie({})},[e]);function $e(){c(""),h(""),b(""),y(""),j(new Date().toISOString().slice(0,10)),l(!0)}async function Pe(){if(!o||!f||!m||!x||!v){alert("Please fill in all fields");return}try{const fe=new Date(v),Ce=new Date;if(Ce.setHours(23,59,59,999),fe>Ce){alert("Cannot log exercises for future dates.");return}}catch{}const Q=new URLSearchParams({name:o,muscle_group:f,weight:m,reps:x,date:v}),oe=await(await fetch("/add_exercise",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q})).json().catch(()=>null);oe?.success?(l(!1),fetch("/get_workout_exercises",{credentials:"include"}).then(fe=>fe.json()).then(fe=>{fe?.success&&Array.isArray(fe.exercises)&&S(fe.exercises)}).catch(()=>{})):alert(oe?.error||"Error adding exercise")}const We=N.useMemo(()=>{const Q={};for(const Se of _){const oe=Se.muscle_group||"Other";Q[oe]||(Q[oe]=[]),Q[oe].push(Se)}return Q},[_]),vn=N.useMemo(()=>{if(!R||!_.length)return{labels:[],datasets:[]};const Se=_.find(Ke=>Ke.id===R)?.sets_data||[],oe={};for(const Ke of Se){const Ye=String(Ke.created_at||Ke.date||"").slice(0,10);if(!Ye)continue;const Ze=Number(Ke.weight||0);(!(Ye in oe)||Ze>oe[Ye])&&(oe[Ye]=Ze)}const Ce=Object.keys(oe).sort().slice(-15),vt=Ce.map(Ke=>fd(Ke)),Mt=Ce.map(Ke=>oe[Ke]);return{labels:vt,datasets:[{label:"Weight (kg)",data:Mt,borderColor:"#4db6ac",backgroundColor:"rgba(77,182,172,0.15)",pointRadius:3,pointHoverRadius:4,tension:.35,fill:!0}]}},[R,_]),et=N.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{color:"rgba(255,255,255,0.08)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{usePointStyle:!1,useLineStyle:!0,boxWidth:30,boxHeight:2}}}}),[]);function wn(){if(!G||!me)return;const Q=new URLSearchParams({community_id:String(G),exercise_id:String(me)});fetch(`/leaderboard_exercise_in_community?${Q.toString()}`,{credentials:"include"}).then(Se=>Se.json()).then(Se=>{Se?.success&&Array.isArray(Se.entries)?B(Se.entries.map(oe=>({username:oe.username,max:oe.max}))):B([])}).catch(()=>B([]))}return d.jsxs("div",{className:"min-h-screen bg-black text-white pt-14",children:[d.jsxs("div",{className:"max-w-3xl mx-auto px-3 pt-0 pb-4",children:[d.jsxs("div",{className:"flex gap-1 border-b border-white/10 mt-0 mb-2 overflow-x-auto no-scrollbar flex-nowrap",children:[d.jsx(cl,{active:e==="performance",onClick:()=>s("performance"),icon:"fa-chart-line",label:"Performance Tracking"}),d.jsx(cl,{active:e==="exercise",onClick:()=>s("exercise"),icon:"fa-dumbbell",label:"Exercise Management"}),d.jsx(cl,{active:e==="workouts",onClick:()=>s("workouts"),icon:"fa-calendar-alt",label:"Workouts"}),d.jsx(cl,{active:e==="leaderboard",onClick:()=>s("leaderboard"),icon:"fa-trophy",label:"Community Leaderboard"}),d.jsx(cl,{active:e==="generator",onClick:()=>s("generator"),icon:"fa-magic",label:"Workout Generator"})]}),e==="performance"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 mt-2",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 items-center p-3 border-b border-white/10",children:[d.jsx("div",{className:"font-semibold text-sm",children:"Progress Analytics"}),d.jsxs("select",{value:R,onChange:Q=>Y(Q.target.value?Number(Q.target.value):""),className:"bg-black border border-white/15 rounded-md px-2 py-1 text-sm",children:[d.jsx("option",{value:"",children:"Select Exercise"}),_.map(Q=>d.jsxs("option",{value:Q.id,children:[Q.name," (",Q.muscle_group,")"]},Q.id))]}),d.jsxs("select",{value:Z,onChange:Q=>ne(Q.target.value),className:"bg-black border border-white/15 rounded-md px-2 py-1 text-sm",children:[d.jsx("option",{value:"30",children:"Last 30 days"}),d.jsx("option",{value:"90",children:"Last 90 days"}),d.jsx("option",{value:"180",children:"Last 6 months"}),d.jsx("option",{value:"365",children:"Last year"}),d.jsx("option",{value:"all",children:"All time"})]}),d.jsx("button",{className:"ml-auto p-2 rounded-md hover:bg-white/5",title:"Share Progress",children:d.jsx("i",{className:"fa-solid fa-share-nodes"})})]}),d.jsx("div",{className:"h-64 p-3",children:vn.labels.length?d.jsx(tM,{data:vn,options:et}):d.jsx("div",{className:"h-full flex items-center justify-center text-[#9fb0b5] text-sm",children:"Select an exercise to see progress"})})]}),d.jsx("div",{className:"space-y-2",children:Object.keys(We).length===0?d.jsx("div",{className:"text-[#9fb0b5] text-sm text-center py-4",children:"No exercises found. Add exercises to see your 1RM data here."}):Object.entries(We).map(([Q,Se])=>{const oe=Math.max(...Se.map(Ce=>(Ce.sets_data||[]).reduce((vt,Mt)=>Math.max(vt,Mt.weight||0),0))),fe=!!X[Q];return d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5",children:[d.jsxs("button",{className:"w-full p-3 flex items-center justify-between",onClick:()=>ie(Ce=>({...Ce,[Q]:!fe})),children:[d.jsx("div",{className:"font-semibold text-left",children:Q}),d.jsxs("div",{className:"text-xs text-[#9fb0b5]",children:[Se.length," exercises  Max ",oe>0?`${oe} kg`:"No data"]})]}),fe&&d.jsx("div",{className:"px-3 pb-3 space-y-2",children:Se.map(Ce=>{const vt=Ce.sets_data||[];let Mt=0,Ke;for(const Ye of vt){const Ze=Number(Ye.weight||0);Ze>=Mt&&(Mt=Ze,Ke=String(Ye.created_at||Ye.date||""))}return d.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-black/40 px-3 py-2",children:[d.jsx("div",{className:"font-medium",children:Ce.name}),d.jsxs("div",{className:"text-xs text-[#9fb0b5]",children:[Mt>0?`${Mt} kg`:"No data",Ke?`  ${fd(Ke)}`:""]})]},Ce.id)})})]},Q)})})]}),e==="exercise"&&d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 mt-2",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 items-center p-3 border-b border-white/10",children:[d.jsx("div",{className:"font-semibold text-sm",children:"Exercise Management"}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.jsx("button",{className:"w-8 h-8 rounded-md bg-[#4db6ac] text-black hover:brightness-110 flex items-center justify-center",onClick:$e,title:"Add Exercise",children:d.jsx("i",{className:"fa-solid fa-plus"})}),d.jsx("button",{className:"w-8 h-8 rounded-md bg-white/10 hover:bg-white/15 flex items-center justify-center",title:"Toggle All Groups",onClick:()=>{const Q=Object.keys(We);if(Q.some(oe=>X[oe]))ie({});else{const oe={};for(const fe of Q)oe[fe]=!0;ie(oe)}},children:d.jsx("i",{className:"fa-solid fa-eye-slash"})})]})]}),d.jsx("div",{className:"divide-y divide-white/10 text-[13px]",children:Object.keys(We).length===0?d.jsx("div",{className:"text-[#9fb0b5] text-sm px-3 py-3",children:"No exercises found."}):Object.entries(We).map(([Q,Se])=>d.jsxs("div",{className:"",children:[d.jsxs("button",{className:"w-full px-3 py-2 flex items-center justify-between hover:bg-white/5 text-left",onClick:()=>ie(oe=>({...oe,[Q]:!X[Q]})),title:"Toggle group",children:[d.jsx("div",{className:"font-medium text-sm",children:Q}),d.jsx("i",{className:`fa-solid ${X[Q]?"fa-chevron-down":"fa-chevron-right"} text-xs text-[#9fb0b5]`})]}),X[Q]&&d.jsx("div",{className:"pb-1",children:Se.map(oe=>{const fe={};for(const Ke of oe.sets_data||[]){const Ye=String(Ke.created_at||Ke.date||"").slice(0,10);if(!Ye)continue;const Ze=Number(Ke.weight||0);(!(Ye in fe)||Ze>fe[Ye])&&(fe[Ye]=Ze)}const vt=Object.keys(fe).sort().slice(-5);let Mt=!0;if(vt.length>=2){const Ke=fe[vt[0]];Mt=fe[vt[vt.length-1]]>=Ke}return d.jsxs("button",{className:"w-full pl-6 pr-3 py-1.5 flex items-center justify-between hover:bg-white/5 text-left",onClick:()=>{Y(oe.id),$(oe.name),ae(oe.id);const Ye=(oe.sets_data||[]).slice().sort((Ze,_n)=>String(_n.created_at||_n.date||"").localeCompare(String(Ze.created_at||Ze.date||""))).map(Ze=>({date:String(Ze.created_at||Ze.date||""),weight:Number(Ze.weight||0),reps:Number(Ze.reps||0)}));re(Ye),k(!0)},"aria-label":`View logs for ${oe.name}`,title:"View logs",children:[d.jsx("div",{className:"text-xs text-[#cfd8dc] truncate mr-2",children:oe.name}),d.jsx("i",{className:`fa-solid ${Mt?"fa-arrow-trend-up":"fa-arrow-trend-down"} text-xs`,style:{color:Mt?"#4db6ac":"#e53935"}})]},oe.id)})})]},Q))})]}),e==="workouts"&&d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 mt-2",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-white/10",children:[d.jsx("div",{className:"font-semibold text-sm",children:"Workouts"}),d.jsx("button",{type:"button",className:"w-8 h-8 p-0 rounded-md bg-[#4db6ac] text-black hover:brightness-110 flex items-center justify-center",title:"Create Workout",onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),xe(""),Be(new Date().toISOString().slice(0,10)),we(!0)},children:d.jsx("i",{className:"fa-solid fa-plus"})})]}),d.jsx("div",{className:"divide-y divide-white/10",children:C.length===0?d.jsx("div",{className:"px-3 py-3 text-[#9fb0b5] text-sm",children:"No workouts found."}):C.map(Q=>d.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium leading-tight",children:Q.name}),d.jsxs("div",{className:"text-xs text-[#9fb0b5]",children:[sM(Q.date),"  Exercises ",Q.exercise_count??0]})]}),d.jsx("button",{className:"p-2 rounded-md hover:bg-white/10",title:"Share",children:d.jsx("i",{className:"fa-solid fa-share-nodes"})})]},Q.id))})]}),e==="leaderboard"&&d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 mt-2",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-white/10",children:[d.jsx("div",{className:"font-semibold text-sm",children:"Community Leaderboard"}),d.jsx("button",{className:"w-8 h-8 p-0 rounded-md bg-white/10 hover:bg-white/15 flex items-center justify-center",onClick:wn,title:"Load Leaderboard",children:d.jsx("i",{className:"fa-solid fa-list-ol"})})]}),d.jsxs("div",{className:"p-3 flex flex-wrap items-center gap-2",children:[d.jsxs("select",{value:G,onChange:Q=>se(Q.target.value?Number(Q.target.value):""),className:"bg-black border border-white/15 rounded-md px-2 py-1 text-sm",children:[d.jsx("option",{value:"",children:"Select Community"}),E.map(Q=>d.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),d.jsxs("select",{value:me,onChange:Q=>pe(Q.target.value?Number(Q.target.value):""),className:"bg-black border border-white/15 rounded-md px-2 py-1 text-sm",children:[d.jsx("option",{value:"",children:"Select Exercise"}),D.map(Q=>d.jsxs("option",{value:Q.id,children:[Q.name," (",Q.muscle_group,")"]},Q.id))]})]}),d.jsx("div",{className:"divide-y divide-white/10",children:te.length===0?d.jsx("div",{className:"px-3 py-3 text-[#9fb0b5] text-sm",children:"No entries yet."}):te.map((Q,Se)=>d.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[d.jsxs("div",{className:"font-medium",children:["#",Se+1," ",Q.username]}),d.jsxs("div",{className:"text-[#9fb0b5]",children:[Q.max," kg"]})]},Se))})]}),e==="generator"&&d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 mt-2 p-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"font-semibold text-sm",children:"Workout Generator"}),d.jsx("button",{className:"px-3 py-2 rounded-md bg-[#4db6ac] text-black hover:brightness-110",onClick:()=>window.location.href="/workout_generator",children:"Open Generator"})]}),d.jsx("div",{className:"text-[#9fb0b5] text-sm mt-2",children:"Create personalized workout plans based on your goals."})]})]}),a&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:d.jsxs("div",{className:"w-[90%] max-w-md rounded-xl border border-white/10 bg-black p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"font-semibold",children:"Add New Exercise"}),d.jsx("button",{className:"p-2 rounded-md hover:bg-white/5",onClick:()=>l(!1),"aria-label":"Close",children:d.jsx("i",{className:"fa-solid fa-xmark"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-[#9fb0b5]",children:"Exercise Name"}),d.jsx("input",{value:o,onChange:Q=>c(Q.target.value),placeholder:"e.g., Bench Press",className:"mt-1 w-full px-3 py-2 rounded-md bg-black border border-white/15"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-[#9fb0b5]",children:"Muscle Group"}),d.jsxs("select",{value:f,onChange:Q=>h(Q.target.value),className:"mt-1 w-full px-3 py-2 rounded-md bg-black border border-white/15",children:[d.jsx("option",{value:"",children:"Select muscle group"}),d.jsx("option",{value:"Chest",children:"Chest"}),d.jsx("option",{value:"Back",children:"Back"}),d.jsx("option",{value:"Shoulders",children:"Shoulders"}),d.jsx("option",{value:"Biceps",children:"Biceps"}),d.jsx("option",{value:"Triceps",children:"Triceps"}),d.jsx("option",{value:"Legs",children:"Legs"}),d.jsx("option",{value:"Core",children:"Core"}),d.jsx("option",{value:"Glutes",children:"Glutes"}),d.jsx("option",{value:"Other",children:"Other"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-[#9fb0b5]",children:"Weight (kg)"}),d.jsx("input",{type:"number",step:"0.1",value:m,onChange:Q=>b(Q.target.value),placeholder:"e.g., 80",className:"mt-1 w-full px-3 py-2 rounded-md bg-black border border-white/15"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-[#9fb0b5]",children:"Reps"}),d.jsx("input",{type:"number",value:x,onChange:Q=>y(Q.target.value),placeholder:"e.g., 8",className:"mt-1 w-full px-3 py-2 rounded-md bg-black border border-white/15"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-[#9fb0b5]",children:"Date"}),d.jsx("input",{type:"date",max:new Date().toISOString().slice(0,10),value:v,onChange:Q=>j(Q.target.value),className:"mt-1 w-full px-3 py-2 rounded-md bg-black border border-white/15"})]}),d.jsxs("div",{className:"flex items-center justify-end gap-2 pt-1",children:[d.jsx("button",{className:"px-3 py-2 rounded-md bg-white/10 hover:bg-white/15",onClick:()=>l(!1),children:"Cancel"}),d.jsxs("button",{className:"px-3 py-2 rounded-md bg-[#4db6ac] text-black hover:brightness-110",onClick:Pe,children:[d.jsx("i",{className:"fa-solid fa-plus mr-2"}),"Add Exercise"]})]})]})]})}),le&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:d.jsxs("div",{className:"w-[92%] max-w-md rounded-xl border border-white/10 bg-black p-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"font-semibold text-sm",children:P}),d.jsx("button",{className:"p-1.5 rounded-md hover:bg-white/5",onClick:()=>k(!1),"aria-label":"Close",children:d.jsx("i",{className:"fa-solid fa-xmark"})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"pb-2 grid grid-cols-2 gap-3 items-center",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{className:"sr-only",children:"Weight (kg)"}),d.jsx("input",{type:"number",step:"0.1",value:at,onChange:Q=>Oe(Q.target.value),placeholder:"Weight (kg)",className:"block w-36 h-9 px-3 rounded-md bg-black border border-white/15 text-base focus:outline-none focus:ring-2 focus:ring-[#4db6ac] focus:border-[#4db6ac] focus:bg-teal-900/20"}),d.jsx("label",{className:"sr-only",children:"Sets"}),d.jsx("input",{type:"number",inputMode:"numeric",value:Bt,onChange:Q=>ts(Q.target.value),placeholder:"Sets",className:"block w-36 h-9 px-3 rounded-md bg-black border border-white/15 text-base focus:outline-none focus:ring-2 focus:ring-[#4db6ac] focus:border-[#4db6ac]"})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[d.jsx("label",{className:"sr-only",children:"Date"}),d.jsx("input",{type:"date",value:sn,max:new Date().toISOString().slice(0,10),onChange:Q=>ns(Q.target.value),className:"block w-40 h-9 px-0 bg-transparent border-0 outline-none focus:outline-none ring-0 text-sm text-center [text-align-last:center] appearance-none"}),d.jsx("button",{className:"w-8 h-8 p-0 rounded-md bg-[#4db6ac] text-black hover:brightness-110 flex items-center justify-center","aria-label":"Add entry",onClick:async()=>{if(!J||!at||!sn)return;const Q=Bt&&Number(Bt)>0?String(Number(Bt)):"1",Se=new URLSearchParams({exercise_id:String(J),weight:at,reps:Q,date:sn}),fe=await(await fetch("/log_weight_set",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Se})).json().catch(()=>null);if(fe?.success){const Ce=[{date:sn,weight:Number(at),reps:Number(Q)},...de];re(Ce),Oe(""),ts(""),ns(new Date().toISOString().slice(0,10))}else alert(fe?.error||"Failed to add entry")},children:d.jsx("i",{className:"fa-solid fa-plus text-xs"})})]})]}),de.length===0?d.jsx("div",{className:"text-sm text-[#9fb0b5]",children:"No logs yet."}):(()=>{const Q={};for(const oe of de){const fe=(oe.date||"").slice(0,7);Q[fe]||(Q[fe]=[]),Q[fe].push(oe)}const Se=Object.keys(Q).sort().reverse();return d.jsx("div",{className:"divide-y divide-white/10",children:Se.map(oe=>d.jsxs("div",{children:[d.jsx("div",{className:"py-1.5 px-1 flex items-center justify-between text-xs",children:d.jsx("div",{className:"font-medium",children:iM(oe)})}),d.jsx("div",{className:"py-0.5",children:Q[oe].map((fe,Ce)=>d.jsxs("div",{className:"py-0.5 flex items-center justify-between text-xs",children:[d.jsx("div",{children:fd(fe.date)}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-[#9fb0b5]",children:[fe.weight," kg  ",fe.reps]}),d.jsx("button",{className:"p-0.5 rounded hover:bg-white/5",title:"Edit",onClick:async()=>{const vt=prompt("New weight (kg):",String(fe.weight));if(!vt||!J)return;const Mt=new URLSearchParams({exercise_id:String(J),set_id:"",weight:vt}),Ye=await(await fetch("/edit_set",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt})).json().catch(()=>null);if(Ye?.success){const Ze=de.slice();Ze[Ce]={...fe,weight:Number(vt)},re(Ze)}else alert(Ye?.error||"Failed to edit entry")},children:d.jsx("i",{className:"fa-solid fa-pen"})}),d.jsx("button",{className:"p-0.5 rounded hover:bg-white/5",title:"Delete",onClick:async()=>{if(!confirm("Delete this entry?")||!J)return;const vt=new URLSearchParams({exercise_id:String(J),date:fe.date,weight:String(fe.weight),reps:String(fe.reps)}),Ke=await(await fetch("/delete_weight_entry",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:vt})).json().catch(()=>null);Ke?.success?re(de.filter((Ye,Ze)=>!(Ze===Ce&&Ye.date===fe.date&&Ye.weight===fe.weight&&Ye.reps===fe.reps))):alert(Ke?.error||"Failed to delete entry")},children:d.jsx("i",{className:"fa-solid fa-trash"})})]})]},Ce))})]},oe))})})()]})]})}),ee&&d.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/60",children:d.jsxs("div",{className:"w-[92%] max-w-md rounded-xl border border-white/10 bg-black p-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"font-semibold text-sm",children:"Create New Workout"}),d.jsx("button",{className:"p-1.5 rounded-md hover:bg-white/5",onClick:()=>we(!1),"aria-label":"Close",children:d.jsx("i",{className:"fa-solid fa-xmark"})})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-[#9fb0b5]",children:"Workout Name"}),d.jsx("input",{value:je,onChange:Q=>xe(Q.target.value),placeholder:"e.g., Push Day",className:"mt-1 w-full h-9 px-3 rounded-md bg-black border border-white/15 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-[#9fb0b5]",children:"Date"}),d.jsx("input",{type:"date",value:ye,max:new Date().toISOString().slice(0,10),onChange:Q=>Be(Q.target.value),className:"mt-1 w-48 h-9 px-3 rounded-md bg-black border border-white/15 text-sm text-center [text-align-last:center]"})]}),d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{className:"px-3 py-2 rounded-md bg-white/10 hover:bg-white/15",onClick:()=>we(!1),children:"Cancel"}),d.jsx("button",{className:"px-3 py-2 rounded-md bg-[#4db6ac] text-black hover:brightness-110",onClick:async()=>{if(!je||!ye)return;const Q=new URLSearchParams({name:je,date:ye}),oe=await(await fetch("/create_workout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q})).json().catch(()=>null);oe?.success?(we(!1),fetch("/get_workouts",{credentials:"include"}).then(fe=>fe.json()).then(fe=>{fe?.success&&T(fe.workouts||[])}).catch(()=>{})):alert(oe?.error||"Failed to create workout")},children:"Create"})]})]})]})})]})}function cl({active:n,onClick:e,icon:s,label:a}){return d.jsxs("button",{onClick:e,className:`px-2.5 py-1.5 rounded-t-md text-[13px] whitespace-nowrap ${n?"text-white border-b-2 border-[#4db6ac] bg-white/5":"text-[#9fb0b5] hover:text-white/90"}`,children:[d.jsx("i",{className:`fa-solid ${s} mr-2`}),a]})}function sM(n){if(!n)return"";try{return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return n}}function fd(n){if(!n)return"";try{const e=new Date(n);return`${e.toLocaleString("en-US",{month:"short"})} ${e.getDate()}`}catch{return n}}function iM(n){if(!n)return"";try{const[e,s]=n.split("-").map(Number);return new Date(e,(s||1)-1,1).toLocaleString("en-US",{month:"short",year:"numeric"})}catch{return n}}function aM(){const{setTitle:n}=Ht(),e=ut(),[s,a]=N.useState(!0),[l,o]=N.useState(!1);return N.useEffect(()=>{n("Your Sports")},[n]),N.useEffect(()=>{async function c(){try{if((await(await fetch("/api/check_gym_membership",{method:"GET",credentials:"include"})).json()).hasGymAccess)o(!0);else{e("/premium_dashboard");return}}catch(f){console.error("Error checking gym membership:",f),e("/premium_dashboard");return}a(!1)}c()},[e]),s?d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-[#0b0f10] text-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-[#4db6ac] rounded-full animate-spin mx-auto mb-4"}),d.jsx("div",{className:"text-[#9fb0b5]",children:"Checking access..."})]})}):l?d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-[#0b0f10] text-white overflow-auto",children:d.jsx("div",{className:"h-full flex items-center justify-center px-3",children:d.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full max-w-3xl",children:[d.jsx(Ii,{icon:"fa-dumbbell",title:"Gym",subtitle:"Workout generator and tracking",onClick:()=>location.assign("/workout_tracking")}),d.jsx(Ii,{icon:"fa-bolt",title:"Crossfit",subtitle:"WODs and lifts tracking",onClick:()=>location.assign("/crossfit")}),d.jsx(Ii,{icon:"fa-running",title:"Running",subtitle:"Coming soon",disabled:!0}),d.jsx(Ii,{icon:"fa-golf-ball",title:"Golf",subtitle:"Coming soon",disabled:!0}),d.jsx(Ii,{icon:"fa-table-tennis",title:"Tennis",subtitle:"Coming soon",disabled:!0}),d.jsx(Ii,{icon:"fa-bicycle",title:"Cycling",subtitle:"Coming soon",disabled:!0})]})})}):d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-[#0b0f10] text-white flex items-center justify-center px-4",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx("i",{className:"fas fa-lock text-4xl text-[#4db6ac] mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Restricted"}),d.jsx("p",{className:"text-[#9fb0b5] mb-6",children:"You must be a member of a gym community to access Your Sports."}),d.jsx("button",{onClick:()=>e("/premium_dashboard"),className:"px-6 py-2 bg-[#4db6ac] text-black rounded-lg font-medium hover:brightness-110",children:"Back to Dashboard"})]})})}function Ii({icon:n,title:e,subtitle:s,onClick:a,disabled:l}){const o="rounded-lg border border-white/10 p-4 w-full text-left transition-colors",c=l?" opacity-50 cursor-not-allowed":" hover:bg-white/5 cursor-pointer";return d.jsx("button",{className:o+c,onClick:l?void 0:a,disabled:l,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("i",{className:`fas ${n} mr-3`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold",children:e}),d.jsx("div",{className:"text-sm text-[#9fb0b5]",children:s})]}),!l&&d.jsx("i",{className:"fas fa-chevron-right ml-auto"})]})})}function lM(){const{setTitle:n}=Ht(),e=ut();N.useEffect(()=>{let _=!0;return(async()=>{try{const S=await fetch("/api/profile_me",{credentials:"include"});if(!_)return;if(S.ok){const C=await S.json();C&&C.username&&n(C.username)}}catch{}})(),()=>{_=!1}},[n]);const[s,a]=N.useState([]),[l,o]=N.useState(!0),[c,f]=N.useState("chats"),[h,m]=N.useState(null),[b,x]=N.useState(0),y=N.useRef(0),v=N.useRef(null);function j(_=!1){_||o(!0),fetch("/api/chat_threads",{credentials:"include"}).then(S=>S.json()).then(S=>{S?.success&&Array.isArray(S.threads)&&a(C=>{const T=C,E=S.threads;return T.length!==E.length||T.some((D,L)=>{const R=E[L];return!R||D.other_username!==R.other_username||D.last_message_text!==R.last_message_text||D.last_activity_time!==R.last_activity_time||(D.unread_count||0)!==(R.unread_count||0)})?E:T})}).catch(()=>{}).finally(()=>{_||o(!1)})}return N.useEffect(()=>{j(!1);const _=()=>{document.hidden||j(!0)};document.addEventListener("visibilitychange",_);const S=setInterval(()=>j(!0),5e3);return()=>{document.removeEventListener("visibilitychange",_),clearInterval(S)}},[]),d.jsxs("div",{className:"h-screen overflow-hidden bg-black text-white",children:[d.jsx("div",{className:"fixed left-0 right-0 top-14 h-10 bg-black/70 backdrop-blur z-40",children:d.jsxs("div",{className:"max-w-3xl mx-auto h-full flex items-center gap-2 px-2",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/5",onClick:()=>{window.history.length>1?e(-1):e("/home")},"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left"})}),d.jsxs("div",{className:"flex-1 h-full flex",children:[d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${c==="chats"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>f("chats"),children:[d.jsx("div",{className:"pt-2",children:"Chats"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${c==="chats"?"bg-[#4db6ac]":"bg-transparent"}`})]}),d.jsxs("button",{type:"button",className:`flex-1 text-center text-sm font-medium ${c==="new"?"text-white/95":"text-[#9fb0b5] hover:text-white/90"}`,onClick:()=>f("new"),children:[d.jsx("div",{className:"pt-2",children:"New Message"}),d.jsx("div",{className:`h-0.5 rounded-full w-16 mx-auto mt-1 ${c==="new"?"bg-[#4db6ac]":"bg-transparent"}`})]})]})]})}),d.jsx("div",{className:"max-w-3xl mx-auto pt-[70px] h-[calc(100vh-70px)] px-1 sm:px-3 pb-2 overflow-y-auto overscroll-contain",style:{WebkitOverflowScrolling:"touch"},children:c==="chats"?d.jsx("div",{className:"rounded-xl border border-white/10 bg-black divide-y divide-white/10",children:l?d.jsx("div",{className:"px-4 py-4 text-sm text-[#9fb0b5]",children:"Loading chats..."}):s.length===0?d.jsx("div",{className:"px-4 py-4 text-sm text-[#9fb0b5]",children:"No chats yet. Start a new one from the New Message tab."}):s.map(_=>{const S=v.current===_.other_username,C=S?Math.min(0,b):h===_.other_username?-72:0,T=S?"none":"transform 150ms ease-out",E=S?b<-10:h===_.other_username;return d.jsxs("div",{className:"relative w-full overflow-hidden",children:[d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-stretch pr-2",style:{opacity:E?1:0,pointerEvents:E?"auto":"none",transition:"opacity 150ms ease-out"},children:d.jsx("button",{type:"button",onClick:()=>{if(!confirm(`Delete chat with ${_.display_name||_.other_username}? This cannot be undone.`))return;const A=new URLSearchParams({other_username:_.other_username});fetch("/delete_chat_thread",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:A}).then(D=>D.json()).then(D=>{if(D?.success){a(L=>L.filter(R=>R.other_username!==_.other_username)),m(null);try{window.__header_do_poll&&window.__header_do_poll()}catch{}}}).catch(()=>{})},className:"my-1 h-[44px] w-[64px] rounded-md bg-red-500/20 text-red-300 hover:bg-red-500/30 flex items-center justify-center","aria-label":"Delete chat",children:d.jsx("i",{className:"fa-solid fa-trash"})})}),d.jsxs("button",{onClick:()=>{a(A=>A.map(D=>D.other_username===_.other_username?{...D,unread_count:0}:D));try{window.__header_do_poll&&window.__header_do_poll()}catch{}e(`/user_chat/chat/${encodeURIComponent(_.other_username)}`)},onTouchStart:A=>{y.current=A.touches[0].clientX,v.current=_.other_username,x(h===_.other_username?-72:0)},onTouchMove:A=>{if(v.current!==_.other_username)return;const D=A.touches[0].clientX-y.current;x(D)},onTouchEnd:()=>{if(v.current!==_.other_username)return;const A=b<=-60;m(A?_.other_username:null),x(0),v.current=null},onTouchCancel:()=>{v.current===_.other_username&&(x(0),v.current=null)},className:"w-full px-3 py-2 flex items-center gap-3 bg-transparent",style:{transform:`translateX(${C}px)`,transition:T},children:[d.jsx(nn,{username:_.other_username,url:_.profile_picture_url||void 0,size:48}),d.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"font-medium truncate",children:_.display_name}),_.last_activity_time&&d.jsx("div",{className:"ml-3 flex-shrink-0 text-[11px] text-[#9fb0b5]",children:new Date(_.last_activity_time).toLocaleDateString()})]}),d.jsx("div",{className:"text-[13px] text-[#9fb0b5] truncate",children:_.last_message_text?_.last_message_text:"Say hello"})]}),_.unread_count&&_.unread_count>0?d.jsx("div",{className:"ml-2 px-2 h-5 rounded-full bg-[#4db6ac] text-black text-[11px] flex items-center justify-center",children:_.unread_count>99?"99+":_.unread_count}):null]})]},_.other_username)})}):d.jsx(rM,{})})]})}function rM(){const[n,e]=N.useState([]),[s,a]=N.useState({}),[l,o]=N.useState({});N.useEffect(()=>{fetch("/get_user_communities",{credentials:"include"}).then(h=>h.json()).then(h=>{h?.success&&Array.isArray(h.communities)&&e(h.communities.map(m=>({id:m.id,name:m.name})))}).catch(()=>{})},[]);function c(h){return h?h.startsWith("http")||h.startsWith("/static")?h:`/static/${h}`:null}function f(h){if(a(m=>({...m,[h.id]:!m[h.id]})),!l[h.id]){const m=new URLSearchParams({community_id:String(h.id)});fetch("/get_community_members",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:m}).then(b=>b.json()).then(b=>{if(b?.success&&Array.isArray(b.members)){const x=b.members.map(y=>({username:y.username,profile_picture:y.profile_picture??null}));o(y=>({...y,[h.id]:x}))}}).catch(()=>{})}}return d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black",children:[d.jsx("div",{className:"p-3 border-b border-white/10 font-semibold text-[15px]",children:"Start a New Message"}),d.jsx("div",{className:"divide-y divide-white/10",children:n.map(h=>d.jsxs("div",{children:[d.jsxs("button",{className:"w-full px-3 py-2 text-left hover:bg-white/5 flex items-center justify-between text-[14px]",onClick:()=>f(h),children:[d.jsx("span",{className:"font-medium",children:h.name}),d.jsx("i",{className:`fa-solid ${s[h.id]?"fa-chevron-down":"fa-chevron-right"} text-xs text-[#9fb0b5]`})]}),s[h.id]&&d.jsx("div",{className:"px-3 py-2 space-y-1",children:(l[h.id]||[]).map((m,b)=>d.jsxs("a",{className:"block px-3 py-2 rounded-md hover:bg-white/5 flex items-center gap-2 text-[14px]",href:`/user_chat/chat/${encodeURIComponent(m.username)}`,children:[d.jsx(nn,{username:m.username,url:c(m.profile_picture)||void 0,size:32}),d.jsx("span",{className:"truncate",children:m.username})]},b))})]},h.id))})]})}function oM(){const{setTitle:n}=Ht();N.useEffect(()=>{n("New Message")},[n]);const[e,s]=N.useState([]),[a,l]=N.useState({}),[o,c]=N.useState({});N.useEffect(()=>{fetch("/get_user_communities",{credentials:"include"}).then(m=>m.json()).then(m=>{if(m?.success&&Array.isArray(m.communities)){const b=m.communities.map(x=>({id:x.id,name:x.name}));s(b)}}).catch(()=>{})},[]);function f(m){return m?m.startsWith("http")||m.startsWith("/static")?m:`/static/${m}`:null}function h(m){if(l(b=>({...b,[m.id]:!b[m.id]})),!o[m.id]){const b=new URLSearchParams({community_id:String(m.id)});fetch("/get_community_members",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:b}).then(x=>x.json()).then(x=>{if(x?.success&&Array.isArray(x.members)){const y=x.members.map(v=>({username:v.username,profile_picture:v.profile_picture??null}));c(v=>({...v,[m.id]:y}))}}).catch(()=>{})}}return d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-black text-white overflow-y-auto",children:d.jsx("div",{className:"max-w-3xl mx-auto px-3 py-3",children:d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black",children:[d.jsx("div",{className:"p-3 border-b border-white/10 font-semibold",children:"Select a Community"}),d.jsx("div",{className:"divide-y divide-white/10",children:e.map(m=>d.jsxs("div",{children:[d.jsxs("button",{className:"w-full px-3 py-2 text-left hover:bg-white/5 flex items-center justify-between",onClick:()=>h(m),children:[d.jsx("span",{className:"font-medium",children:m.name}),d.jsx("i",{className:`fa-solid ${a[m.id]?"fa-chevron-down":"fa-chevron-right"} text-xs text-[#9fb0b5]`})]}),a[m.id]&&d.jsx("div",{className:"px-3 py-2 space-y-1",children:(o[m.id]||[]).map((b,x)=>d.jsxs("a",{className:"block px-3 py-2 rounded-md hover:bg-white/5 flex items-center gap-2",href:`/user_chat/chat/${encodeURIComponent(b.username)}`,children:[d.jsx(nn,{username:b.username,url:f(b.profile_picture),size:32}),d.jsx("span",{className:"truncate",children:b.username})]},x))})]},m.id))})]})})})}function cM({src:n,alt:e,onClick:s,className:a=""}){const[l,o]=N.useState(!0),[c,f]=N.useState(!1),h=()=>{o(!1)},m=()=>{o(!1),f(!0)};return d.jsxs("div",{className:`relative bg-white/5 rounded-md overflow-hidden ${a}`,style:{minHeight:"120px"},onClick:s,children:[l&&!c&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-1 h-8 bg-white/20 rounded animate-pulse",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-1 h-6 bg-white/20 rounded animate-pulse",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-1 h-10 bg-white/20 rounded animate-pulse",style:{animationDelay:"300ms"}}),d.jsx("div",{className:"w-1 h-4 bg-white/20 rounded animate-pulse",style:{animationDelay:"450ms"}}),d.jsx("div",{className:"w-1 h-7 bg-white/20 rounded animate-pulse",style:{animationDelay:"600ms"}})]}),d.jsx("div",{className:"text-xs text-white/50",children:"Loading photo..."})]})}),c&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/5",children:d.jsxs("div",{className:"flex flex-col items-center gap-2 text-white/40",children:[d.jsx("i",{className:"fa-solid fa-image text-2xl"}),d.jsx("div",{className:"text-xs",children:"Photo unavailable"}),d.jsx("button",{className:"text-xs text-[#4db6ac] hover:text-[#45a99c] transition-colors",onClick:b=>{b.stopPropagation(),f(!1),o(!0);const x=new Image;x.onload=h,x.onerror=m,x.src=n+"?t="+Date.now()},children:"Retry"})]})}),d.jsx("img",{src:n,alt:e,className:`w-full h-full object-cover transition-all duration-500 ${l?"opacity-0 scale-105":"opacity-100 scale-100"}`,onLoad:h,onError:m,loading:"lazy",style:{display:c?"none":"block",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"}}),l&&!c&&d.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:d.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#4db6ac] rounded-full animate-pulse"})})})]})}function uM(){const{setTitle:n}=Ht(),{username:e}=Jn(),s=ut();N.useEffect(()=>{n(e?`Chat: ${e}`:"Chat")},[n,e]);const[a,l]=N.useState(""),[o,c]=N.useState([]),[f,h]=N.useState(""),[m,b]=N.useState(null),[x,y]=N.useState(!1),v=N.useRef(null),j=N.useRef(null),_=N.useMemo(()=>`chat_meta_${e||""}`,[e]),S=N.useRef({}),[C,T]=N.useState(null),[E,A]=N.useState(!1),D=N.useRef(null),L=N.useRef(null),[R,Y]=N.useState(""),[Z,ne]=N.useState(!1),G=N.useRef(null),[se,me]=N.useState(!1),pe=N.useRef(null),te=N.useRef(null),[B,X]=N.useState(null),ie=N.useRef(0),le=N.useRef(new Set);function k(ee){const we=new Date(ee),je=new Date,xe=new Date(je);xe.setDate(xe.getDate()-1);const ye=new Date(we.getFullYear(),we.getMonth(),we.getDate()),Be=new Date(je.getFullYear(),je.getMonth(),je.getDate()),$e=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate());return ye.getTime()===Be.getTime()?"Today":ye.getTime()===$e.getTime()?"Yesterday":Math.floor((Be.getTime()-ye.getTime())/864e5)<=6?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][we.getDay()]:we.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function P(ee){return new Date(ee).toDateString()}N.useEffect(()=>{e&&fetch("/api/get_user_id_by_username",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e})}).then(ee=>ee.json()).then(ee=>{if(ee?.success&&ee.user_id){l(ee.user_id);const we=new URLSearchParams({other_user_id:String(ee.user_id)});fetch("/get_messages",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:we}).then(je=>je.json()).then(je=>{if(je?.success&&Array.isArray(je.messages)){const xe=je.messages.map(ye=>{let Be=ye.text,$e;const Pe=Be.match(/^\[REPLY:([^:]+):([^\]]+)\]\n(.*)$/s);Pe&&($e=Pe[2],Be=Pe[3]);const We=`${ye.time}|${Be}|${ye.sent?"me":"other"}`,vn=S.current[We]||{};return{...ye,text:Be,reaction:vn.reaction,replySnippet:$e||vn.replySnippet,isOptimistic:!1}});c(xe),ie.current=Date.now()}}).catch(()=>{}),fetch(`/api/get_user_profile_brief?username=${encodeURIComponent(e)}`,{credentials:"include"}).then(je=>je.json()).then(je=>{je?.success&&T({display_name:je.display_name,profile_picture:je.profile_picture||null})}).catch(()=>{})}}).catch(()=>{})},[e]);const $=N.useRef(0),J=N.useRef(!1),[ae,de]=N.useState(!1);function re(){const ee=v.current;ee&&requestAnimationFrame(()=>requestAnimationFrame(()=>{ee.scrollTop=ee.scrollHeight}))}N.useEffect(()=>{const ee=v.current;if(ee){if(!J.current&&o.length>0){re(),J.current=!0,$.current=o.length;return}o.length>$.current&&(ee.scrollHeight-ee.scrollTop-ee.clientHeight<120?(re(),de(!1)):de(!0)),$.current=o.length}},[o]),N.useEffect(()=>{try{const ee=localStorage.getItem(_);ee&&(S.current=JSON.parse(ee)||{})}catch{}},[_]),N.useEffect(()=>{if(!e||!a)return;async function ee(){try{const we=new URLSearchParams({other_user_id:String(a)}),xe=await(await fetch("/get_messages",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:we})).json();xe?.success&&Array.isArray(xe.messages)&&c(ye=>{const Be=new Map;ye.forEach(et=>{!et.isOptimistic&&et.id&&Be.set(et.id,et)});const $e=ye.filter(et=>et.isOptimistic===!0),Pe=xe.messages.map(et=>{if(le.current.has(et.id))return null;const wn=Be.get(et.id);let Q=et.text,Se;const oe=Q.match(/^\[REPLY:([^:]+):([^\]]+)\]\n(.*)$/s);oe&&(Se=oe[2],Q=oe[3]);const fe=`${et.time}|${Q}|${et.sent?"me":"other"}`,Ce=S.current[fe]||{};return{...et,text:Q,reaction:wn?.reaction??Ce.reaction,replySnippet:Se||wn?.replySnippet||Ce.replySnippet,isOptimistic:!1}}).filter(Boolean),We=$e.filter(et=>{const wn=Pe.some(Se=>Se.sent===et.sent&&Se.text===et.text?Math.abs(new Date(Se.time).getTime()-new Date(et.time).getTime())<6e4:!1);return Date.now()-new Date(et.time).getTime()>12e4?!1:!wn});return[...Pe,...We].sort((et,wn)=>new Date(et.time).getTime()-new Date(wn.time).getTime())})}catch(we){console.error("Polling error:",we)}try{const je=await(await fetch(`/api/typing?peer=${encodeURIComponent(e)}`,{credentials:"include"})).json().catch(()=>null);A(!!je?.is_typing)}catch{}}return setTimeout(ee,500),L.current=setInterval(ee,3e3),()=>{L.current&&clearInterval(L.current)}},[e,a]);function at(){const ee=j.current;if(!ee)return;ee.style.height="auto";const we=160;ee.style.height=Math.min(ee.scrollHeight,we)+"px"}N.useEffect(()=>{at()},[]),N.useEffect(()=>{at()},[f]);function Oe(){if(!a||!f.trim()||x)return;const ee=f.trim(),we=new Date().toISOString().slice(0,19).replace("T"," "),je=`temp_${Date.now()}_${Math.random()}`,xe=m?m.text.length>90?m.text.slice(0,90)+"":m.text:void 0;let ye=ee;m&&(ye=`[REPLY:${m.sender}:${m.text.slice(0,90)}]
${ee}`);const Be={id:je,text:ee,sent:!0,time:we,replySnippet:xe,isOptimistic:!0};if(h(""),b(null),y(!0),c(Pe=>[...Pe,Be]),setTimeout(re,50),xe){const Pe=`${we}|${ee}|me`;S.current[Pe]={...S.current[Pe]||{},replySnippet:xe};try{localStorage.setItem(_,JSON.stringify(S.current))}catch{}}const $e=new URLSearchParams({recipient_id:String(a),message:ye});fetch("/send_message",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$e}).then(Pe=>Pe.json()).then(Pe=>{Pe?.success?fetch("/api/typing",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({peer:e,is_typing:!1})}).catch(()=>{}):(c(We=>We.filter(vn=>vn.id!==je)),h(ee),alert("Failed to send message. Please try again."))}).catch(()=>{c(Pe=>Pe.filter(We=>We.id!==je)),h(ee),alert("Network error. Please check your connection and try again.")}).finally(()=>y(!1))}function Bt(){me(!1),pe.current?.click()}function ts(){me(!1),te.current?.click()}function sn(ee){const we=ee.target.files?.[0];if(!we||!a)return;y(!0);const je=new FormData;je.append("photo",we),je.append("recipient_id",String(a)),je.append("message",""),fetch("/send_photo_message",{method:"POST",credentials:"include",body:je}).then(xe=>xe.json()).then(xe=>{if(xe?.success){const ye=new Date().toISOString().slice(0,19).replace("T"," "),Be={id:`temp_photo_${Date.now()}`,text:" Photo",image_path:xe.image_path,sent:!0,time:ye,isOptimistic:!0};c($e=>[...$e,Be]),ie.current=0,fetch("/api/typing",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({peer:e,is_typing:!1})}).catch(()=>{})}else alert("Failed to send photo: "+(xe.error||"Unknown error"))}).catch(()=>{alert("Error sending photo. Please try again.")}).finally(()=>y(!1)),ee.target.value=""}function ns(ee,we){if(!confirm("Are you sure you want to delete this message?"))return;le.current.add(ee),c(xe=>xe.filter(ye=>ye.id!==ee));const je=new URLSearchParams({message_id:String(ee)});fetch("/delete_message",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:je}).then(xe=>xe.json()).then(xe=>{xe?.success?setTimeout(()=>{le.current.delete(ee)},5e3):(le.current.delete(ee),c(ye=>ye.some($e=>$e.id===ee)?ye:[...ye,we].sort(($e,Pe)=>new Date($e.time).getTime()-new Date(Pe.time).getTime())),xe?.error?alert(xe.error==="Premium subscription required!"?"Premium subscription required to delete messages":`Failed to delete message: ${xe.error}`):alert("Failed to delete message"))}).catch(()=>{le.current.delete(ee),c(xe=>xe.some(Be=>Be.id===ee)?xe:[...xe,we].sort((Be,$e)=>new Date(Be.time).getTime()-new Date($e.time).getTime())),alert("Network error. Could not delete message.")})}return d.jsxs("div",{className:"bg-black text-white flex flex-col",style:{height:"100vh",minHeight:"100vh",maxHeight:"100vh",position:"fixed",top:0,left:0,right:0,bottom:0,paddingTop:"3.5rem"},children:[d.jsx("div",{className:"h-14 border-b border-white/10 flex items-center gap-3 px-4 flex-shrink-0",style:{backgroundColor:"rgb(0, 0, 0)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",zIndex:9999,position:"sticky",top:0,minHeight:"3.5rem",maxHeight:"3.5rem"},children:d.jsxs("div",{className:"max-w-3xl mx-auto w-full flex items-center gap-3",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>s("/user_chat"),"aria-label":"Back to Messages",children:d.jsx("i",{className:"fa-solid fa-arrow-left text-white"})}),d.jsx(nn,{username:e||"",url:C?.profile_picture||void 0,size:36}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold truncate text-white text-lg",children:C?.display_name||e||"Chat"}),d.jsx("div",{className:"text-sm text-[#4db6ac] font-medium",children:E?"typing...":"Online"})]}),d.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"More options",children:d.jsx("i",{className:"fa-solid fa-ellipsis-vertical text-white/70"})})]})}),R&&Z&&d.jsx("div",{className:"fixed left-1/2 z-50 pointer-events-none",style:{top:"7rem",transform:`translateX(-50%) translateY(${Z?"0":"-10px"})`,opacity:Z?1:0,transition:"all 0.3s ease-in-out"},children:d.jsx("div",{className:"bg-black/90 backdrop-blur-md px-4 py-2 rounded-full border border-white/20 text-sm text-white shadow-lg",children:R})}),d.jsxs("div",{ref:v,className:"flex-1 overflow-y-auto overscroll-contain px-3 py-2 space-y-1",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",paddingBottom:"1rem"},onScroll:ee=>{const we=ee.currentTarget;we.scrollHeight-we.scrollTop-we.clientHeight<120&&de(!1),ne(!0);const xe=we.querySelectorAll("[data-message-date]");let ye="";for(let Be=0;Be<xe.length;Be++){const $e=xe[Be],Pe=$e.getBoundingClientRect(),We=112;if(Pe.top>=We&&Pe.top<=We+100){ye=$e.getAttribute("data-message-date")||"";break}}ye&&Y(k(ye)),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{ne(!1)},1500)},children:[o.map((ee,we)=>{const je=P(ee.time),xe=we>0?P(o[we-1].time):null,ye=je!==xe;return d.jsxs("div",{children:[ye&&d.jsx("div",{className:"flex justify-center my-4",children:d.jsx("div",{className:"bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg text-xs text-white/70 border border-white/10",children:k(ee.time)})}),d.jsx("div",{"data-message-date":ee.time,children:d.jsx(dM,{onDelete:()=>ns(ee.id,ee),onReact:Be=>{c(Pe=>Pe.map(We=>We.id===ee.id?{...We,reaction:Be}:We));const $e=`${ee.time}|${ee.text}|${ee.sent?"me":"other"}`;S.current[$e]={...S.current[$e]||{},reaction:Be};try{localStorage.setItem(_,JSON.stringify(S.current))}catch{}},onReply:()=>{b({text:ee.text,sender:ee.sent?"You":C?.display_name||e||"User"}),j.current?.focus()},onCopy:()=>{try{navigator.clipboard&&navigator.clipboard.writeText(ee.text)}catch{}},children:d.jsx("div",{className:`flex ${ee.sent?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[70%] md:max-w-[70%] px-3 py-2 rounded-2xl text-[14px] leading-snug whitespace-pre-wrap break-words shadow-sm border ${ee.sent?"bg-[#075E54] text-white border-[#075E54]":"bg-[#1a1a1a] text-white border-white/10"} ${ee.sent?"rounded-br-md":"rounded-bl-md"} ${ee.isOptimistic?"opacity-70":"opacity-100"}`,style:{position:"relative",...ee.reaction?{paddingRight:"1.75rem",paddingBottom:"1.25rem"}:{}},children:[ee.replySnippet?d.jsxs("div",{className:"mb-2 px-2 py-1.5 rounded-lg bg-white/5 border-l-2 border-[#4db6ac]",children:[d.jsx("div",{className:"text-[11px] text-[#4db6ac] font-medium mb-0.5",children:ee.sent?"You":C?.display_name||e||"User"}),d.jsx("div",{className:"text-[12px] text-white/70 line-clamp-2",children:ee.replySnippet})]}):null,ee.image_path?d.jsx("div",{className:"mb-2",children:d.jsx(cM,{src:`/uploads/${ee.image_path}`,alt:"Shared photo",className:"max-w-full max-h-64 cursor-pointer",onClick:()=>{X(`/uploads/${ee.image_path}`)}})}):null,ee.text&&d.jsx("div",{children:ee.text}),d.jsx("div",{className:`text-[10px] mt-1 ${ee.sent?"text-white/70":"text-white/50"} text-right`,children:new Date(ee.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),ee.reaction?d.jsx("span",{className:"absolute bottom-0.5 right-1 text-base leading-none select-none z-10",children:ee.reaction}):null]})})})})]},ee.id)}),ae&&d.jsx("button",{className:"fixed bottom-24 right-4 z-50 w-10 h-10 rounded-full bg-[#4db6ac] text-black shadow-lg border border-[#4db6ac] hover:brightness-110 flex items-center justify-center",onClick:()=>{re(),de(!1)},"aria-label":"Scroll to latest",children:d.jsx("i",{className:"fa-solid fa-arrow-down"})})]}),d.jsxs("div",{className:"bg-black px-3 py-2 border-t border-white/10 flex-shrink-0 mb-4",children:[m&&d.jsxs("div",{className:"mb-2 px-3 py-2 bg-[#1a1a1a] rounded-lg border-l-4 border-[#4db6ac]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"text-[11px] text-[#4db6ac] font-semibold",children:["Replying to ",m.sender==="You"?"yourself":C?.display_name||e||"User"]}),d.jsx("button",{className:"text-white/50 hover:text-white/80 transition-colors",onClick:()=>b(null),children:d.jsx("i",{className:"fa-solid fa-xmark text-sm"})})]}),d.jsx("div",{className:"text-[13px] text-white/70 line-clamp-2",children:m.text.length>100?m.text.slice(0,100)+"":m.text})]}),d.jsxs("div",{className:"flex items-end gap-2 relative",children:[d.jsx("button",{className:"w-8 h-8 flex-shrink-0 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",onClick:()=>me(!se),children:d.jsx("i",{className:`fa-solid text-white/70 text-base transition-transform duration-200 ${se?"fa-times rotate-90":"fa-plus"}`})}),se&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>me(!1)}),d.jsxs("div",{className:"absolute bottom-10 left-0 z-50 bg-[#1a1a1a] border border-white/20 rounded-2xl shadow-xl overflow-hidden",children:[d.jsxs("button",{className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-white/5 transition-colors text-left",onClick:Bt,children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4db6ac]/20 flex items-center justify-center",children:d.jsx("i",{className:"fa-solid fa-image text-[#4db6ac]"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white font-medium",children:"Photos"}),d.jsx("div",{className:"text-white/60 text-xs",children:"Send from gallery"})]})]}),d.jsxs("button",{className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-white/5 transition-colors text-left",onClick:ts,children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-[#4db6ac]/20 flex items-center justify-center",children:d.jsx("i",{className:"fa-solid fa-camera text-[#4db6ac]"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white font-medium",children:"Camera"}),d.jsx("div",{className:"text-white/60 text-xs",children:"Take a photo"})]})]})]})]}),d.jsx("input",{ref:pe,type:"file",accept:"image/*",onChange:sn,className:"hidden"}),d.jsx("input",{ref:te,type:"file",accept:"image/*",capture:"environment",onChange:sn,className:"hidden"}),d.jsxs("div",{className:"flex-1 flex items-center bg-[#1a1a1a] rounded-3xl border border-white/20 overflow-hidden relative",children:[d.jsx("textarea",{ref:j,rows:1,className:"flex-1 bg-transparent px-4 py-2.5 text-[16px] text-white placeholder-white/50 outline-none resize-none max-h-24 min-h-[36px]",placeholder:"Message",value:f,onChange:ee=>{h(ee.target.value),fetch("/api/typing",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({peer:e,is_typing:!0})}).catch(()=>{}),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{fetch("/api/typing",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({peer:e,is_typing:!1})}).catch(()=>{})},1200)},onKeyDown:ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),f.trim()&&Oe())},onFocus:()=>{setTimeout(()=>{const ee=document.querySelector(".h-14.border-b");ee&&(ee.style.position="fixed",ee.style.top="3.5rem",ee.style.left="0",ee.style.right="0",ee.style.zIndex="10000",ee.style.backgroundColor="rgb(0, 0, 0)")},100)},onBlur:()=>{setTimeout(()=>{const ee=document.querySelector(".h-14.border-b");ee&&(ee.style.position="sticky",ee.style.top="0",ee.style.left="",ee.style.right="")},100)},style:{lineHeight:"1.4",scrollbarWidth:"none",msOverflowStyle:"none"}}),d.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center",children:d.jsx("button",{className:`w-7 h-7 rounded-full flex items-center justify-center transition-all duration-200 ease-out ${x?"bg-gray-600 text-gray-300 cursor-not-allowed":f.trim()?"bg-[#4db6ac] text-black hover:bg-[#45a99c] hover:scale-105 active:scale-95":"bg-white/20 text-white/70 cursor-not-allowed"}`,onClick:f.trim()?Oe:void 0,disabled:x||!f.trim(),"aria-label":"Send",style:{transform:"scale(1)",transition:"all 0.15s cubic-bezier(0.4, 0, 0.2, 1)"},children:x?d.jsx("i",{className:"fa-solid fa-spinner fa-spin text-xs"}):d.jsx("i",{className:"fa-solid fa-paper-plane text-xs"})})})]})]})]}),B&&d.jsxs("div",{className:"fixed inset-0 bg-black z-[9999] flex flex-col",onClick:()=>X(null),children:[d.jsxs("div",{className:"h-14 flex items-center px-4 flex-shrink-0",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>X(null),"aria-label":"Back to chat",children:d.jsx("i",{className:"fa-solid fa-arrow-left text-white text-lg"})}),d.jsx("div",{className:"flex-1 text-center",children:d.jsx("div",{className:"text-white font-medium",children:"Photo"})}),d.jsx("div",{className:"w-10"})," "]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-4",onClick:ee=>ee.stopPropagation(),children:d.jsx(xo,{src:B,alt:"Photo preview",className:"max-w-full max-h-full object-contain",style:{maxHeight:"calc(100vh - 8rem)"}})}),d.jsx("div",{className:"h-16 flex items-center justify-center px-4 flex-shrink-0",children:d.jsxs("button",{className:"px-4 py-2 border border-white/30 text-white rounded-lg hover:border-white/50 hover:bg-white/5 transition-colors text-sm flex items-center gap-2",onClick:()=>X(null),children:[d.jsx("i",{className:"fa-solid fa-arrow-left text-sm"}),"Back to Chat"]})})]})]})}function dM({children:n,onDelete:e,onReact:s,onReply:a,onCopy:l}){const[o,c]=N.useState(!1),[f,h]=N.useState(!1),m=N.useRef(null);function b(y){try{y&&y.preventDefault&&y.preventDefault()}catch{}h(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{c(!0),h(!1)},500)}function x(){h(!1),m.current&&clearTimeout(m.current)}return d.jsxs("div",{className:"relative select-none",style:{userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},children:[d.jsx("div",{className:`transition-opacity ${f?"opacity-70":"opacity-100"}`,onMouseDown:b,onMouseUp:x,onMouseLeave:x,onTouchStart:b,onTouchEnd:x,onContextMenu:y=>{y.preventDefault(),c(!0)},title:"Hold for options or right-click",children:n}),o&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),d.jsxs("div",{className:"absolute z-50 -top-12 right-2 bg-[#111] border border-white/15 rounded-lg shadow-xl px-2 py-2 min-w-[160px]",children:[d.jsx("div",{className:"flex items-center gap-2 px-2 pb-2 border-b border-white/10",children:["","","","",""].map(y=>d.jsx("button",{className:"text-lg",onClick:()=>{c(!1),s(y)},children:y},y))}),d.jsxs("div",{className:"pt-2 flex flex-col",children:[d.jsx("button",{className:"text-left px-2 py-1 text-sm hover:bg-white/5",onClick:()=>{c(!1),a()},children:"Reply"}),d.jsx("button",{className:"text-left px-2 py-1 text-sm hover:bg-white/5",onClick:()=>{c(!1),l()},children:"Copy"}),d.jsx("button",{className:"text-left px-2 py-1 text-sm text-red-400 hover:bg-white/5",onClick:()=>{c(!1),e()},children:"Delete"})]})]})]})]})}function qb(){const[n,e]=N.useState(null),[s,a]=N.useState(!0),[l,o]=N.useState(null),[c,f]=N.useState({display_name:"",bio:"",location:"",website:"",instagram:"",twitter:"",is_public:!0,role:"",company:"",industry:"",degree:"",school:"",skills:"",linkedin:"",experience:"",age:"",gender:"",country:"",city:""});return N.useEffect(()=>{let h=!0;async function m(){a(!0);try{const x=await(await fetch("/api/profile_me",{credentials:"include"})).json();if(!h)return;x?.success?(e(x.profile),f(y=>({...y,display_name:x.profile.display_name||"",bio:x.profile.bio||"",location:x.profile.location||"",website:x.profile.website||"",instagram:x.profile.instagram||"",twitter:x.profile.twitter||""}))):o(x?.error||"Error")}catch{h&&o("Error")}finally{h&&a(!1)}}return m(),()=>{h=!1}},[]),s?d.jsx("div",{className:"p-4 text-[#9fb0b5]",children:"Loading"}):l||!n?d.jsx("div",{className:"p-4 text-red-400",children:l||"Error"}):d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-black text-white overflow-y-auto",children:d.jsxs("div",{className:"max-w-2xl mx-auto p-3 space-y-3",children:[n.cover_photo?d.jsx("div",{className:"rounded-xl overflow-hidden border border-white/10",children:d.jsx("img",{src:n.cover_photo.startsWith("http")||n.cover_photo.startsWith("/static")?n.cover_photo:`/static/${n.cover_photo}`,alt:"",className:"w-full h-auto"})}):null,d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(nn,{username:n.username,url:n.profile_picture||void 0,size:56}),d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-semibold",children:n.display_name||n.username}),d.jsxs("div",{className:"text-sm text-[#9fb0b5]",children:["@",n.username,"  ",n.subscription||"free"]})]})]}),n.bio?d.jsx("div",{className:"text-sm whitespace-pre-wrap text-white/90",children:n.bio}):null,d.jsxs("div",{className:"rounded-xl border border-white/10 p-3",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Public Profile"}),d.jsxs("form",{onSubmit:async h=>{h.preventDefault();const m=new FormData;m.append("display_name",c.display_name),m.append("bio",c.bio),m.append("location",c.location),m.append("website",c.website),m.append("instagram",c.instagram),m.append("twitter",c.twitter),m.append("is_public",c.is_public?"on":"");const x=await(await fetch("/update_public_profile",{method:"POST",credentials:"include",body:m})).json().catch(()=>null);x?.success||alert(x?.error||"Error updating")},children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsxs("label",{className:"text-sm",children:["Display Name",d.jsx("input",{className:"mt-1 w-full rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",value:c.display_name,onChange:h=>f(m=>({...m,display_name:h.target.value}))})]}),d.jsxs("label",{className:"text-sm",children:["Location",d.jsx("input",{className:"mt-1 w-full rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",value:c.location,onChange:h=>f(m=>({...m,location:h.target.value}))})]}),d.jsxs("label",{className:"text-sm",children:["Website",d.jsx("input",{className:"mt-1 w-full rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",value:c.website,onChange:h=>f(m=>({...m,website:h.target.value}))})]}),d.jsxs("label",{className:"text-sm",children:["Instagram",d.jsx("input",{className:"mt-1 w-full rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",value:c.instagram,onChange:h=>f(m=>({...m,instagram:h.target.value}))})]}),d.jsxs("label",{className:"text-sm",children:["Twitter",d.jsx("input",{className:"mt-1 w-full rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",value:c.twitter,onChange:h=>f(m=>({...m,twitter:h.target.value}))})]})]}),d.jsxs("label",{className:"block text-sm mt-3",children:["Bio",d.jsx("textarea",{className:"mt-1 w-full rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",rows:3,value:c.bio,onChange:h=>f(m=>({...m,bio:h.target.value}))})]}),d.jsxs("label",{className:"inline-flex items-center gap-2 mt-2 text-sm",children:[d.jsx("input",{type:"checkbox",checked:c.is_public,onChange:h=>f(m=>({...m,is_public:h.target.checked}))})," Public"]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("button",{className:"px-3 py-1.5 rounded-md bg-[#4db6ac] text-black",children:"Update Public Profile"}),d.jsx("a",{className:"ml-3 text-sm text-[#9fb0b5] underline",href:`/profile/${n.username}`,children:"View Public Profile"})]})]})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 p-3",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Professional Information"}),d.jsxs("form",{onSubmit:async h=>{h.preventDefault();const m=new FormData;m.append("role",c.role),m.append("company",c.company),m.append("industry",c.industry),m.append("degree",c.degree),m.append("school",c.school),m.append("skills",c.skills),m.append("linkedin",c.linkedin),m.append("experience",c.experience);const x=await(await fetch("/update_professional",{method:"POST",credentials:"include",body:m})).json().catch(()=>null);x?.success||alert(x?.error||"Error updating")},children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Role",value:c.role,onChange:h=>f(m=>({...m,role:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Company",value:c.company,onChange:h=>f(m=>({...m,company:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Industry",value:c.industry,onChange:h=>f(m=>({...m,industry:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Degree",value:c.degree,onChange:h=>f(m=>({...m,degree:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"School",value:c.school,onChange:h=>f(m=>({...m,school:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Skills",value:c.skills,onChange:h=>f(m=>({...m,skills:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"LinkedIn",value:c.linkedin,onChange:h=>f(m=>({...m,linkedin:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Experience",value:c.experience,onChange:h=>f(m=>({...m,experience:h.target.value}))})]}),d.jsx("button",{className:"mt-3 px-3 py-1.5 rounded-md bg-[#4db6ac] text-black",children:"Save Professional Info"})]})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 p-3",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Personal Details"}),d.jsxs("form",{onSubmit:async h=>{h.preventDefault();const m=new FormData;m.append("age",c.age),m.append("gender",c.gender),m.append("country",c.country),m.append("city",c.city);const x=await(await fetch("/update_personal_info",{method:"POST",credentials:"include",body:m})).json().catch(()=>null);x?.success||alert(x?.error||"Error updating")},children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Age",value:c.age,onChange:h=>f(m=>({...m,age:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Gender",value:c.gender,onChange:h=>f(m=>({...m,gender:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"Country",value:c.country,onChange:h=>f(m=>({...m,country:h.target.value}))}),d.jsx("input",{className:"rounded-md bg-black text-white border border-white/10 px-2 py-1.5 text-[16px] outline-none focus:border-[#4db6ac] focus:ring-1 focus:ring-[#4db6ac]",placeholder:"City",value:c.city,onChange:h=>f(m=>({...m,city:h.target.value}))})]}),d.jsx("button",{className:"mt-3 px-3 py-1.5 rounded-md bg-[#4db6ac] text-black",children:"Save Personal Details"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[n.location?d.jsxs("div",{className:"text-[#9fb0b5]",children:[d.jsx("i",{className:"fa-solid fa-location-dot mr-2"}),n.location]}):null,n.website?d.jsxs("a",{className:"text-[#9fb0b5] hover:text-teal-300",href:n.website,target:"_blank",rel:"noreferrer",children:[d.jsx("i",{className:"fa-solid fa-link mr-2"}),n.website]}):null,n.instagram?d.jsxs("a",{className:"text-[#9fb0b5] hover:text-teal-300",href:`https://instagram.com/${n.instagram}`,target:"_blank",rel:"noreferrer",children:[d.jsx("i",{className:"fa-brands fa-instagram mr-2"}),"@",n.instagram]}):null,n.twitter?d.jsxs("a",{className:"text-[#9fb0b5] hover:text-teal-300",href:`https://x.com/${n.twitter}`,target:"_blank",rel:"noreferrer",children:[d.jsx("i",{className:"fa-brands fa-x-twitter mr-2"}),"@",n.twitter]}):null]})]})})}function Yb(){const{setTitle:n}=Ht(),e=ut(),[s,a]=N.useState(null),[l,o]=N.useState(!0),[c,f]=N.useState(!1),[h,m]=N.useState(null);N.useEffect(()=>{n("Account Settings")},[n]),N.useEffect(()=>{b()},[]);function b(){o(!0),fetch("/api/profile_me",{credentials:"include"}).then(v=>v.json()).then(v=>{v?.success&&v.profile?a(v.profile):m({type:"error",text:"Failed to load profile"})}).catch(()=>{m({type:"error",text:"Error loading profile"})}).finally(()=>o(!1))}function x(v){if(v.preventDefault(),!s)return;f(!0),m(null);const j=new FormData;Object.entries(s).forEach(([_,S])=>{S&&j.append(_,S)}),fetch("/update_public_profile",{method:"POST",credentials:"include",body:j}).then(_=>_.json()).then(_=>{_?.success?m({type:"success",text:"Profile updated successfully!"}):m({type:"error",text:_?.error||"Failed to update profile"})}).catch(()=>{m({type:"error",text:"Error updating profile"})}).finally(()=>f(!1))}function y(v,j){s&&a(_=>_?{..._,[v]:j}:null)}return l?d.jsx("div",{className:"h-screen bg-black text-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("i",{className:"fa-solid fa-spinner fa-spin text-2xl mb-4"}),d.jsx("div",{children:"Loading profile..."})]})}):s?d.jsxs("div",{className:"min-h-screen bg-black text-white",children:[d.jsxs("div",{className:"sticky top-14 bg-black/90 backdrop-blur border-b border-white/10 px-4 py-3 flex items-center gap-3",children:[d.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>e(-1),"aria-label":"Back",children:d.jsx("i",{className:"fa-solid fa-arrow-left text-white"})}),d.jsx("h1",{className:"text-lg font-semibold",children:"Account Settings"})]}),d.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[h&&d.jsx("div",{className:`mb-6 p-4 rounded-lg border ${h.type==="success"?"bg-green-500/10 border-green-500/30 text-green-400":"bg-red-500/10 border-red-500/30 text-red-400"}`,children:h.text}),d.jsxs("form",{onSubmit:x,className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Profile Picture"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 flex items-center justify-center overflow-hidden",children:s.profile_picture?d.jsx("img",{src:`/static/${s.profile_picture}`,alt:"Profile",className:"w-full h-full object-cover"}):d.jsx("i",{className:"fa-solid fa-user text-2xl text-white/50"})}),d.jsxs("div",{children:[d.jsx("button",{type:"button",className:"px-4 py-2 bg-[#4db6ac] text-black rounded-lg hover:bg-[#45a99c] transition-colors",children:"Change Photo"}),d.jsx("div",{className:"text-xs text-white/60 mt-1",children:"JPG, PNG up to 5MB"})]})]})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),d.jsx("input",{type:"text",value:s.username,disabled:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white/60 cursor-not-allowed"}),d.jsx("div",{className:"text-xs text-white/50 mt-1",children:"Username cannot be changed"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Display Name"}),d.jsx("input",{type:"text",value:s.display_name||"",onChange:v=>y("display_name",v.target.value),placeholder:"Your display name",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),d.jsx("input",{type:"email",value:s.email||"",onChange:v=>y("email",v.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),d.jsx("textarea",{value:s.bio||"",onChange:v=>y("bio",v.target.value),placeholder:"Tell us about yourself...",rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none resize-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),d.jsx("input",{type:"text",value:s.location||"",onChange:v=>y("location",v.target.value),placeholder:"City, Country",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none"})]})]})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Social Links"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Website"}),d.jsx("input",{type:"url",value:s.website||"",onChange:v=>y("website",v.target.value),placeholder:"https://yourwebsite.com",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Instagram"}),d.jsx("input",{type:"text",value:s.instagram||"",onChange:v=>y("instagram",v.target.value),placeholder:"@username",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Twitter"}),d.jsx("input",{type:"text",value:s.twitter||"",onChange:v=>y("twitter",v.target.value),placeholder:"@username",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-[#4db6ac] focus:outline-none"})]})]})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Account Information"}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subscription"}),d.jsx("div",{className:`px-4 py-3 rounded-lg border ${s.subscription==="premium"?"bg-[#4db6ac]/10 border-[#4db6ac]/30 text-[#4db6ac]":"bg-white/5 border-white/20 text-white/60"}`,children:s.subscription==="premium"?" Premium":" Free"})]})})]}),d.jsx("div",{className:"flex gap-3",children:d.jsx("button",{type:"submit",disabled:c,className:`flex-1 py-3 rounded-lg font-medium transition-colors ${c?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-[#4db6ac] text-black hover:bg-[#45a99c]"}`,children:c?d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-save mr-2"}),"Save Changes"]})})})]})]})]}):d.jsx("div",{className:"h-screen bg-black text-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("i",{className:"fa-solid fa-exclamation-triangle text-2xl mb-4 text-red-400"}),d.jsx("div",{children:"Failed to load profile"}),d.jsx("button",{className:"mt-4 px-4 py-2 bg-[#4db6ac] text-black rounded-lg hover:bg-[#45a99c]",onClick:b,children:"Try Again"})]})})}function Fb(){const n=ut(),[e,s]=N.useState({first_name:"",last_name:"",email:"",mobile:"",password:"",confirm_password:""}),[a,l]=N.useState(!1),[o,c]=N.useState(""),[f,h]=N.useState([]);function m(x,y){s(v=>({...v,[x]:y})),o&&c("")}function b(x){if(x.preventDefault(),c(""),console.log("Signup form submitted with data:",e),h(["Form submitted, validating..."]),!e.first_name.trim()){c("First name is required");return}if(!e.last_name.trim()){c("Last name is required");return}if(!e.email.trim()){c("Email is required");return}if(!e.password){c("Password is required");return}if(e.password!==e.confirm_password){c("Passwords do not match");return}if(e.password.length<6){c("Password must be at least 6 characters");return}l(!0);const y=new FormData;y.append("first_name",e.first_name),y.append("last_name",e.last_name),y.append("email",e.email),y.append("mobile",e.mobile),y.append("password",e.password),y.append("confirm_password",e.confirm_password),console.log("Sending signup request to /signup"),console.log("FormData contents:",Array.from(y.entries())),h(v=>[...v,"Sending request to server..."]),fetch("/signup",{method:"POST",credentials:"include",body:y}).then(async v=>{if(console.log("Signup response status:",v.status),console.log("Signup response headers:",v.headers),h(j=>[...j,`Response received: ${v.status}`]),v.ok)try{const j=await v.json();console.log("Signup JSON response:",j),j?.success?n(j.redirect||"/premium_dashboard"):c(j?.error||"Registration failed")}catch{console.log("Not JSON response, checking for redirect..."),v.redirected||v.status===302?n("/premium_dashboard"):c("Unexpected response format")}else try{const j=await v.json();c(j?.error||`Server error (${v.status})`)}catch{c(`Server error (${v.status})`)}}).catch(v=>{console.error("Signup fetch error:",v),h(j=>[...j,`Network error: ${v.message}`]),c(`Network error: ${v.message}`)}).finally(()=>l(!1))}return d.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Account"}),d.jsx("p",{className:"text-white/60 text-sm",children:"Join C.Point today"})]}),o&&d.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:o}),f.length>0&&d.jsxs("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg text-blue-400 text-xs",children:[d.jsx("div",{className:"font-medium mb-1",children:"Debug Info:"}),f.map((x,y)=>d.jsxs("div",{children:[" ",x]},y))]}),d.jsxs("form",{onSubmit:b,className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"First Name"}),d.jsx("input",{type:"text",value:e.first_name,onChange:x=>m("first_name",x.target.value),placeholder:"First",required:!0,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-sm text-white placeholder-white/50 focus:border-[#4db6ac] focus:outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Last Name"}),d.jsx("input",{type:"text",value:e.last_name,onChange:x=>m("last_name",x.target.value),placeholder:"Last",required:!0,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-sm text-white placeholder-white/50 focus:border-[#4db6ac] focus:outline-none transition-colors"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Email"}),d.jsx("input",{type:"email",value:e.email,onChange:x=>m("email",x.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-sm text-white placeholder-white/50 focus:border-[#4db6ac] focus:outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Mobile (Optional)"}),d.jsx("input",{type:"tel",value:e.mobile,onChange:x=>m("mobile",x.target.value),placeholder:"+1 (555) 123-4567",className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-sm text-white placeholder-white/50 focus:border-[#4db6ac] focus:outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Password"}),d.jsx("input",{type:"password",value:e.password,onChange:x=>m("password",x.target.value),placeholder:"",required:!0,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-sm text-white placeholder-white/50 focus:border-[#4db6ac] focus:outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Confirm Password"}),d.jsx("input",{type:"password",value:e.confirm_password,onChange:x=>m("confirm_password",x.target.value),placeholder:"",required:!0,className:"w-full px-3 py-2.5 bg-white/5 border border-white/20 rounded-lg text-sm text-white placeholder-white/50 focus:border-[#4db6ac] focus:outline-none transition-colors"})]}),d.jsx("button",{type:"submit",disabled:a,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-colors ${a?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-[#4db6ac] text-black hover:bg-[#45a99c]"}`,children:a?d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"Creating Account..."]}):"Create Account"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("p",{className:"text-white/60 text-xs",children:["Already have an account?"," ",d.jsx("button",{className:"text-[#4db6ac] hover:text-[#45a99c] transition-colors text-xs",onClick:()=>n("/"),children:"Sign in"})]})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("p",{className:"text-white/40 text-xs",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})})]})})}function fM(n){switch(n){case"reaction":return"fa-regular fa-heart";case"reply":return"fa-regular fa-comment";case"mention":return"fa-solid fa-at";case"follow":return"fa-solid fa-user-plus";case"poll_vote":return"fa-solid fa-square-poll-vertical";default:return"fa-regular fa-bell"}}function hM(n){if(!n)return"";const e=new Date(n),s=Math.floor((Date.now()-e.getTime())/1e3);return s<60?"just now":s<3600?Math.floor(s/60)+"m":s<86400?Math.floor(s/3600)+"h":s<604800?Math.floor(s/86400)+"d":e.toLocaleDateString()}function mM(){const{setTitle:n}=Ht(),e=ut(),[s,a]=N.useState(null),[l,o]=N.useState(!0);N.useEffect(()=>{n("Notifications")},[n]);async function c(){try{o(!0);const b=await(await fetch("/api/notifications?all=true",{credentials:"include"})).json();b?.success&&a(b.notifications)}finally{o(!1)}}N.useEffect(()=>{c()},[]);async function f(){await fetch("/api/notifications/mark-all-read",{method:"POST",credentials:"include"}),c()}async function h(m){fetch(`/api/notifications/${m.id}/read`,{method:"POST",credentials:"include"}).catch(()=>{});const b=m.link||(m.post_id?`/post/${m.post_id}`:m.community_id?`/community_feed_react/${m.community_id}`:"/notifications");(b.startsWith("http")||b.startsWith("/"))&&(b.startsWith("/post/")||b.startsWith("/community_feed_react/"))?e(b):window.location.href=b}return l||!s?d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-black text-white overflow-y-auto",children:d.jsx("div",{className:"max-w-xl mx-auto p-3 text-[#9fb0b5]",children:"Loading"})}):d.jsx("div",{className:"fixed inset-x-0 top-14 bottom-0 bg-black text-white overflow-y-auto",children:d.jsxs("div",{className:"max-w-xl mx-auto p-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/10 pb-2",children:[d.jsx("div",{className:"text-lg font-semibold",children:"Notifications"}),d.jsx("button",{onClick:f,className:"px-3 py-1.5 rounded-full text-sm border border-white/15 hover:border-[#4db6ac]",children:"Mark all read"})]}),s.length===0?d.jsxs("div",{className:"text-[#9fb0b5] py-10 text-center",children:[d.jsx("i",{className:"fa-regular fa-bell"}),d.jsx("div",{className:"mt-2",children:"No notifications"})]}):d.jsx("div",{className:"flex flex-col gap-2",children:s.map(m=>d.jsx("button",{onClick:()=>h(m),className:`text-left w-full px-3 py-2 rounded-lg border ${m.is_read?"border-white/10 bg-white/[0.03]":"border-[#4db6ac]/40 bg-[#4db6ac]/10"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("i",{className:`${fM(m.type)} text-[#4db6ac] mt-0.5`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm truncate",children:m.type==="event_invitation"?m.message||"Event invitation":d.jsxs(d.Fragment,{children:[d.jsxs("strong",{children:["@",m.from_user]})," ",m.type==="reaction"?"reacted to your post":m.type==="reply"?"replied to your post":"interacted with you"]})}),d.jsx("div",{className:"text-[11px] text-[#9fb0b5]",children:hM(m.created_at)})]})]})},m.id))})]})})}const pM=new uw;function gM(){const[n,e]=N.useState(""),[s,a]=N.useState({}),o=Tl().pathname==="/";return N.useEffect(()=>{async function c(){try{const h=await(await fetch("/api/home_timeline",{credentials:"include"})).json();h?.success&&a({username:h.username,avatarUrl:h.current_user_profile_picture})}catch{}}c()},[]),d.jsxs(cx.Provider,{value:{setTitle:e},children:[!o&&d.jsx(pw,{title:n,username:s.username,avatarUrl:s.avatarUrl}),d.jsx("div",{style:{paddingTop:o?0:"56px"},children:d.jsx(hw,{children:d.jsxs(L1,{children:[d.jsx(ze,{path:"/",element:d.jsx(dg,{})}),d.jsx(ze,{path:"/login",element:d.jsx(dg,{})}),d.jsx(ze,{path:"/signup",element:d.jsx(Fb,{})}),d.jsx(ze,{path:"/signup_react",element:d.jsx(Fb,{})}),d.jsx(ze,{path:"/premium",element:d.jsx(Xr,{})}),d.jsx(ze,{path:"/premium_dashboard",element:d.jsx(Xr,{})}),d.jsx(ze,{path:"/premium_dashboard_react",element:d.jsx(Xr,{})}),d.jsx(ze,{path:"/crossfit",element:d.jsx(Pb,{})}),d.jsx(ze,{path:"/crossfit_react",element:d.jsx(Pb,{})}),d.jsx(ze,{path:"/communities",element:d.jsx(G2,{})}),d.jsx(ze,{path:"/your_sports",element:d.jsx(aM,{})}),d.jsx(ze,{path:"/user_chat",element:d.jsx(lM,{})}),d.jsx(ze,{path:"/user_chat/new",element:d.jsx(oM,{})}),d.jsx(ze,{path:"/user_chat/chat/:username",element:d.jsx(uM,{})}),d.jsx(ze,{path:"/profile",element:d.jsx(qb,{})}),d.jsx(ze,{path:"/profile_react",element:d.jsx(qb,{})}),d.jsx(ze,{path:"/account_settings",element:d.jsx(Yb,{})}),d.jsx(ze,{path:"/account_settings_react",element:d.jsx(Yb,{})}),d.jsx(ze,{path:"/notifications",element:d.jsx(mM,{})}),d.jsx(ze,{path:"/home",element:d.jsx(W2,{})}),d.jsx(ze,{path:"/workout_tracking",element:d.jsx(nM,{})}),d.jsx(ze,{path:"/community_feed_react/:community_id",element:d.jsx(R2,{})}),d.jsx(ze,{path:"/community/:community_id/calendar_react",element:d.jsx(U2,{})}),d.jsx(ze,{path:"/community/:community_id/polls_react",element:d.jsx(P2,{})}),d.jsx(ze,{path:"/community/:community_id/resources_react",element:d.jsx(H2,{})}),d.jsx(ze,{path:"/community/:community_id/useful_links_react",element:d.jsx(V2,{})}),d.jsx(ze,{path:"/community/:community_id/members",element:d.jsx(F2,{})}),d.jsx(ze,{path:"/community/:community_id/edit",element:d.jsx(X2,{})}),d.jsx(ze,{path:"/post/:post_id",element:d.jsx(q2,{})}),d.jsx(ze,{path:"/compose",element:d.jsx(Y2,{})}),d.jsx(ze,{path:"*",element:d.jsx(Xr,{})})]})})})]})}function bM(){return d.jsx(fw,{client:pM,children:d.jsxs(H1,{children:[d.jsx(gw,{}),d.jsx(gM,{})]})})}Fv.createRoot(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(bM,{})}));
