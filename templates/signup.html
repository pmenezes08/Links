<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - C.Point</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}?v=5.0">
    <style>
        .signup-split { display: grid; grid-template-columns: 1fr 1fr; min-height: 100vh; }
        .signup-left { position: relative; background: #000; }
        .signup-left img { width: 100%; height: 100%; object-fit: cover; opacity: 0.85; }
        .signup-right { display: flex; align-items: center; justify-content: center; padding: 20px; }
        .signup-card { width: 100%; max-width: 420px; background: rgba(0,0,0,0.85); border: 1px solid #222; border-radius: 12px; padding: 18px; }
        .signup-card h1 { margin: 0 0 6px 0; font-size: 22px; }
        .signup-card .signup-subtitle { margin: 0 0 14px 0; color: #9fb0b5; }
        .form-group { margin-bottom: 10px; }
        .form-group label { display: block; margin-bottom: 6px; }
        .form-group input { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #333; background: #0a0a0a; color: #fff; }
        .form-actions { margin-top: 8px; display: flex; gap: 8px; justify-content: flex-end; }
        @media (max-width: 900px) { .signup-split { grid-template-columns: 1fr; } .signup-left { display: none; } }
    </style>
</head>
<body id="signupPage">
    <div class="signup-split">
        <div class="signup-left">
            <img src="{{ url_for('static', filename='signup_side.jpg') }}" alt="Welcome" onerror="this.onerror=null;this.src='{{ url_for('static', filename='logo.jpg') }}'">
        </div>
        <div class="signup-right">
            <div class="signup-card">
                <h1>Join C.Point</h1>
                <p class="signup-subtitle">Start your journey today</p>
                {% if error %}
                    <p class="error-message">{{ error }}</p>
                {% endif %}
                <form method="POST" action="/signup" id="signupForm">
                    <div class="form-group">
                        <label for="full_name">Full name *</label>
                        <input type="text" id="full_name" name="full_name" placeholder="Your full name" value="{{ full_name or '' }}" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" placeholder="your.email@example.com" value="{{ email or '' }}" required>
                    </div>
                    <div class="form-group">
                        <label for="mobile">Mobile (optional)</label>
                        <input type="text" id="mobile" name="mobile" placeholder="e.g. +44 7700 900123" value="{{ mobile or '' }}">
                    </div>
                    <div class="form-group">
                        <label for="password">Password *</label>
                        <input type="password" id="password" name="password" placeholder="Create a strong password" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm_password">Confirm Password *</label>
                        <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm your password" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="sleek-btn primary">Create Account</button>
                        <button type="button" onclick="location.href='/'" class="sleek-btn secondary">Cancel</button>
                    </div>
                </form>
                <div class="login-link" style="margin-top: 8px;">
                    <p>Already have an account? <a href="/">Login here</a></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Password confirmation validation
        document.addEventListener('DOMContentLoaded', function () {
            var confirmInput = document.getElementById('confirm_password');
            if (confirmInput) {
                confirmInput.addEventListener('input', function() {
                    var password = document.getElementById('password').value;
                    var confirmPassword = this.value;
                    this.setCustomValidity(password !== confirmPassword ? 'Passwords do not match' : '');
                });
            }
        });
    </script>
</body>
</html>