<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sign In - Workout X</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='apple-design.css') }}">
</head>
<body>
    <div class="page-container">
        <main class="main-content">
            <div class="container">
                <div class="flex flex-col items-center justify-center min-h-screen">
                    <!-- Logo/Brand -->
                    <div class="text-center mb-6">
                        <h1 class="font-bold mb-2">Workout X</h1>
                        <p class="text-secondary">Sign in to your account</p>
                    </div>

                    <!-- Login Form -->
                    <div class="card w-full max-w-md">
                        {% if error %}
                            <div class="alert alert-error mb-4">
                                {{ error }}
                            </div>
                        {% endif %}

                        <form method="POST" class="space-y-4">
                            {{ csrf_token() }}
                            
                            <div class="form-group">
                                <label for="username" class="form-label">Username</label>
                                <input 
                                    type="text" 
                                    id="username"
                                    name="username" 
                                    class="form-input" 
                                    placeholder="Enter your username" 
                                    required
                                    autocomplete="username"
                                >
                            </div>

                            <div class="form-group">
                                <label for="password" class="form-label">Password</label>
                                <input 
                                    type="password" 
                                    id="password"
                                    name="password" 
                                    class="form-input" 
                                    placeholder="Enter your password" 
                                    required
                                    autocomplete="current-password"
                                >
                            </div>

                            <button type="submit" class="btn btn-primary w-full">
                                Sign In
                            </button>
                        </form>

                        <div class="mt-6 text-center">
                            <a href="/" class="btn btn-secondary">
                                Back to Home
                            </a>
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="text-center mt-8">
                        <p class="text-tertiary text-sm">
                            Secure authentication powered by Workout X
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // Focus on username field on page load
            $('#username').focus();
            
            // Form submission handling
            $('form').on('submit', function() {
                const submitBtn = $(this).find('button[type="submit"]');
                submitBtn.prop('disabled', true).html('<span class="spinner"></span> Signing In...');
            });
            
            // Input focus effects
            $('.form-input').on('focus', function() {
                $(this).parent().addClass('focused');
            }).on('blur', function() {
                $(this).parent().removeClass('focused');
            });
        });
    </script>

    <style>
        /* Additional styles for login page */
        .space-y-4 > * + * {
            margin-top: var(--space-4);
        }
        
        .space-y-6 > * + * {
            margin-top: var(--space-6);
        }
        
        .max-w-md {
            max-width: 28rem;
        }
        
        .text-secondary {
            color: var(--text-secondary);
        }
        
        .text-tertiary {
            color: var(--text-tertiary);
        }
        
        .text-sm {
            font-size: var(--font-size-sm);
        }
        
        /* Enhanced focus states */
        .form-group.focused .form-label {
            color: var(--accent-blue);
        }
        
        /* Smooth transitions */
        .card {
            animation: fadeInUp 0.6s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Mobile optimizations */
        @media (max-width: 480px) {
            .card {
                margin: 0 var(--space-3);
            }
            
            h1 {
                font-size: var(--font-size-3xl);
            }
        }
    </style>
</body>
</html>